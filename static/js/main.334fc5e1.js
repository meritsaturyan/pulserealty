/*! For license information please see main.334fc5e1.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),o=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===L?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var O=Array.isArray,j=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},D=[],z=-1;function F(e){return{current:e}}function B(e){0>z||(e.current=D[z],D[z]=null,z--)}function U(e,t){z++,D[z]=e.current,e.current=t}var V=F(null),H=F(null),q=F(null),W=F(null);function K(e,t){switch(U(q,t),U(H,e),U(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(V),U(V,e)}function Z(){B(V),B(H),B(q)}function G(e){null!==e.memoizedState&&U(W,e);var t=V.current,n=oh(t,e.type);t!==n&&(U(H,e),U(V,n))}function $(e){H.current===e&&(B(V),B(H)),W.current===e&&(B(W),Gh._currentValue=M)}var Q=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ye(r):0!==(a&=s)?i=ye(a):n||0!==(n=s&~e)&&(i=ye(n)):0!==(s=r&~o)?i=ye(s):0!==a?i=ye(a):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ke(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Le=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Le,Oe="__reactProps$"+Le,je="__reactContainer$"+Le,Re="__reactEvents$"+Le,Me="__reactListeners$"+Le,De="__reactHandles$"+Le,ze="__reactResources$"+Le,Fe="__reactMarker$"+Le;function Be(e){delete e[Ne],delete e[Oe],delete e[Re],delete e[Me],delete e[De]}function Ue(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[je]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bh(e);null!==e;){if(n=e[Ne])return n;e=bh(e)}return t}n=(e=n).parentNode}return null}function Ve(e){if(e=e[Ne]||e[je]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function qe(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Fe]=!0}var Ke=new Set,Ze={};function Ge(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Qe,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(i=t,Q.call(et,i)||!Q.call(Je,i)&&(Xe.test(i)?et[i]=!0:(Je[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Ye}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?yt(e,a,ct(t)):null!=n?yt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(O(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Ot=null;function jt(e){var t=Ve(e);if(t&&(e=t.stateNode)){var n=e[Oe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Oe]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":_t(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Mt(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Nt||null!==Ot)&&(Uc(),Nt&&(t=Nt,e=Ot,Ot=Nt=null,jt(t),e)))for(t=0;t<e.length;t++)jt(e[t])}}function Dt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Oe]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Od){Ft=!1}var Ut=null,Vt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Vt,r=n.length,i="value"in Ut?Ut.value:Ut.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Zt(){return!1}function Gt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Zt,this.isPropagationStopped=Zt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var $t,Qt,Yt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Gt(Xt),en=d({},Xt,{view:0,detail:0}),tn=Gt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?($t=e.screenX-Yt.screenX,Qt=e.screenY-Yt.screenY):Qt=$t=0,Yt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Gt(nn),on=Gt(d({},nn,{dataTransfer:0})),an=Gt(d({},en,{relatedTarget:0})),sn=Gt(d({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(d({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(d({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Gt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Gt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Gt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),yn=Gt(d({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Gt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Gt(d({},Xt,{newState:0,oldState:0})),wn=[9,13,27,32],xn=zt&&"CompositionEvent"in window,Sn=null;zt&&"documentMode"in document&&(Sn=document.documentMode);var En=zt&&"TextEvent"in window&&!Sn,kn=zt&&(!xn||Sn&&8<Sn&&11>=Sn),Cn=String.fromCharCode(32),Tn=!1;function An(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function On(e,t,n,r){Nt?Ot?Ot.push(r):Ot=[r]:Nt=r,0<(t=qu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Rn=null;function Mn(e){Mu(e,0)}function Dn(e){if(dt(He(e)))return e}function zn(e,t){if("change"===e)return t}var Fn=!1;if(zt){var Bn;if(zt){var Un="oninput"in document;if(!Un){var Vn=document.createElement("div");Vn.setAttribute("oninput","return;"),Un="function"===typeof Vn.oninput}Bn=Un}else Bn=!1;Fn=Bn&&(!document.documentMode||9<document.documentMode)}function Hn(){jn&&(jn.detachEvent("onpropertychange",qn),Rn=jn=null)}function qn(e){if("value"===e.propertyName&&Dn(Rn)){var t=[];On(t,Rn,e,Lt(e)),Mt(Mn,t)}}function Wn(e,t,n){"focusin"===e?(Hn(),Rn=n,(jn=t).attachEvent("onpropertychange",qn)):"focusout"===e&&Hn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dn(Rn)}function Zn(e,t){if("click"===e)return Dn(t)}function Gn(e,t){if("input"===e||"change"===e)return Dn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q.call(t,i)||!$n(e[i],t[i]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=zt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Qn(or,r)||(or=r,0<(r=qu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}zt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),vr=dr("transitionstart"),yr=dr("transitioncancel"),br=dr("transitionend"),_r=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){_r.set(e,t),Ge(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var kr=[],Cr=0,Tr=0;function Ar(){for(var e=Cr,t=Tr=Cr=0;t<e;){var n=kr[t];kr[t++]=null;var r=kr[t];kr[t++]=null;var i=kr[t];kr[t++]=null;var o=kr[t];if(kr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Nr(n,i,o)}}function Pr(e,t,n,r){kr[Cr++]=e,kr[Cr++]=t,kr[Cr++]=n,kr[Cr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return Pr(e,t,n,r),Or(e)}function Lr(e,t){return Pr(e,null,null,t),Or(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Or(e){if(50<Nc)throw Nc=0,Oc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Rr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Rr(e,t,n,r)}function Dr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)Dr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Mr(31,n,t,i)).elementType=T,e.lanes=o,e;case g:return Ur(n.children,i,o,t);case v:s=8,i|=24;break;case y:return(e=Mr(12,n,t,2|i)).elementType=y,e.lanes=o,e;case S:return(e=Mr(13,n,t,i)).elementType=S,e.lanes=o,e;case E:return(e=Mr(19,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case _:s=9;break e;case x:s=11;break e;case k:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ur(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qr=[],Wr=0,Kr=null,Zr=0,Gr=[],$r=0,Qr=null,Yr=1,Xr="";function Jr(e,t){qr[Wr++]=Zr,qr[Wr++]=Kr,Kr=e,Zr=t}function ei(e,t,n){Gr[$r++]=Yr,Gr[$r++]=Xr,Gr[$r++]=Qr,Qr=e;var r=Yr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var o=32-fe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yr=1<<32-fe(t)+i|n<<i|r,Xr=o+e}else Yr=1<<o|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Jr(e,1),ei(e,1,0))}function ni(e){for(;e===Kr;)Kr=qr[--Wr],qr[Wr]=null,Zr=qr[--Wr],qr[Wr]=null;for(;e===Qr;)Qr=Gr[--$r],Gr[$r]=null,Xr=Gr[--$r],Gr[$r]=null,Yr=Gr[--$r],Gr[$r]=null}var ri=null,ii=null,oi=!1,ai=null,si=!1,li=Error(a(519));function ci(e){throw mi(Er(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Oe]=r,n){case"dialog":Du("cancel",t),Du("close",t);break;case"iframe":case"object":case"embed":Du("load",t);break;case"video":case"audio":for(n=0;n<ju.length;n++)Du(ju[n],t);break;case"source":Du("error",t);break;case"img":case"image":case"link":Du("error",t),Du("load",t);break;case"details":Du("toggle",t);break;case"input":Du("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Du("invalid",t);break;case"textarea":Du("invalid",t),wt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qu(t.textContent,n)?(null!=r.popover&&(Du("beforetoggle",t),Du("toggle",t)),null!=r.onScroll&&Du("scroll",t),null!=r.onScrollEnd&&Du("scrollend",t),null!=r.onClick&&(t.onclick=Yu),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!oi)return hi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fh(e.type)?(e=yh,yh=null,ii=e):ii=n):ii=ri?vh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,oi=!1}function pi(){var e=ai;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=F(null),vi=null,yi=null;function bi(e,t,n){U(gi,t._currentValue),t._currentValue=n}function _i(e){e._currentValue=gi.current,B(gi)}function wi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),wi(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),wi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;$n(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Gh):e=[Gh])}i=i.return}null!==e&&xi(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ki(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ci(e){return Ai(vi,e)}function Ti(e,t){return null===vi&&ki(e),Ai(e,t)}function Ai(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(a(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Pi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=r.unstable_scheduleCallback,Li=r.unstable_NormalPriority,Ni={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oi(){return{controller:new Pi,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Ii(Li,function(){e.controller.abort()})}var Ri=null,Mi=0,Di=0,zi=null;function Fi(){if(0===--Mi&&null!==Ri){null!==zi&&(zi.status="fulfilled");var e=Ri;Ri=null,Di=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=j.S;j.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ri){var n=Ri=[];Mi=0,Di=Pu(),zi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Fi,Fi)}(0,t),null!==Bi&&Bi(e,t)};var Ui=F(null);function Vi(){var e=Ui.current;return null!==e?e:rc.pooledCache}function Hi(e,t){U(Ui,null===t?Ui.current:t.pool)}function qi(){var e=Vi();return null===e?null:{parent:Ni._currentValue,pool:e}}var Wi=Error(a(460)),Ki=Error(a(474)),Zi=Error(a(542)),Gi={then:function(){}};function $i(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qi(){}function Yi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qi,Qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qi,Qi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Xi=t,Wi}}var Xi=null;function Ji(){if(null===Xi)throw Error(a(459));var e=Xi;return Xi=null,e}function eo(e){if(e===Wi||e===Zi)throw Error(a(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Nr(e,null,n),t}return Pr(e,r,t,n),Or(e)}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==zi)throw zi}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Di&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(v,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:to=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),fc|=a,e.lanes=a,e.memoizedState=h}}function ho(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function fo(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var po=F(null),mo=F(0);function go(e,t){U(mo,e=hc),U(po,t),hc=e|t.baseLanes}function vo(){U(mo,hc),U(po,po.current)}function yo(){hc=mo.current,B(po),B(mo)}var bo=0,_o=null,wo=null,xo=null,So=!1,Eo=!1,ko=!1,Co=0,To=0,Ao=null,Po=0;function Io(){throw Error(a(321))}function Lo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function No(e,t,n,r,i,o){return bo=o,_o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?Ka:Za,ko=!1,o=n(r,i),ko=!1,Eo&&(o=jo(t,n,r,i)),Oo(e),o}function Oo(e){j.H=Wa;var t=null!==wo&&null!==wo.next;if(bo=0,xo=wo=_o=null,So=!1,To=0,Ao=null,t)throw Error(a(300));null===e||Ts||null!==(e=e.dependencies)&&Ei(e)&&(Ts=!0)}function jo(e,t,n,r){_o=e;var i=0;do{if(Eo&&(Ao=null),To=0,Eo=!1,25<=i)throw Error(a(301));if(i+=1,xo=wo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}j.H=Ga,o=t(n,r)}while(Eo);return o}function Ro(){var e=j.H,t=e.useState()[0];return t="function"===typeof t.then?Uo(t):t,e=e.useState()[0],(null!==wo?wo.memoizedState:null)!==e&&(_o.flags|=1024),t}function Mo(){var e=0!==Co;return Co=0,e}function Do(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}bo=0,xo=wo=_o=null,Eo=!1,To=Co=0,Ao=null}function Fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?_o.memoizedState=xo=e:xo=xo.next=e,xo}function Bo(){if(null===wo){var e=_o.alternate;e=null!==e?e.memoizedState:null}else e=wo.next;var t=null===xo?_o.memoizedState:xo.next;if(null!==t)xo=t,wo=e;else{if(null===e){if(null===_o.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(wo=e).memoizedState,baseState:wo.baseState,baseQueue:wo.baseQueue,queue:wo.queue,next:null},null===xo?_o.memoizedState=xo=e:xo=xo.next=e}return xo}function Uo(e){var t=To;return To+=1,null===Ao&&(Ao=[]),e=Yi(Ao,e,t),t=_o,null===(null===xo?t.memoizedState:xo.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?Ka:Za),e}function Vo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Uo(e);if(e.$$typeof===w)return Ci(e)}throw Error(a(438,String(e)))}function Ho(e){var t=null,n=_o.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=_o.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function qo(e,t){return"function"===typeof t?t(e):t}function Wo(e){return Ko(Bo(),wo,e)}function Ko(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(bo&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Di&&(h=!0);else{if((bo&f)===f){u=u.next,f===Di&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=o):c=c.next=d,_o.lanes|=f,fc|=f}d=u.action,ko&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,_o.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!$n(o,e.memoizedState)&&(Ts=!0,h&&null!==(n=zi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Zo(e){var t=Bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);$n(o,t.memoizedState)||(Ts=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=_o,i=Bo(),o=oi;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!$n((wo||i).memoizedState,n);if(s&&(i.memoizedState=n,Ts=!0),i=i.queue,va(2048,8,Yo.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==xo&&1&xo.memoizedState.tag){if(r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Qo.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));o||0!==(124&bo)||$o(r,t,n)}return n}function $o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_o.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qo(e,t,n,r){t.value=n,t.getSnapshot=r,Xo(t)&&Jo(e)}function Yo(e,t,n){return n(function(){Xo(t)&&Jo(e)})}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function Jo(e){var t=Lr(e,2);null!==t&&Mc(t,e,2)}function ea(e){var t=Fo();if("function"===typeof e){var n=e;if(e=n(),ko){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,Ko(e,wo,"function"===typeof r?r:qo)}function na(e,t,n,r,i){if(Va(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==j.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ra(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ra(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=j.T,a={};j.T=a;try{var s=n(i,r),l=j.S;null!==l&&l(a,s),ia(e,t,s)}catch(c){aa(e,t,c)}finally{j.T=o}}else try{ia(e,t,o=n(i,r))}catch(u){aa(e,t,u)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){oa(e,t,n)},function(n){return aa(e,t,n)}):oa(e,t,n)}function oa(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=_o;if(oi){if(ii){t:{for(var i=ii,o=si;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=vh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=vh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Fo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=Fa.bind(null,_o,r),r.dispatch=n,r=ea(!1),o=Ua.bind(null,_o,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fo()).queue=i,n=na.bind(null,_o,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return ha(Bo(),wo,e)}function ha(e,t,n){if(t=Ko(e,t,la)[0],e=Wo(qo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Uo(t)}catch(a){if(a===Wi)throw Zi;throw a}else r=t;var i=(t=Bo()).queue,o=i.dispatch;return n!==t.memoizedState&&(_o.flags|=2048,pa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,o,e]}function da(e,t){e.action=t}function fa(e){var t=Bo(),n=wo;if(null!==n)return ha(t,n,e);Bo(),t=t.memoizedState;var r=(n=Bo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=_o.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_o.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return Bo().memoizedState}function ga(e,t,n,r){var i=Fo();r=void 0===r?null:r,_o.flags|=e,i.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function va(e,t,n,r){var i=Bo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==wo&&null!==r&&Lo(r,wo.memoizedState.deps)?i.memoizedState=pa(t,o,n,r):(_o.flags|=e,i.memoizedState=pa(1|t,o,n,r))}function ya(e,t){ga(8390656,8,e,t)}function ba(e,t){va(2048,8,e,t)}function _a(e,t){return va(4,2,e,t)}function wa(e,t){return va(4,4,e,t)}function xa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,va(4,4,xa.bind(null,t,e),n)}function Ea(){}function ka(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Lo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Lo(t,r[1]))return r[0];if(r=e(),ko){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Ta(e,t,n){return void 0===n||0!==(1073741824&bo)?e.memoizedState=t:(e.memoizedState=n,e=Rc(),_o.lanes|=e,fc|=e,n)}function Aa(e,t,n,r){return $n(n,t)?n:null!==po.current?(e=Ta(e,n,r),$n(e,t)||(Ts=!0),e):0===(42&bo)?(Ts=!0,e.memoizedState=n):(e=Rc(),_o.lanes|=e,fc|=e,t)}function Pa(e,t,n,r,i){var o=R.p;R.p=0!==o&&8>o?o:8;var a=j.T,s={};j.T=s,Ua(e,!1,t,n);try{var l=i(),c=j.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),jc());else Ba(e,t,r,jc())}catch(u){Ba(e,t,{then:function(){},status:"rejected",reason:u},jc())}finally{R.p=o,j.T=a}}function Ia(){}function La(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Na(e).queue;Pa(e,i,t,M,null===n?Ia:function(){return Oa(e),n(r)})}function Na(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Oa(e){Ba(e,Na(e).next.queue,{},jc())}function ja(){return Ci(Gh)}function Ra(){return Bo().memoizedState}function Ma(){return Bo().memoizedState}function Da(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=jc(),r=oo(t,e=io(n),n);return null!==r&&(Mc(r,t,n),ao(r,t,n)),t={cache:Oi()},void(e.payload=t)}t=t.return}}function za(e,t,n){var r=jc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Va(e)?Ha(t,n):null!==(n=Ir(e,t,n,r))&&(Mc(n,e,r),qa(n,t,r))}function Fa(e,t,n){Ba(e,t,n,jc())}function Ba(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Va(e))Ha(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,$n(s,a))return Pr(e,t,i,0),null===rc&&Ar(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Mc(n,e,r),qa(n,t,r),!0}return!1}function Ua(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Mc(t,e,2)}function Va(e){var t=e.alternate;return e===_o||null!==t&&t===_o}function Ha(e,t){Eo=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qa(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Wa={readContext:Ci,use:Vo,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useLayoutEffect:Io,useInsertionEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useSyncExternalStore:Io,useId:Io,useHostTransitionStatus:Io,useFormState:Io,useActionState:Io,useOptimistic:Io,useMemoCache:Io,useCacheRefresh:Io},Ka={readContext:Ci,use:Vo,useCallback:function(e,t){return Fo().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:ya,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=Fo();t=void 0===t?null:t;var r=e();if(ko){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fo();if(void 0!==n){var i=n(t);if(ko){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=za.bind(null,_o,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=Fa.bind(null,_o,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ea,useDeferredValue:function(e,t){return Ta(Fo(),e,t)},useTransition:function(){var e=ea(!1);return e=Pa.bind(null,_o,e.queue,!0,!1),Fo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=_o,i=Fo();if(oi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&oc)||$o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ya(Yo.bind(null,r,o,e),[e]),r.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Qo.bind(null,r,o,n,t),null),n},useId:function(){var e=Fo(),t=rc.identifierPrefix;if(oi){var n=Xr;t="\xab"+t+"R"+(n=(Yr&~(1<<32-fe(Yr)-1)).toString(32)+n),0<(n=Co++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Po++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:ja,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=Fo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ua.bind(null,_o,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ho,useCacheRefresh:function(){return Fo().memoizedState=Da.bind(null,_o)}},Za={readContext:Ci,use:Vo,useCallback:ka,useContext:Ci,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:_a,useLayoutEffect:wa,useMemo:Ca,useReducer:Wo,useRef:ma,useState:function(){return Wo(qo)},useDebugValue:Ea,useDeferredValue:function(e,t){return Aa(Bo(),wo.memoizedState,e,t)},useTransition:function(){var e=Wo(qo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Go,useId:Ra,useHostTransitionStatus:ja,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(Bo(),0,e,t)},useMemoCache:Ho,useCacheRefresh:Ma},Ga={readContext:Ci,use:Vo,useCallback:ka,useContext:Ci,useEffect:ba,useImperativeHandle:Sa,useInsertionEffect:_a,useLayoutEffect:wa,useMemo:Ca,useReducer:Zo,useRef:ma,useState:function(){return Zo(qo)},useDebugValue:Ea,useDeferredValue:function(e,t){var n=Bo();return null===wo?Ta(n,e,t):Aa(n,wo.memoizedState,e,t)},useTransition:function(){var e=Zo(qo)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Uo(e),t]},useSyncExternalStore:Go,useId:Ra,useHostTransitionStatus:ja,useFormState:fa,useActionState:fa,useOptimistic:function(e,t){var n=Bo();return null!==wo?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ho,useCacheRefresh:Ma},$a=null,Qa=0;function Ya(e){var t=Qa;return Qa+=1,null===$a&&($a=[]),Yi($a,e,t)}function Xa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&es(o)===t.type)?(Xa(t=i(t,n.props),n),t.return=e,t):(Xa(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xa(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case C:return d(e,t=(0,t._init)(t._payload),n)}if(O(t)||I(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Ya(t),n);if(t.$$typeof===w)return d(e,Ti(e,t),n);Ja(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case C:return f(e,t,n=(i=n._init)(n._payload),r)}if(O(n)||I(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Ya(n),r);if(n.$$typeof===w)return f(e,t,Ti(e,n),r);Ja(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(O(r)||I(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Ya(r),i);if(r.$$typeof===w)return v(e,t,n,Ti(t,r),i);Ja(t,r)}return null}function y(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&es(b)===c.type){n(l,c.sibling),Xa(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=Ur(u.props.children,l.mode,h,u.key)).return=l,l=h):(Xa(h=Br(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Hr(u,l.mode,h)).return=l,l=h}return s(l);case C:return y(l,c,u=(b=u._init)(u._payload),h)}if(O(u))return function(i,a,s,l){for(var c=null,u=null,h=a,p=a=0,m=null;null!==h&&p<s.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,s[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,p),null===u?c=g:u.sibling=g,u=g,h=m}if(p===s.length)return n(i,h),oi&&Jr(i,p),c;if(null===h){for(;p<s.length;p++)null!==(h=d(i,s[p],l))&&(a=o(h,a,p),null===u?c=h:u.sibling=h,u=h);return oi&&Jr(i,p),c}for(h=r(h);p<s.length;p++)null!==(m=v(h,i,p,s[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),a=o(m,a,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),oi&&Jr(i,p),c}(l,c,u,h);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,p=s,m=s=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),s=o(b,s,m),null===h?u=b:h.sibling=b,h=b,p=g}if(y.done)return n(i,p),oi&&Jr(i,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,m),null===h?u=y:h.sibling=y,h=y);return oi&&Jr(i,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,i,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?u=y:h.sibling=y,h=y);return e&&p.forEach(function(e){return t(i,e)}),oi&&Jr(i,m),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return y(l,c,Ya(u),h);if(u.$$typeof===w)return y(l,c,Ti(l,u),h);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Vr(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{Qa=0;var i=y(e,t,n,r);return $a=null,i}catch(a){if(a===Wi||a===Zi)throw a;var o=Mr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var ns=ts(!0),rs=ts(!1),is=F(null),os=null;function as(e){var t=e.alternate;U(us,1&us.current),U(is,e),null===os&&(null===t||null!==po.current||null!==t.memoizedState)&&(os=e)}function ss(e){if(22===e.tag){if(U(us,us.current),U(is,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else ls()}function ls(){U(us,us.current),U(is,is.current)}function cs(e){B(is),os===e&&(os=null),B(us)}var us=F(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ds(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),ao(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Mc(t,e,r),ao(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Mc(t,e,n),ao(t,e,n))}};function ps(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,o))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){vs(e)}function bs(e){console.error(e)}function _s(e){vs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xs(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ss(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function Es(e){return(e=io(e)).tag=3,e}function ks(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){xs(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){xs(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Cs=Error(a(461)),Ts=!1;function As(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ps(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return ki(t),r=No(e,t,n,a,o,i),s=Mo(),null===e||Ts?(oi&&s&&ti(t),t.flags|=1,As(e,t,r,i),t.child):(Do(e,t,i),$s(e,t,i))}function Is(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ls(e,t,o,r,i))}if(o=e.child,!Qs(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(a,r)&&e.ref===t.ref)return $s(e,t,i)}return t.flags|=1,(e=zr(o,r)).ref=t.ref,e.return=t,t.child=e}function Ls(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Qn(o,r)&&e.ref===t.ref){if(Ts=!1,t.pendingProps=r=o,!Qs(e,i))return t.lanes=e.lanes,$s(e,t,i);0!==(131072&e.flags)&&(Ts=!0)}}return Rs(e,t,n,r,i)}function Ns(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Os(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Os(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Hi(0,null!==o?o.cachePool:null),null!==o?go(t,o):vo(),ss(t)}else null!==o?(Hi(0,o.cachePool),go(t,o),ls(),t.memoizedState=null):(null!==e&&Hi(0,null),vo(),ls());return As(e,t,i,n),t.child}function Os(e,t,n,r){var i=Vi();return i=null===i?null:{parent:Ni._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Hi(0,null),vo(),ss(t),null!==e&&Si(e,t,r,!0),null}function js(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Rs(e,t,n,r,i){return ki(t),n=No(e,t,n,r,void 0,i),r=Mo(),null===e||Ts?(oi&&r&&ti(t),t.flags|=1,As(e,t,n,i),t.child):(Do(e,t,i),$s(e,t,i))}function Ms(e,t,n,r,i,o){return ki(t),t.updateQueue=null,n=jo(t,r,n,i),Oo(e),r=Mo(),null===e||Ts?(oi&&r&&ti(t),t.flags|=1,As(e,t,n,o),t.child):(Do(e,t,o),$s(e,t,o))}function Ds(e,t,n,r,i){if(ki(t),null===t.stateNode){var o=jr,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ci(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=fs,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ci(a):jr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ds(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&fs.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=gs(n,s);o.props=l;var c=o.context,u=n.contextType;a=jr,"object"===typeof u&&null!==u&&(a=Ci(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&ms(t,o,r,a),to=!1;var d=t.memoizedState;o.state=d,uo(t,r,o,i),co(),c=t.memoizedState,s||d!==c||to?("function"===typeof h&&(ds(t,n,h,r),c=t.memoizedState),(l=to||ps(t,n,l,r,d,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=gs(n,a=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=jr,"object"===typeof c&&null!==c&&(l=Ci(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ms(t,o,r,l),to=!1,d=t.memoizedState,o.state=d,uo(t,r,o,i),co();var f=t.memoizedState;a!==h||d!==f||to||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof s&&(ds(t,n,s,r),f=t.memoizedState),(u=to||ps(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,js(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):As(e,t,n,i),t.memoizedState=o.state,e=t.child):e=$s(e,t,i),e}function zs(e,t,n,r){return fi(),t.flags|=256,As(e,t,n,r),t.child}var Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(e){return{baseLanes:e,cachePool:qi()}}function Us(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Vs(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?as(t):ls(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=i.children,i=i.fallback,o?(ls(),c=qs({mode:"hidden",children:c},o=t.mode),i=Ur(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Bs(n),o.childLanes=Us(e,r,n),t.memoizedState=Fs,i):(as(t),Hs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=Ws(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),o=i.fallback,c=t.mode,i=qs({mode:"visible",children:i.children},c),(o=Ur(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=Bs(n),i.childLanes=Us(e,r,n),t.memoizedState=Fs,t=o);else if(as(t),gh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ws(e,t,n)}else if(Ts||Si(e,t,n,!1),r=0!==(n&e.childLanes),Ts||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ae(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Lr(e,i),Mc(r,e,i),Cs;"$?"===c.data||Zc(),t=Ws(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vh(c.nextSibling),ri=t,oi=!0,ai=null,si=!1,null!==e&&(Gr[$r++]=Yr,Gr[$r++]=Xr,Gr[$r++]=Qr,Yr=e.id,Xr=e.overflow,Qr=t),(t=Hs(t,i.children)).flags|=4096);return t}return o?(ls(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=zr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=zr(u,o):(o=Ur(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Bs(n):(null!==(l=c.cachePool)?(u=Ni._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=qi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Us(e,r,n),t.memoizedState=Fs,i):(as(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Hs(e,t){return(t=qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function qs(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ws(e,t,n){return ns(t,e.child,null,n),(e=Hs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ks(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),wi(e.return,t,n)}function Zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(As(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ks(e,n,t);else if(19===e.tag)Ks(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(us,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,o);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Ys(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ts=!0;else{if(!Qs(e,n)&&0===(128&t.flags))return Ts=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),bi(0,Ni,e.memoizedState.cache),fi();break;case 27:case 5:G(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(as(t),null!==(e=$s(e,t,n))?e.sibling:null);as(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:bi(0,Ni,e.memoizedState.cache)}return $s(e,t,n)}(e,t,n);Ts=0!==(131072&e.flags)}else Ts=!1,oi&&0!==(1048576&t.flags)&&ei(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===x){t.tag=11,t=Ps(null,t,r,e,n);break e}if(i===k){t.tag=14,t=Is(null,t,r,e,n);break e}}throw t=N(r)||r,Error(a(306,t,""))}Dr(r)?(e=gs(r,e),t.tag=1,t=Ds(null,t,r,e,n)):(t.tag=0,t=Rs(null,t,r,e,n))}return t;case 0:return Rs(e,t,t.type,t.pendingProps,n);case 1:return Ds(e,t,r=t.type,i=gs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bi(0,Ni,r),r!==o.cache&&xi(t,[Ni],n,!0),co(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=zs(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=zs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vh(e.firstChild),ri=t,oi=!0,ai=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=$s(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 26:return js(e,t),null===e?(n=Ah(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rh(q.current).createElement(n))[Ne]=t,r[Oe]=e,eh(r,n,e),We(r),t.stateNode=r):t.memoizedState=Ah(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&oi&&(r=t.stateNode=_h(t.type,t.pendingProps,q.current),ri=t,si=!0,i=ii,fh(t.type)?(yh=i,ii=vh(r.firstChild)):ii=i),As(e,t,t.pendingProps.children,n),js(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=vh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=vh(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),G(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,ah(i,o)?r=null:null!==s&&ah(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=No(e,t,Ro,null,null,n),Gh._currentValue=i),js(e,t),As(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vh(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Vs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):As(e,t,r,n),t.child;case 11:return Ps(e,t,t.type,t.pendingProps,n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),As(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ki(t),r=r(i=Ci(i)),t.flags|=1,As(e,t,r,n),t.child;case 14:return Is(e,t,t.type,t.pendingProps,n);case 15:return Ls(e,t,t.type,t.pendingProps,n);case 19:return Gs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=qs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return ki(t),r=Ci(Ni),null===e?(null===(i=Vi())&&(i=rc,o=Oi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),bi(0,Ni,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ni,r)):(r=o.cache,bi(0,Ni,r),r!==i.cache&&xi(t,[Ni],n,!0))),As(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Xs(e){e.flags|=4}function Js(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uh(t)){if(null!==(t=is.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Xi=Gi,Ki;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_i(Ni),Z(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Xs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xs(t),null!==n?(nl(t),Js(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xs(t),nl(t),Js(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xs(t),nl(t),t.flags&=-16777217),null;case 27:$(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=V.current,di(t)?ui(t):(e=_h(i,r,n),t.stateNode=e,Xs(t))}return nl(t),null;case 5:if($(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=V.current,di(t))ui(t);else{switch(i=rh(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Ne]=t,e[Oe]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=q.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qu(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ne]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return Z(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return _i(t.type),nl(t),null;case 19:if(B(us),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=hs(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return U(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>xc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,U(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),yo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Ui),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_i(Ni),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _i(Ni),Z(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(us),null;case 4:return Z(),null;case 10:return _i(t.type),null;case 22:case 23:return cs(t),yo(),null!==e&&B(Ui),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _i(Ni),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:_i(Ni),Z();break;case 26:case 27:case 5:$(t);break;case 4:Z();break;case 13:cs(t);break;case 19:B(us);break;case 10:_i(t.type);break;case 22:case 23:cs(t),yo(),null!==e&&B(Ui);break;case 24:_i(Ni)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fo(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":o=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&Xu(e,t,f,p,r,d)}}return void gt(e,s,l,c,u,h,o,i);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(o)||Xu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Xu(e,t,i,o,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Xu(e,t,s,i,r,o)}return void _t(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&Ju(e,t,v,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Ju(e,t,h,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Xu(e,t,y,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Xu(e,t,d,f,r,p)}(r,e.type,n,t),r[Oe]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Ne]=e,t[Oe]=n}catch(o){uu(e,e.return,o)}}var bl=!1,_l=!1,wl=!1,xl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),4&r&&al(5,n);break;case 1:if(Dl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Dl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fo(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Dl(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:Dl(e,n);break;case 13:Dl(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||_l,i=bl;var o=_l;bl=r,(_l=t)&&!o?Fl(e,n,0!==(8772&n.subtreeFlags)):Dl(e,n),bl=i,_l=o}break;case 30:break;default:Dl(e,n)}}function kl(e){var t=e.alternate;null!==t&&(e.alternate=null,kl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Tl=!1;function Al(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:_l||hl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:_l||hl(n,t);var r=Cl,i=Tl;fh(n.type)&&(Cl=n.stateNode,Tl=!1),Al(e,t,n),wh(n.stateNode),Cl=r,Tl=i;break;case 5:_l||hl(n,t);case 6:if(r=Cl,i=Tl,Cl=null,Al(e,t,n),Tl=i,null!==(Cl=r))if(Tl)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{Cl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==Cl&&(Tl?(ph(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Td(e)):ph(Cl,n.stateNode));break;case 4:r=Cl,i=Tl,Cl=n.stateNode.containerInfo,Tl=!0,Al(e,t,n),Cl=r,Tl=i;break;case 0:case 11:case 14:case 15:_l||sl(2,n,t),_l||sl(4,n,t),Al(e,t,n);break;case 1:_l||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:_l=(r=_l)||null!==n.memoizedState,Al(e,t,n),_l=r;break;default:Al(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Td(e)}catch(n){uu(t,t.return,n)}}function Ll(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){Cl=l.stateNode,Tl=!1;break e}break;case 5:Cl=l.stateNode,Tl=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===Cl)throw Error(a(160));Pl(o,s,i),Cl=null,Tl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)jl(t,e),t=t.sibling}var Ol=null;function jl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Rl(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Nl(t,e),Rl(e),512&r&&(_l||null===n||hl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ol;if(Nl(t,e),Rl(e),512&r&&(_l||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[Fe]||o[Ne]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),eh(o,r,n),o[Ne]=e,We(o),r=o;break e;case"link":var s=Fh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=Fh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Ne]=e,We(o),r=o}e.stateNode=r}else Bh(i,e.type,e.stateNode);else e.stateNode=jh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Bh(i,e.type,e.stateNode):jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Rl(e),512&r&&(_l||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Rl(e),512&r&&(_l||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(wl=!0);break;case 6:if(Nl(t,e),Rl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(zh=null,i=Ol,Ol=Eh(t.containerInfo),Nl(t,e),Ol=i,Rl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Td(t.containerInfo)}catch(p){uu(e,e.return,p)}wl&&(wl=!1,Ml(e));break;case 4:r=Ol,Ol=Eh(e.stateNode.containerInfo),Nl(t,e),Rl(e),Ol=r;break;case 12:default:Nl(t,e),Rl(e);break;case 13:Nl(t,e),Rl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ll(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,h=_l;if(bl=u||i,_l=h||c,Nl(t,e),_l=h,bl=u,Rl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||_l||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ll(e,n))));break;case 19:Nl(t,e),Rl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ll(e,r)));case 30:case 21:}}function Rl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(xt(o,""),n.flags&=-33),vl(e,ml(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),zl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),zl(t);break;case 27:wh(t.stateNode);case 26:case 5:hl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Fl(i,o,n),al(4,o);break;case 1:if(Fl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],s)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(o),ul(o,o.return);break;case 27:yl(o);case 26:case 5:Fl(i,o,n),n&&null===r&&4&a&&dl(o),ul(o,o.return);break;case 12:Fl(i,o,n);break;case 13:Fl(i,o,n),n&&4&a&&Il(i,o);break;case 22:null===o.memoizedState&&Fl(i,o,n),ul(o,o.return);break;case 30:break;default:Fl(i,o,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function Vl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Vl(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Vl(e,t,n,r);break;case 3:Vl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){Vl(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Vl(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?Vl(e,t,n,r):Wl(e,t):2&o._visibility?Vl(e,t,n,r):(o._visibility|=2,ql(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Bl(a,t);break;case 24:Vl(e,t,n,r),2048&i&&Ul(t.alternate,t)}}function ql(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:ql(o,a,s,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ql(o,a,s,l,i):Wl(o,a):(u._visibility|=2,ql(o,a,s,l,i)),i&&2048&c&&Bl(a.alternate,a);break;case 24:ql(o,a,s,l,i),i&&2048&c&&Ul(a.alternate,a);break;default:ql(o,a,s,l,i)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wl(n,r),2048&i&&Bl(r.alternate,r);break;case 24:Wl(n,r),2048&i&&Ul(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Zl(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:Zl(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Vh)throw Error(a(475));var r=Vh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ph(n.href),o=e.querySelector(Ih(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=qh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void We(o);o=e.ownerDocument||e,n=Lh(n),(i=xh.get(i))&&Mh(n,i),We(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=qh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ol,e.memoizedState,e.memoizedProps);break;case 5:default:Zl(e);break;case 3:case 4:var t=Ol;Ol=Eh(e.stateNode.containerInfo),Zl(e),Ol=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Zl(e),Kl=t):Zl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Ql(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Jl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,o=r.return;if(kl(r),r===n){Sl=null;break e}if(null!==i){i.return=o,Sl=i;break e}Sl=o}}}var ec={getCacheForType:function(e){var t=Ci(Ni),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=null,bc=null,_c=!1,wc=0,xc=1/0,Sc=null,Ec=null,kc=0,Cc=null,Tc=null,Ac=0,Pc=0,Ic=null,Lc=null,Nc=0,Oc=null;function jc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==j.T){return 0!==Di?Di:Pu()}return Ie()}function Rc(){0===gc&&(gc=0===(536870912&oc)||oi?xe():536870912);var e=is.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Hc(e,0),Bc(e,oc,gc,!1)),ke(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===dc&&Bc(e,oc,gc,!1)),xu(e))}function Dc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||_e(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Wc(),i=Kc();rc!==e||oc!==t?(Sc=null,xc=te()+500,Hc(e,t)):cc=_e(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var o=sc;t:switch(ac){case 1:ac=0,sc=null,Jc(e,t,o,1);break;case 2:case 9:if($i(o)){ac=0,sc=null,Xc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),xu(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:$i(o)?(ac=0,sc=null,Xc(t)):(ac=0,sc=null,Jc(e,t,o,7));break;case 5:var s=null;switch(ic.tag){case 26:s=ic.memoizedState;case 5:case 27:var l=ic;if(!s||Uh(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,sc=null,Jc(e,t,o,5);break;case 6:ac=0,sc=null,Jc(e,t,o,6);break;case 8:Vc(),dc=6;break e;default:throw Error(a(462))}}Qc();break}catch(h){qc(e,h)}return yi=vi=null,j.H=r,j.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Ar(),dc)}(e,t):Gc(e,t,!0),o=r;;){if(0===i){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!o||Fc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,s).flags|=256),2!==(s=Gc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,pc|=o,i=4;break e}o=bc,bc=i,null!==o&&(null===bc?bc=o:bc.push.apply(bc,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){Hc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=wc+300-te())){if(Bc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=lh(zc.bind(null,r,n,bc,Sc,_c,t,gc,pc,vc,lc,o,2,-0,0),i)}else zc(r,n,bc,Sc,_c,t,gc,pc,vc,lc,o,0,-0,0)}break}i=Gc(e,t,!1),o=!1}xu(e)}function zc(e,t,n,r,i,o,s,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Vh={stylesheets:null,count:0,unsuspend:Hh},Gl(t),null!==(d=function(){if(null===Vh)throw Error(a(475));var e=Vh;return e.stylesheets&&0===e.count&&Kh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,o,n,r,i,s,l,c,h,1,f,p)),void Bc(e,o,s,!u);nu(e,t,o,n,r,i,s,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$n(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-fe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Ce(e,n,t)}function Uc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Vc(){if(null!==ic){if(0===ac)var e=ic.return;else yi=vi=null,zo(e=ic),$a=null,Qa=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc(),rc=e,ic=n=zr(e.current,null),oc=t,ac=0,sc=null,lc=!1,cc=_e(e,t),uc=!1,vc=gc=mc=pc=fc=dc=0,bc=yc=null,_c=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,Ar(),n}function qc(e,t){_o=null,j.H=Wa,t===Wi||t===Zi?(t=Ji(),ac=3):t===Ki?(t=Ji(),ac=4):ac=t===Cs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ic&&(dc=1,ws(e,Er(t,e.current)))}function Wc(){var e=j.H;return j.H=Wa,null===e?Wa:e}function Kc(){var e=j.A;return j.A=ec,e}function Zc(){dc=4,lc||(4194048&oc)!==oc&&null!==is.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Bc(rc,oc,gc,!1)}function Gc(e,t,n){var r=nc;nc|=2;var i=Wc(),o=Kc();rc===e&&oc===t||(Sc=null,Hc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==ac&&null!==ic){var s=ic,l=sc;switch(ac){case 8:Vc(),a=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var c=ac;if(ac=0,sc=null,Jc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Jc(e,s,l,c)}}$c(),a=dc;break}catch(u){qc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=r,j.H=i,j.A=o,null===ic&&(rc=null,oc=0,Ar()),a}function $c(){for(;null!==ic;)Yc(ic)}function Qc(){for(;null!==ic&&!J();)Yc(ic)}function Yc(e){var t=Ys(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ms(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ms(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:zo(t);default:ol(n,t),t=Ys(n,t=ic=Fr(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e,t,n,r){yi=vi=null,zo(t),$a=null,Qa=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===os?Zc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Gi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),Zc(),!1}if(oi)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),so(e,i=Ss(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var o=Error(a(520),{cause:r});if(o=Er(o,n),null===yc?yc=[o]:yc.push(o),4!==dc&&(dc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,so(n,e=Ss(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Ec||!Ec.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,ks(i=Es(i),e,n,r),so(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return dc=1,ws(e,Er(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return dc=1,ws(e,Er(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==kc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-fe(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Ce(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Tr,s,l,c),e===rc&&(ic=rc=null,oc=0),Tc=t,Cc=e,Ac=n,Pc=o,Ic=i,Lc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=j.T,j.T=null,i=R.p,R.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++h===r&&(c=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(o=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=gs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=s,R.p=i,j.T=r}}kc=1,ru(),iu(),ou()}}function ru(){if(1===kc){kc=0;var e=Cc,t=Tc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=j.T,j.T=null;var r=R.p;R.p=2;var i=nc;nc|=4;try{jl(t,e);var o=nh,a=er(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Jn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var v=Xn(s,m),y=Xn(s,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=h.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(h=[],f=s;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var _=h[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}nd=!!th,nh=th=null}finally{nc=i,R.p=r,j.T=n}}e.current=t,kc=2}}function iu(){if(2===kc){kc=0;var e=Cc,t=Tc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=j.T,j.T=null;var r=R.p;R.p=2;var i=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=i,R.p=r,j.T=n}}kc=3}}function ou(){if(4===kc||3===kc){kc=0,ee();var e=Cc,t=Tc,n=Ac,r=Lc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?kc=5:(kc=0,Tc=Cc=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ec=null),Pe(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=j.T,i=R.p,R.p=2,j.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{j.T=t,R.p=i}}0!==(3&Ac)&&su(),xu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Oc?Nc++:(Nc=0,Oc=e):Nc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t)))}function su(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==kc)return!1;var e=Cc,t=Pc;Pc=0;var n=Pe(Ac),r=j.T,i=R.p;try{R.p=32>n?32:n,j.T=null,n=Ic,Ic=null;var o=Cc,s=Ac;if(kc=0,Tc=Cc=null,Ac=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Yl(o.current),Hl(o,o.current,s,n),nc=l,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{R.p=i,j.T=r,au(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=oo(e,t=Ss(e.stateNode,t,2),2))&&(ke(e,2),xu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=oo(t,n=Es(2),2))&&(ks(n,r,t,e),ke(r,2),xu(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===dc||3===dc&&(62914560&oc)===oc&&300>te()-wc?0===(2&nc)&&Hc(e,0):mc|=n,vc===oc&&(vc=0)),xu(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Lr(e,t))&&(ke(e,t),xu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,_u=!1,wu=0;function xu(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,hh(function(){0!==(6&nc)?Y(re,Eu):ku()}))}function Su(e,t){if(!_u&&bu){_u=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-fe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Au(r,o))}else o=oc,0===(3&(o=be(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,o)||(n=!0,Au(r,o));r=r.next}}while(n);_u=!1}}function Eu(){ku()}function ku(){bu=yu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sh&&(sh=e,!0);return sh=null,!1}()&&(e=wu),wu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=Cu(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&o))&&(bu=!0)),r=i}Su(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-fe(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=we(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=oc,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Pe(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=se}return r=Tu.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==kc&&5!==kc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Dc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Au(e,t){if(su())return null;Dc(e,t,!0)}function Pu(){return 0===wu&&(wu=xe()),wu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Lu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nu=0;Nu<wr.length;Nu++){var Ou=wr[Nu];xr(Ou.toLowerCase(),"on"+(Ou[0].toUpperCase()+Ou.slice(1)))}xr(fr,"onAnimationEnd"),xr(pr,"onAnimationIteration"),xr(mr,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(gr,"onTransitionRun"),xr(vr,"onTransitionStart"),xr(yr,"onTransitionCancel"),xr(br,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){vs(u)}i.currentTarget=null,o=l}}}}function Du(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var r=e+"__bubble";n.has(r)||(Uu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Uu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Fu]){e[Fu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Ru.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,zu("selectionchange",!1,t))}}function Uu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Ue(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Mt(function(){var r=o,i=Lt(n),a=[];e:{var s=_r.get(e);if(void 0!==s){var c=Jt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case fr:case pr:case mr:c=sn;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=_n}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==s?s+"Capture":null:s;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Dt(m,f))&&h.push(Hu(m,g,p)),d)break;m=m.return}0<h.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ue(u)&&!u[je])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ue(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?s:He(c),p=null==u?s:He(u),(s=new h(g,m+"leave",c,n,i)).target=d,s.relatedTarget=p,g=null,Ue(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Wu(p))m++;for(p=0,g=f;g;g=Wu(g))p++;for(;0<m-p;)h=Wu(h),m--;for(;0<p-m;)f=Wu(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Wu(h),f=Wu(f)}h=null}else h=null;null!==c&&Ku(a,s,c,h,!1),null!==u&&null!==d&&Ku(a,d,u,h,!0)}if("select"===(c=(s=r?He(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=zn;else if(Nn(s))if(Fn)v=Gn;else{v=Kn;var y=Wn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ct(r.elementType)&&(v=zn):v=Zn;switch(v&&(v=v(e,r))?On(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),y=r?He(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var b;if(xn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else In?An(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(kn&&"ko"!==n.locale&&(In||"onCompositionStart"!==_?"onCompositionEnd"===_&&In&&(b=qt()):(Vt="value"in(Ut=i)?Ut.value:Ut.textContent,In=!0)),0<(y=qu(r,_)).length&&(_=new cn(_,e,null,n,i),a.push({event:_,listeners:y}),b?_.data=b:null!==(b=Pn(n))&&(_.data=b))),(b=En?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(Tn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!xn&&An(e,t)?(e=qt(),Ht=Vt=Ut=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(_=qu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:y,listeners:_}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Iu((i[Oe]||null).action),a=r.submitter;a&&null!==(t=(t=a[Oe]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Jt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wu){var e=a?Lu(i,a):new FormData(i);La(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Lu(i,a):new FormData(i),La(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Mu(a,t)})}function Hu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Dt(e,n))&&r.unshift(Hu(e,i,o)),null!=(i=Dt(e,t))&&r.push(Hu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Dt(n,o))&&a.unshift(Hu(n,c,l)):i||null!=(c=Dt(n,o))&&a.push(Hu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function $u(e){return("string"===typeof e?e:""+e).replace(Zu,"\n").replace(Gu,"")}function Qu(e,t){return t=$u(t),$u(e)===t}function Yu(){}function Xu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||xt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&xt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":kt(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"onScroll":null!=r&&Du("scroll",e);break;case"onScrollEnd":null!=r&&Du("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Du("beforetoggle",e),Du("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Tt.get(n)||n,r)}}function Ju(e,t,n,r,i,o){switch(n){case"style":kt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?xt(e,r):("number"===typeof r||"bigint"===typeof r)&&xt(e,""+r);break;case"onScroll":null!=r&&Du("scroll",e);break;case"onScrollEnd":null!=r&&Du("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Oe]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Du("error",e),Du("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,r,s,n,null)}}return o&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Du("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Xu(e,t,i,h,n,null)}}return vt(e,r,l,c,u,s,o,!1),void ht(e);case"select":for(o in Du("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Xu(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Du("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Xu(e,t,s,l,n,null)}return wt(e,i,o,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Du("beforetoggle",e),Du("toggle",e),Du("cancel",e),Du("close",e);break;case"iframe":case"object":Du("load",e);break;case"video":case"audio":for(i=0;i<ju.length;i++)Du(ju[i],e);break;case"image":Du("error",e),Du("load",e);break;case"details":Du("toggle",e);break;case"embed":case"source":case"link":Du("error",e),Du("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Ct(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Ju(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout(function(){throw e})}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&wh(a.documentElement),2&n&&wh(a.body),4&n)for(wh(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Td(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Td(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yh=null;function bh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function _h(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function wh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var xh=new Map,Sh=new Set;function Eh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var kh=R.d;R.d={f:function(){var e=kh.f(),t=Uc();return e||t},r:function(e){var t=Ve(e);null!==t&&5===t.tag&&"form"===t.type?Oa(t):kh.r(e)},D:function(e){kh.D(e),Th("dns-prefetch",e,null)},C:function(e,t){kh.C(e,t),Th("preconnect",e,t)},L:function(e,t,n){kh.L(e,t,n);var r=Ch;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=Ph(e);break;case"script":o=Nh(e)}xh.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),xh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ih(o))||"script"===t&&r.querySelector(Oh(o))||(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){kh.m(e,t);var n=Ch;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Nh(e)}if(!xh.has(o)&&(e=d({rel:"modulepreload",href:e},t),xh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Oh(o)))return}eh(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){kh.X(e,t);var n=Ch;if(n&&e){var r=qe(n).hoistableScripts,i=Nh(e),o=r.get(i);o||((o=n.querySelector(Oh(i)))||(e=d({src:e,async:!0},t),(t=xh.get(i))&&Dh(e,t),We(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){kh.S(e,t,n);var r=Ch;if(r&&e){var i=qe(r).hoistableStyles,o=Ph(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Ih(o)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xh.get(o))&&Mh(e,n);var l=a=r.createElement("link");We(l),eh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Rh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){kh.M(e,t);var n=Ch;if(n&&e){var r=qe(n).hoistableScripts,i=Nh(e),o=r.get(i);o||((o=n.querySelector(Oh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=xh.get(i))&&Dh(e,t),We(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Ch="undefined"===typeof document?null:document;function Th(e,t,n){var r=Ch;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sh.has(i)||(Sh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Ah(e,t,n,r){var i,o,s,l,c=(c=q.current)?Eh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ph(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ph(n.href);var u=qe(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ih(e)))&&!u._p&&(h.instance=u,h.state.loading=5),xh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xh.set(e,n),u||(i=c,o=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),eh(o,"link",s),We(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nh(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ph(e){return'href="'+mt(e)+'"'}function Ih(e){return'link[rel="stylesheet"]['+e+"]"}function Lh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Nh(e){return'[src="'+mt(e)+'"]'}function Oh(e){return"script[async]"+e}function jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),Rh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ph(n.href);var o=e.querySelector(Ih(i));if(o)return t.state.loading|=4,t.instance=o,We(o),o;r=Lh(n),(i=xh.get(i))&&Mh(r,i),We(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",r),t.state.loading|=4,Rh(o,n.precedence,e),t.instance=o;case"script":return o=Nh(n.src),(i=e.querySelector(Oh(o)))?(t.instance=i,We(i),i):(r=n,(i=xh.get(o))&&Dh(r=d({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Rh(r,n.precedence,e));return t.instance}function Rh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Mh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Dh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zh=null;function Fh(e,t,n){if(null===zh){var r=new Map,i=zh=new Map;i.set(n,r)}else(r=(i=zh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Fe]||o[Ne]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Bh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Vh=null;function Hh(){}function qh(){if(this.count--,0===this.count)if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wh=null;function Kh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wh=new Map,t.forEach(Zh,e),Wh=null,qh.call(e))}function Zh(e,t){if(!(4&t.state.loading)){var n=Wh.get(e);if(n)var r=n.get(null);else{n=new Map,Wh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=qh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Gh={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function $h(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Qh(e,t,n,r,i,o,a,s,l,c,u,h){return e=new $h(e,t,n,a,s,l,c,h),t=1,!0===o&&(t|=24),o=Mr(3,null,null,t),e.current=o,o.stateNode=e,(t=Oi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Yh(e){return e?e=jr:jr}function Xh(e,t,n,r,i,o){i=Yh(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Mc(n,0,t),ao(n,e,t))}function Jh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Jh(e,t),(e=e.alternate)&&Jh(e,t)}function td(e){if(13===e.tag){var t=Lr(e,67108864);null!==t&&Mc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=j.T;j.T=null;var o=R.p;try{R.p=2,od(e,t,n,r)}finally{R.p=o,j.T=i}}function id(e,t,n,r){var i=j.T;j.T=null;var o=R.p;try{R.p=8,od(e,t,n,r)}finally{R.p=o,j.T=i}}function od(e,t,n,r){if(nd){var i=ad(r);if(null===i)Vu(e,t,r,sd,n),yd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=bd(hd,e,t,n,r,i),!0;case"dragenter":return dd=bd(dd,e,t,n,r,i),!0;case"mouseover":return fd=bd(fd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return pd.set(o,bd(pd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,md.set(o,bd(md.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(yd(e,r),4&t&&-1<vd.indexOf(e)){for(;null!==i;){var o=Ve(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ye(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-fe(a);s.entanglements[1]|=l,a&=~l}xu(o),0===(6&nc)&&(xc=te()+500,Su(0,!1))}}break;case 13:null!==(s=Lr(o,2))&&Mc(s,0,2),Uc(),ed(o,2)}if(null===(o=ad(r))&&Vu(e,t,r,sd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vu(e,t,r,null,n)}}function ad(e){return ld(e=Lt(e))}var sd=null;function ld(e){if(sd=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sd=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,md=new Map,gd=[],vd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function bd(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ve(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _d(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=jc();e=Ae(e);var t=Lr(n,e);null!==t&&Mc(t,0,e),ed(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=Ve(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function xd(e,t,n){wd(e)&&n.delete(t)}function Sd(){ud=!1,null!==hd&&wd(hd)&&(hd=null),null!==dd&&wd(dd)&&(dd=null),null!==fd&&wd(fd)&&(fd=null),pd.forEach(xd),md.forEach(xd)}function Ed(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sd)))}var kd=null;function Cd(e){kd!==e&&(kd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kd===e&&(kd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var o=Ve(n);null!==o&&(e.splice(t,3),t-=3,La(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Td(e){function t(t){return Ed(t,e)}null!==hd&&Ed(hd,e),null!==dd&&Ed(dd,e),null!==fd&&Ed(fd,e),pd.forEach(t),md.forEach(t);for(var n=0;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)_d(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Oe]||null;if("function"===typeof o)a||Cd(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Oe]||null)s=a.formAction;else if(null!==ld(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Cd(n)}}}function Ad(e){this._internalRoot=e}function Pd(e){this._internalRoot=e}Pd.prototype.render=Ad.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xh(t.current,jc(),e,t,null,null)},Pd.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xh(e.current,2,null,e,null,null),Uc(),t[je]=null}},Pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&_d(e)}};var Id=i.version;if("19.1.1"!==Id)throw Error(a(527,Id,"19.1.1"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Ld={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ue=Nd.inject(Ld),he=Nd}catch(jd){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=ys,o=bs,l=_s;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qh(e,1,!1,null,0,n,r,i,o,l,0,null),e[je]=t.current,Bu(e),new Ad(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=ys,l=bs,c=_s,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qh(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Yh(null),n=t.current,(i=io(r=Ae(r=jc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,ke(t,n),xu(t),e[je]=t.current,Bu(e),new Pd(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},228:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function s(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function l(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function h(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return h(e).split(/\s+/)}function f(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r})}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var S=window.requestAnimationFrame||_("RequestAnimationFrame")||x,E=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function k(e,t,n){if(!n||S!==x)return S.call(window,i(e,t));e.call(t)}function C(e){e&&E.call(window,e)}var T={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:h,splitWords:d,setOptions:f,getParamString:p,template:g,isArray:v,indexOf:y,emptyImageUrl:b,requestFn:S,cancelFn:E,requestAnimFrame:k,cancelAnimFrame:C};function A(){}function P(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}A.extend=function(e){var t=function(){f(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var a in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&n(t,e.statics),e.includes&&(P(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},A.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},A.mergeOptions=function(e){return n(this.prototype.options,e),this},A.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var I={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=d(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var N=A.extend(I);function O(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var j=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function R(e,t,n){return e instanceof O?e:v(e)?new O(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new O(e.x,e.y):new O(e,t,n)}function M(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function D(e,t){return!e||e instanceof M?e:new M(e,t)}function z(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function F(e,t){return e instanceof z?e:new z(e,t)}function B(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function U(e,t,n){return e instanceof B?e:v(e)&&"object"!==typeof e[0]?3===e.length?new B(e[0],e[1],e[2]):2===e.length?new B(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new B(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new B(e,t,n)}O.prototype={clone:function(){return new O(this.x,this.y)},add:function(e){return this.clone()._add(R(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(R(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new O(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new O(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=j(this.x),this.y=j(this.y),this},distanceTo:function(e){var t=(e=R(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=R(e)).x===this.x&&e.y===this.y},contains:function(e){return e=R(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},M.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof O||"number"===typeof e[0]||"x"in e)t=n=R(e);else if(t=(e=D(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof O?R(e):D(e))instanceof M?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return D(R(t.x-r,t.y-i),R(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=D(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},z.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof B)t=e,n=e;else{if(!(e instanceof z))return e?this.extend(U(e)||F(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new B(t.lat,t.lng),this._northEast=new B(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new z(new B(t.lat-r,t.lng-i),new B(n.lat+r,n.lng+i))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof B||"lat"in e?U(e):F(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof z?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=F(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=F(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=F(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},B.prototype={equals:function(e,t){return!!e&&(e=U(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return H.distance(this,U(e))},wrap:function(){return H.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return F([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new B(this.lat,this.lng,this.alt)}};var V={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new M(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new B(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new z(new B(o.lat-r,o.lng-i),new B(a.lat-r,a.lng-i))}},H=n({},V,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),q=6378137,W={R:q,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new O(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new B((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=q*Math.PI;return new M([-e,-e],[e,e])}()};function K(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function Z(e,t,n,r){return new K(e,t,n,r)}K.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new O((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G=n({},H,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return Z(e,.5,-e,.5)}()}),$=n({},G,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,i,o,a,s,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=t?Me.svg?"z":"x":""}return l||"M0 0"}var X=document.documentElement.style,J="ActiveXObject"in window,ee=J&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Re("webkit"),re=Re("android"),ie=Re("android 2")||Re("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&Re("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Re("chrome"),ce=Re("gecko")&&!ne&&!se&&!J,ue=!le&&Re("safari"),he=Re("phantom"),de="OTransition"in X,fe=0===navigator.platform.indexOf("Win"),pe=J&&"transition"in X,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in X,ve=!window.L_DISABLE_3D&&(pe||me||ge)&&!de&&!he,ye="undefined"!==typeof orientation||Re("mobile"),be=ye&&ne,_e=ye&&me,we=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!we),Se="ontouchstart"in window||!!window.TouchEvent,Ee=!window.L_NO_TOUCH&&(Se||xe),ke=ye&&se,Ce=ye&&ce,Te=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ae=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Pe=!!document.createElement("canvas").getContext,Ie=!(!document.createElementNS||!Q("svg").createSVGRect),Le=!!Ie&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Ne=!Ie&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Oe=0===navigator.platform.indexOf("Mac"),je=0===navigator.platform.indexOf("Linux");function Re(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Me={ie:J,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:le,gecko:ce,safari:ue,phantom:he,opera12:de,win:fe,ie3d:pe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:be,mobileWebkit3d:_e,msPointer:we,pointer:xe,touch:Ee,touchNative:Se,mobileOpera:ke,mobileGecko:Ce,retina:Te,passiveEvents:Ae,canvas:Pe,svg:Ie,vml:Ne,inlineSvg:Le,mac:Oe,linux:je},De=Me.msPointer?"MSPointerDown":"pointerdown",ze=Me.msPointer?"MSPointerMove":"pointermove",Fe=Me.msPointer?"MSPointerUp":"pointerup",Be=Me.msPointer?"MSPointerCancel":"pointercancel",Ue={touchstart:De,touchmove:ze,touchend:Fe,touchcancel:Be},Ve={touchstart:Xe,touchmove:Ye,touchend:Ye,touchcancel:Ye},He={},qe=!1;function We(e,t,n){return"touchstart"===t&&Qe(),Ve[t]?(n=Ve[t].bind(this,n),e.addEventListener(Ue[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ke(e,t,n){Ue[t]?e.removeEventListener(Ue[t],n,!1):console.warn("wrong event specified:",t)}function Ze(e){He[e.pointerId]=e}function Ge(e){He[e.pointerId]&&(He[e.pointerId]=e)}function $e(e){delete He[e.pointerId]}function Qe(){qe||(document.addEventListener(De,Ze,!0),document.addEventListener(ze,Ge,!0),document.addEventListener(Fe,$e,!0),document.addEventListener(Be,$e,!0),qe=!0)}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],He)t.touches.push(He[n]);t.changedTouches=[t],e(t)}}function Xe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Zt(t),Ye(e,t)}function Je(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=$t(e);if(!i.some(function(e){return e instanceof HTMLLabelElement&&e.attributes.for})||i.some(function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement})){var o=Date.now();o-r<=et?2===++n&&t(Je(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,ot,at,st,lt=kt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=kt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ht(e){return"string"===typeof e?document.getElementById(e):e}function dt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ft(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function pt(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function yt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=xt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function bt(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!yt(e,t)){var o=xt(e);wt(e,(o?o+" ":"")+t)}}function _t(e,t){void 0!==e.classList?e.classList.remove(t):wt(e,h((" "+xt(e)+" ").replace(" "+t+" "," ")))}function wt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function xt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function St(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Et(e,t)}function Et(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function kt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Ct(e,t,n){var r=t||new O(0,0);e.style[lt]=(Me.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Tt(e,t){e._leaflet_pos=t,Me.any3d?Ct(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function At(e){return e._leaflet_pos||new O(0,0)}if("onselectstart"in document)rt=function(){Dt(window,"selectstart",Zt)},it=function(){Ft(window,"selectstart",Zt)};else{var Pt=kt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Pt){var e=document.documentElement.style;ot=e[Pt],e[Pt]="none"}},it=function(){Pt&&(document.documentElement.style[Pt]=ot,ot=void 0)}}function It(){Dt(window,"dragstart",Zt)}function Lt(){Ft(window,"dragstart",Zt)}function Nt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Ot(),at=e,st=e.style.outlineStyle,e.style.outlineStyle="none",Dt(window,"keydown",Ot))}function Ot(){at&&(at.style.outlineStyle=st,at=void 0,st=void 0,Ft(window,"keydown",Ot))}function jt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Rt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Mt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:ht,getStyle:dt,create:ft,remove:pt,empty:mt,toFront:gt,toBack:vt,hasClass:yt,addClass:bt,removeClass:_t,setClass:wt,getClass:xt,setOpacity:St,testProp:kt,setTransform:Ct,setPosition:Tt,getPosition:At,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:It,enableImageDrag:Lt,preventOutline:Nt,restoreOutline:Ot,getSizedParentNode:jt,getScale:Rt};function Dt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Vt(e,i,t[i],n);else for(var o=0,a=(t=d(t)).length;o<a;o++)Vt(e,t[o],n,r);return this}var zt="_leaflet_events";function Ft(e,t,n,r){if(1===arguments.length)Bt(e),delete e[zt];else if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else if(t=d(t),2===arguments.length)Bt(e,function(e){return-1!==y(t,e)});else for(var o=0,a=t.length;o<a;o++)Ht(e,t[o],n,r);return this}function Bt(e,t){for(var n in e[zt]){var r=n.split(/\d/)[0];t&&!t(r)||Ht(e,r,null,null,n)}}var Ut={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vt(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[zt]&&e[zt][i])return this;var o=function(t){return n.call(r||e,t||window.event)},s=o;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?o=We(e,t,o):Me.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ut[t]||t,o,!!Me.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Jt(e,t)&&s(t)},e.addEventListener(Ut[t],o,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,o),e[zt]=e[zt]||{},e[zt][i]=o}function Ht(e,t,n,r,i){i=i||t+a(n)+(r?"_"+a(r):"");var o=e[zt]&&e[zt][i];if(!o)return this;!Me.touchNative&&Me.pointer&&0===t.indexOf("touch")?Ke(e,t,o):Me.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Ut[t]||t,o,!1):e.detachEvent("on"+t,o),e[zt][i]=null}function qt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Wt(e){return Vt(e,"wheel",qt),this}function Kt(e){return Dt(e,"mousedown touchstart dblclick contextmenu",qt),e._leaflet_disable_click=!0,this}function Zt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Gt(e){return Zt(e),qt(e),this}function $t(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Qt(e,t){if(!t)return new O(e.clientX,e.clientY);var n=Rt(t),r=n.boundingClientRect;return new O((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Yt=Me.linux&&Me.chrome?window.devicePixelRatio:Me.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xt(e){return Me.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Jt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Dt,off:Ft,stopPropagation:qt,disableScrollPropagation:Wt,disableClickPropagation:Kt,preventDefault:Zt,stop:Gt,getPropagationPath:$t,getMousePosition:Qt,getWheelDelta:Xt,isExternalTarget:Jt,addListener:Dt,removeListener:Ft},tn=N.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=At(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Tt(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=N.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=f(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(U(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&Me.any3d&&!Me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(U(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof O?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():F(e);var n=R(t.paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=F(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=R(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){bt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Me.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=U(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,t),c=i.distanceTo(r)||1,u=1.42,h=u*u;function d(e){var t=(l*l-s*s+(e?-1:1)*h*h*c*c)/(2*(e?l:s)*h*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function f(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return f(e)/p(e)}var g=d(0);function v(e){return s*(p(g)/p(g+u*e))}function y(e){return s*(p(g)*m(g+u*e)-f(g))/h}function b(e){return 1-Math.pow(1-e,1.5)}var _=Date.now(),w=(d(1)-g)/u,x=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-_)/x,o=b(n)*w;n<=1?(this._flyToFrame=k(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(y(o)/c)),a),this.getScaleZoom(s/v(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=F(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=R((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=R(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=D([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),u=s.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new B(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)pt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ft("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new z(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=F(e),n=R(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=D(this.project(s,r),this.project(a,r)).getSize(),u=Me.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,f=t?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(f,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new O(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new M(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(U(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(R(e),t)},layerPointToLatLng:function(e){var t=R(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(U(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(U(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(F(e))},distance:function(e,t){return this.options.crs.distance(U(e),U(t))},containerPointToLayerPoint:function(e){return R(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return R(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(R(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(e)))},mouseEventToContainerPoint:function(e){return Qt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ht(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Dt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Me.any3d,bt(e,"leaflet-container"+(Me.touch?" leaflet-touch":"")+(Me.retina?" leaflet-retina":"")+(Me.ielt9?" leaflet-oldie":"")+(Me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=dt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Tt(this._mapPane,new O(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(e.markerPane,"leaflet-zoom-hide"),bt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Tt(this._mapPane,new O(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Tt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Ft:Dt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Me.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!Jt(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Nt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===t&&Zt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(t,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return At(this._mapPane)||new O(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return D([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new M(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new M(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=D(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new O(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Me.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ft("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(e){var t=lt,n=this._proxy.style[t];Ct(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Ct(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(k(function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=A.extend({options:{position:"topright"},initialize:function(e){f(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return bt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ft("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=ft("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)pt(this._controlCorners[e]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in f(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ft("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Kt(t),Wt(t);var r=this._section=ft("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Dt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=ft("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Dt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Zt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ft("div",e+"-base",r),this._separator=ft("div",e+"-separator",r),this._overlaysList=ft("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i(function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Dt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Dt(e,"click",Zt),this.expand();var t=this;setTimeout(function(){Ft(e,"click",Zt),t._preventClick=!1})}}),ln=function(e,t,n){return new sn(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ft("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ft("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Kt(o),Dt(o,"click",Gt),Dt(o,"click",i,this),Dt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";_t(this._zoomInButton,t),_t(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(bt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(bt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))});var un=function(e){return new cn(e)},hn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ft("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ft("div",t,n)),e.imperial&&(this._iScale=ft("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new hn(e)},fn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Me.inlineSvg?fn+" ":"")+"Leaflet</a>"},initialize:function(e){f(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ft("div","leaflet-control-attribution"),Kt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook(function(){this.options.attributionControl&&(new pn).addTo(this)});var mn=function(e){return new pn(e)};on.Layers=sn,on.Zoom=cn,on.Scale=hn,on.Attribution=pn,an.layers=ln,an.zoom=un,an.scale=dn,an.attribution=mn;var gn=A.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:I},yn=Me.touch?"touchstart mousedown":"mousedown",bn=N.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){f(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Dt(this._dragStartTarget,yn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(bn._dragging===this&&this.finishDrag(!0),Ft(this._dragStartTarget,yn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!yt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)bn._dragging===this&&this.finishDrag();else if(!(bn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(bn._dragging=this,this._preventOutline&&Nt(this._element),It(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=jt(this._element);this._startPoint=new O(t.clientX,t.clientY),this._startPos=At(this._element),this._parentScale=Rt(n);var r="mousedown"===e.type;Dt(document,r?"mousemove":"touchmove",this._onMove,this),Dt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new O(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Zt(e),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Tt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ft(document,"mousemove touchmove",this._onMove,this),Ft(document,"mouseup touchend touchcancel",this._onUp,this),Lt(),it();var t=this._moved&&this._moving;this._moving=!1,bn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function _n(e,t,n){var r,i,o,a,s,l,c,u,h,d=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=On(e[i],t);for(a=0;a<4;a++){for(u=d[a],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)s=e[i],l=e[o],s._code&u?l._code&u||((h=Nn(l,s,u,t,n))._code=On(h,t),r.push(h)):(l._code&u&&((h=Nn(l,s,u,t,n))._code=On(h,t),r.push(h)),r.push(s));e=r}return e}function wn(e,t){var n,r,i,o,a,s,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=U([0,0]),d=F(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=xn(e));var f=e.length,p=[];for(n=0;n<f;n++){var m=U(e[n]);p.push(t.project(U([m.lat-h.lat,m.lng-h.lng])))}for(s=l=c=0,n=0,r=f-1;n<f;r=n++)i=p[n],o=p[r],a=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;u=0===s?p[0]:[l/s,c/s];var g=t.unproject(R(u));return U([g.lat+h.lat,g.lng+h.lng])}function xn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=U(e[i]);t+=o.lat,n+=o.lng,r++}return U([t/r,n/r])}var Sn,En={__proto__:null,clipPolygon:_n,polygonCenter:wn,centroid:xn};function kn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=An(e=In(e,n),n)}function Cn(e,t,n){return Math.sqrt(Rn(e,t,n,!0))}function Tn(e,t,n){return Rn(e,t,n)}function An(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,Pn(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function Pn(e,t,n,r,i){var o,a,s,l=0;for(a=r+1;a<=i-1;a++)(s=Rn(e[a],e[r],e[i],!0))>l&&(o=a,l=s);l>n&&(t[o]=1,Pn(e,t,n,r,o),Pn(e,t,n,o,i))}function In(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)jn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Ln(e,t,n,r,i){var o,a,s,l=r?Sn:On(e,n),c=On(t,n);for(Sn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=On(a=Nn(e,t,o=l||c,n,i),n),o===l?(e=a,l=s):(t=a,c=s)}}function Nn(e,t,n,r,i){var o,a,s=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(o=e.x+s*(u.y-e.y)/l,a=u.y):4&n?(o=e.x+s*(c.y-e.y)/l,a=c.y):2&n?(o=u.x,a=e.y+l*(u.x-e.x)/s):1&n&&(o=c.x,a=e.y+l*(c.x-e.x)/s),new O(o,a,i)}function On(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function jn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Rn(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,l=n.y-a,c=s*s+l*l;return c>0&&((i=((e.x-o)*s+(e.y-a)*l)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=l*i)),s=e.x-o,l=e.y-a,r?s*s+l*l:new O(o,a)}function Mn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Dn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Mn(e)}function zn(e,t){var n,r,i,o,a,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Mn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=U([0,0]),h=F(e);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=xn(e));var d=e.length,f=[];for(n=0;n<d;n++){var p=U(e[n]);f.push(t.project(U([p.lat-u.lat,p.lng-u.lng])))}for(n=0,r=0;n<d-1;n++)r+=f[n].distanceTo(f[n+1])/2;if(0===r)c=f[0];else for(n=0,o=0;n<d-1;n++)if(a=f[n],s=f[n+1],(o+=i=a.distanceTo(s))>r){l=(o-r)/i,c=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var m=t.unproject(R(c));return U([m.lat+u.lat,m.lng+u.lng])}var Fn={__proto__:null,simplify:kn,pointToSegmentDistance:Cn,closestPointOnSegment:Tn,clipSegment:Ln,_getEdgeIntersection:Nn,_getBitCode:On,_sqClosestPointOnSegment:Rn,isFlat:Mn,_flat:Dn,polylineCenter:zn},Bn={project:function(e){return new O(e.lng,e.lat)},unproject:function(e){return new B(e.y,e.x)},bounds:new M([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752.314245179,bounds:new M([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new O(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new B(s*n,e.x*n/r)}},Vn={__proto__:null,LonLat:Bn,Mercator:Un,SphericalMercator:W},Hn=n({},H,{code:"EPSG:3395",projection:Un,transformation:function(){var e=.5/(Math.PI*Un.R);return Z(e,.5,-e,.5)}()}),qn=n({},H,{code:"EPSG:4326",projection:Bn,transformation:Z(1/180,1,-1/180,.5)}),Wn=n({},V,{projection:Bn,transformation:Z(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});V.Earth=H,V.EPSG3395=Hn,V.EPSG3857=G,V.EPSG900913=$,V.EPSG4326=qn,V.Simple=Wn;var Kn=N.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",function(){t.off(n,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zn=Kn.extend({initialize:function(e,t){var n,r;if(f(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Gn=function(e,t){return new Zn(e,t)},$n=Zn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Zn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Zn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new z;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Qn=function(e,t){return new $n(e,t)},Yn=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){f(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=R(r),o=R("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Me.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Xn(e){return new Yn(e)}var Jn=Yn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Jn.imagePath&&(Jn.imagePath=this._detectIconPath()),(this.options.imagePath||Jn.imagePath)+Yn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ft("div","leaflet-default-icon-path",document.body),t=dt(e,"background-image")||dt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new bn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=At(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=D(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var c=R((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Tt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=k(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=At(t._icon),i=t._map.layerPointToLatLng(r);n&&Tt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Kn.extend({options:{icon:new Jn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){f(this,t),this._latlng=U(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),bt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(bt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ft(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Tt(this._icon,e),this._shadow&&Tt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?R(t.iconSize):R(0,0),r=t.iconAnchor?R(t.iconAnchor):R(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return f(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){f(this,t),this._latlng=U(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=U(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new M(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(e,t){return new ir(e,t)}var ar=ir.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),f(this,t),this._latlng=U(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===H.distance){var i=Math.PI/180,o=this._mRadius/H.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});function sr(e,t,n){return new ar(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){f(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Rn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var h=o(e,t=l[c-1],n=l[c],!0);h<r&&(r=h,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=U(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new z,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Mn(e),r=0,i=e.length;r<i;r++)n?(t[r]=U(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new M;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new O(e,e);this._rawPxBounds&&(this._pxBounds=new M([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof B,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=Ln(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=kn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&Cn(e,s[i],s[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=Dn;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof B&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),Mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new O(t,t);if(e=new M(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=_n(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(l=(t=this._parts[i]).length)-1;o<l;a=o++)n=t[o],r=t[a],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function hr(e,t){return new ur(e,t)}var dr=$n.extend({initialize:function(e,t){f(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=fr(e,o);return a?(a.feature=_r(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function fr(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||mr;if(!s&&!a)return null;switch(a.type){case"Point":return pr(c,e,n=u(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=u(s[i]),l.push(pr(c,e,n,t));return new $n(l);case"LineString":case"MultiLineString":return r=gr(s,"LineString"===a.type?0:1,u),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(s,"Polygon"===a.type?1:2,u),new ur(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=fr({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new $n(l);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var d=fr(a.features[i],t);d&&l.push(d)}return new $n(l);default:throw new Error("Invalid GeoJSON object.")}}function pr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function mr(e){return new B(e[1],e[0],e[2])}function gr(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?gr(e[o],t-1,n):(n||mr)(e[o]),i.push(r);return i}function vr(e,t){return void 0!==(e=U(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function yr(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?yr(e[o],Mn(e[o])?0:t-1,n,r):vr(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function br(e,t){return e.feature?n({},e.feature,{geometry:t}):_r(t)}function _r(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var wr={toGeoJSON:function(e){return br(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function xr(e,t){return new dr(e,t)}tr.include(wr),ar.include(wr),ir.include(wr),lr.include({toGeoJSON:function(e){var t=!Mn(this._latlngs);return br(this,{type:(t?"Multi":"")+"LineString",coordinates:yr(this._latlngs,t?1:0,!1,e)})}}),ur.include({toGeoJSON:function(e){var t=!Mn(this._latlngs),n=t&&!Mn(this._latlngs[0]),r=yr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),br(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Zn.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(n){t.push(n.toGeoJSON(e).geometry.coordinates)}),br(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=_r(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}}),n?br(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Sr=xr,Er=Kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=F(t),f(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=F(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ft("img");bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ct(this._image,n,t)},_reset:function(){var e=this._image,t=new M(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Tt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),kr=function(e,t,n){return new Er(e,t,n)},Cr=Er.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ft("video");if(bt(t,"leaflet-image-layer"),this._zoomAnimated&&bt(t,"leaflet-zoom-animated"),this.options.className&&bt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=ft("source");s.src=this._url[a],t.appendChild(s)}}}});function Tr(e,t,n){return new Cr(e,t,n)}var Ar=Er.extend({_initImage:function(){var e=this._image=this._url;bt(e,"leaflet-image-layer"),this._zoomAnimated&&bt(e,"leaflet-zoom-animated"),this.options.className&&bt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Pr(e,t,n){return new Ar(e,t,n)}var Ir=Kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof B||v(e))?(this._latlng=U(e),f(this,t)):(f(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(i(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=U(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof $n){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=R(this.options.offset),n=this._getAnchor();this._zoomAnimated?Tt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Kn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(f(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Lr=Ir.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ir.prototype.openOn.call(this,e)},onAdd:function(e){Ir.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",qt))},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",qt))},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ft("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ft("div",e+"-content-wrapper",t);if(this._contentNode=ft("div",e+"-content",n),Kt(t),Wt(this._contentNode),Dt(t,"contextmenu",qt),this._tipContainer=ft("div",e+"-tip-container",t),this._tip=ft("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ft("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(r,"click",function(e){Zt(e),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",bt(e,o)):_t(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Tt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(dt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new O(this._containerLeft,-n-this._containerBottom);i._add(At(this._container));var o=e.layerPointToContainerPoint(i),a=R(this.options.autoPanPadding),s=R(this.options.autoPanPaddingTopLeft||a),l=R(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),u=0,h=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+n+l.y>c.y&&(h=o.y+n-c.y+l.y),o.y-h-s.y<0&&(h=o.y-s.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Nr=function(e,t){return new Lr(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Lr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Kn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Lr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof $n||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Gt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Or=Ir.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ir.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ir.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ir.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ft("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=R(this.options.offset),h=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(u.x+h.x),n=c/2),e=e.subtract(R(t,n,!0)).add(u).add(h),_t(i,"leaflet-tooltip-right"),_t(i,"leaflet-tooltip-left"),_t(i,"leaflet-tooltip-top"),_t(i,"leaflet-tooltip-bottom"),bt(i,"leaflet-tooltip-"+s),Tt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&St(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),jr=function(e,t){return new Or(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Or,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Kn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Or,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof $n||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Dt(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Dt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)})}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Rr=Yn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=R(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Mr(e){return new Rr(e)}Yn.Default=Jn;var Dr=Kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){f(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),pt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof O?e:new O(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Me.ielt9){St(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);St(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(C(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ft("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(pt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ft("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)pt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new O(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new O(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Me.any3d?Ct(e.el,i,r):Tt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new M(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new M(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new O(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var f=new O(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:a.push(f)}}if(a.sort(function(e,t){return e.distanceTo(o)-t.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new z(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new O(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(pt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){bt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,Me.ielt9&&this.options.opacity<1&&St(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&k(i(this._tileReady,this,e,null,o)),Tt(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(St(n.el,0),C(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(bt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Me.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new O(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new M(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function zr(e){return new Dr(e)}var Fr=Dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=f(this,t)).detectRetina&&Me.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Dt(n,"load",i(this._tileOnLoad,this,t,n)),Dt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:Me.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){Me.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=b;var n=this._tiles[e].coords;pt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",b),Dr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return Dr.prototype._tileReady.call(this,e,t,n)}});function Br(e,t){return new Fr(e,t)}var Ur=Fr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=f(this,t)).detectRetina&&Me.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Fr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=D(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===qn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Fr.prototype.getTileUrl.call(this,e);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Vr(e,t){return new Ur(e,t)}Fr.WMS=Ur,Br.wms=Vr;var Hr=Kn.extend({options:{padding:.1},initialize:function(e){f(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Me.any3d?Ct(this._container,o,n):Tt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new M(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qr=Hr.extend({options:{tolerance:0},getEvents:function(){var e=Hr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Dt(e,"mousemove",this._onMouseMove,this),Dt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,pt(this._container),Ft(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Me.retina?2:1;Tt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Me.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Hr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new M,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(_t(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(bt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Wr(e){return Me.canvas?new qr(e):null}var Kr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Zr={_initContainer:function(){this._container=ft("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Kr("shape");bt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Kr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;pt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Kr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Kr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},Gr=Me.vml?Kr:Q,$r=Hr.extend({_initContainer:function(){this._container=Gr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),Ft(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Tt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Gr("path");e.options.className&&bt(t,e.options.className),e.options.interactive&&bt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){pt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Qr(e){return Me.svg||Me.vml?new $r(e):null}Me.vml&&$r.include(Zr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Wr(e)||Qr(e)}});var Yr=ur.extend({initialize:function(e,t){ur.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=F(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Xr(e,t){return new Yr(e,t)}$r.create=Gr,$r.pointsToPath=Y,dr.geometryToLayer=fr,dr.coordsToLatLng=mr,dr.coordsToLatLngs=gr,dr.latLngToCoords=vr,dr.latLngsToCoords=yr,dr.getFeature=br,dr.asFeature=_r,nn.mergeOptions({boxZoom:!0});var Jr=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ft(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),It(),this._startPoint=this._map.mouseEventToContainerPoint(e),Dt(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ft("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new M(this._point,this._startPoint),n=t.getSize();Tt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pt(this._box),_t(this._container,"leaflet-crosshair")),it(),Lt(),Ft(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Jr),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new bn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=F(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),h=c/(n.inertiaDeceleration*a),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),k(function(){t.panBy(d,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Dt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ft(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ft(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=R(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(R(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Gt(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ft(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Gt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:Me.touchNative&&Me.safari&&Me.mobile,tapTolerance:15});var oi=gn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ft(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new O(t.clientX,t.clientY),this._holdTimeout=setTimeout(i(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",Zt),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),ii),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ft(document,"touchend",Zt),Ft(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ft(document,"touchend touchcancel contextmenu",this._cancel,this),Ft(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new O(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",oi),nn.mergeOptions({touchZoom:Me.touch,bounceAtZoomLimits:!0});var ai=gn.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Ft(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),Zt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(s,this,!0),Zt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Ft(document,"touchmove",this._onTouchMove,this),Ft(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ai),nn.BoxZoom=Jr,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=oi,nn.TouchZoom=ai,e.Bounds=M,e.Browser=Me,e.CRS=V,e.Canvas=qr,e.Circle=ar,e.CircleMarker=ir,e.Class=A,e.Control=on,e.DivIcon=Rr,e.DivOverlay=Ir,e.DomEvent=en,e.DomUtil=Mt,e.Draggable=bn,e.Evented=N,e.FeatureGroup=$n,e.GeoJSON=dr,e.GridLayer=Dr,e.Handler=gn,e.Icon=Yn,e.ImageOverlay=Er,e.LatLng=B,e.LatLngBounds=z,e.Layer=Kn,e.LayerGroup=Zn,e.LineUtil=Fn,e.Map=nn,e.Marker=tr,e.Mixin=vn,e.Path=rr,e.Point=O,e.PolyUtil=En,e.Polygon=ur,e.Polyline=lr,e.Popup=Lr,e.PosAnimation=tn,e.Projection=Vn,e.Rectangle=Yr,e.Renderer=Hr,e.SVG=$r,e.SVGOverlay=Ar,e.TileLayer=Fr,e.Tooltip=Or,e.Transformation=K,e.Util=T,e.VideoOverlay=Cr,e.bind=i,e.bounds=D,e.canvas=Wr,e.circle=sr,e.circleMarker=or,e.control=an,e.divIcon=Mr,e.extend=n,e.featureGroup=Qn,e.geoJSON=xr,e.geoJson=Sr,e.gridLayer=zr,e.icon=Xn,e.imageOverlay=kr,e.latLng=U,e.latLngBounds=F,e.layerGroup=Gn,e.map=rn,e.marker=nr,e.point=R,e.polygon=hr,e.polyline=cr,e.popup=Nr,e.rectangle=Xr,e.setOptions=f,e.stamp=a,e.svg=Qr,e.svgOverlay=Pr,e.tileLayer=Br,e.tooltip=jr,e.transformation=Z,e.version=t,e.videoOverlay=Tr;var si=window.L;e.noConflict=function(){return window.L=si,this},window.L=e}(t)},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return P((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+T(e,0):o,w(a)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),P(a,t,i,"",function(e){return e})):null!=a&&(k(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,p=""===o?".":o+":";if(w(e))for(var m=0;m<e.length;m++)u+=P(o=e[m],t,i,s=p+T(o,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=P(o=o.value,t,i,s=p+T(o,m++),a);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function O(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(O,N)}catch(o){N(o)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.1"},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&N(x,t.startTime-e)}}var S,E=!1,k=-1,C=5,T=-1;function A(){return!!v||!(t.unstable_now()-T<C)}function P(){if(v=!1,E){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(k),k=-1),p=!0;var o=f;try{t:{for(w(e),d=r(c);null!==d&&!(d.expirationTime>e&&A());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){d.callback=s,w(e),n=!0;break t}d===r(c)&&i(c),w(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&N(x,l.startTime-e),n=!1}}break e}finally{d=null,f=o,p=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,L=I.port2;I.port1.onmessage=P,S=function(){L.postMessage(null)}}else S=function(){y(P,0)};function N(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(b(k),k=-1):g=!0,N(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".b705caed.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="pulserealty:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/pulserealty/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkpulserealty=self.webpackChunkpulserealty||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};function t(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.r(e),n.d(e,{Decoder:()=>ia,Encoder:()=>na,PacketType:()=>ta,protocol:()=>ea});var r=n(43),i=n(391);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],d=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var v="popstate";function y(){return k(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=E(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),x("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:S(t))},function(e,t){_("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function _(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function w(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function k(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,c=h();function h(){return(a.state||{idx:null}).idx}function d(){s="POP";let e=h(),t=null==e?null:e-c;c=e,l&&l({action:s,location:p.location,delta:t})}function f(e){return C(e)}null==c&&(c=0,a.replaceState(u(u({},a.state),{},{idx:c}),""));let p={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v,d),l=e,()=>{i.removeEventListener(v,d),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=x(p.location,e,t);n&&n(r,e),c=h()+1;let u=w(r,c),d=p.createHref(r);try{a.pushState(u,"",d)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(d)}o&&l&&l({action:s,location:p.location,delta:1})},replace:function(e,t){s="REPLACE";let r=x(p.location,e,t);n&&n(r,e),c=h();let i=w(r,c),u=p.createHref(r);a.replaceState(i,"",u),o&&l&&l({action:s,location:p.location,delta:0})},go:e=>a.go(e)};return p}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),b(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:S(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function T(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function A(e,t,n,r){let i=H(("string"===typeof t?E(t):t).pathname||"/",n);if(null==i)return null;let o=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let a=null;for(let s=0;null==a&&s<o.length;++s){let e=V(i);a=F(o[s],e,r)}return a}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function(e,o){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&a)return;b(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=G([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,u,c,a)),(null!=e.path||e.index)&&t.push({path:c,score:z(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of I(e.path))o(e,t,!0,r);else o(e,t)}),t}function I(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=I(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var L=/^:[\w-]+$/,N=3,O=2,j=1,R=10,M=-2,D=e=>"*"===e;function z(e,t){let n=e.split("/"),r=n.length;return n.some(D)&&(r+=M),t&&(r+=O),n.filter(e=>!D(e)).reduce((e,t)=>e+(L.test(t)?N:""===t?j:R),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=B({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:G([o,u.pathname]),pathnameBase:$(G([o,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(o=G([o,u.pathnameBase]))}return a}function B(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];_("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function V(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return _(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function H(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function W(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=W(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Z(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=E(e):(r=u({},e),b(!r.pathname||!r.pathname.includes("?"),q("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),q("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),q("#","search","hash",r)));let o,a=""===e||""===r.pathname,s=a?"/":r.pathname;if(null==s)o=n;else{let e=t.length-1;if(!i&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?E(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Q(r),hash:Y(i)}}(r,o),c=s&&"/"!==s&&s.endsWith("/"),h=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!h||(l.pathname+="/"),l}var G=e=>e.join("/").replace(/\/\/+/g,"/"),$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Y=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var J=["POST","PUT","PATCH","DELETE"],ee=(new Set(J),["GET",...J]);new Set(ee),Symbol("ResetLoaderData");var te=r.createContext(null);te.displayName="DataRouter";var ne=r.createContext(null);ne.displayName="DataRouterState";var re=r.createContext(!1);var ie=r.createContext({isTransitioning:!1});ie.displayName="ViewTransition";var oe=r.createContext(new Map);oe.displayName="Fetchers";var ae=r.createContext(null);ae.displayName="Await";var se=r.createContext(null);se.displayName="Navigation";var le=r.createContext(null);le.displayName="Location";var ce=r.createContext({outlet:null,matches:[],isDataRoute:!1});ce.displayName="Route";var ue=r.createContext(null);ue.displayName="RouteError";function he(){return null!=r.useContext(le)}function de(){return b(he(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(le).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){r.useContext(se).static||r.useLayoutEffect(e)}function me(){let{isDataRoute:e}=r.useContext(ce);return e?function(){let{router:e}=Ce("useNavigate"),t=Ae("useNavigate"),n=r.useRef(!1);pe(()=>{n.current=!0});let i=r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,u({fromRouteId:t},i)))},[e,t]);return i}():function(){b(he(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(te),{basename:t,navigator:n}=r.useContext(se),{matches:i}=r.useContext(ce),{pathname:o}=de(),a=JSON.stringify(K(i)),s=r.useRef(!1);pe(()=>{s.current=!0});let l=r.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_(s.current,fe),!s.current)return;if("number"===typeof r)return void n.go(r);let l=Z(r,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:G([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,a,o,e]);return l}()}var ge=r.createContext(null);function ve(){let{matches:e}=r.useContext(ce),t=e[e.length-1];return t?t.params:{}}function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ce),{pathname:i}=de(),o=JSON.stringify(K(n));return r.useMemo(()=>Z(e,JSON.parse(o),i,"path"===t),[e,o,i,t])}function be(e,t,n,i){b(he(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=r.useContext(se),{matches:a}=r.useContext(ce),s=a[a.length-1],l=s?s.params:{},c=s?s.pathname:"/",h=s?s.pathnameBase:"/",d=s&&s.route;{let e=d&&d.path||"";Le(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,p=de();if(t){var m;let e="string"===typeof t?E(t):t;b("/"===h||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=p;let g=f.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=T(e,{pathname:v});_(d||null!=y,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),_(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Ee(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:G([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:G([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,n,i);return t&&w?r.createElement(le.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},w):w}function _e(){let e=Pe(),t=X(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,s)}var we=r.createElement(_e,null),xe=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(ce.Provider,{value:this.props.routeContext},r.createElement(ue.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Se(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(te);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ce.Provider,{value:t},i)}function Ee(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,s=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){a=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}return i.reduceRight((e,l,c)=>{let u,h=!1,d=null,f=null;n&&(u=o&&l.route.id?o[l.route.id]:void 0,d=l.route.errorElement||we,a&&(s<0&&0===c?(Le("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):s===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,c+1)),m=()=>{let t;return t=u?d:h?f:l.route.Component?r.createElement(l.route.Component,null):l.route.element?l.route.element:e,r.createElement(Se,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?r.createElement(xe,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ce(e){let t=r.useContext(te);return b(t,ke(e)),t}function Te(e){let t=r.useContext(ne);return b(t,ke(e)),t}function Ae(e){let t=function(e){let t=r.useContext(ce);return b(t,ke(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Pe(){var e;let t=r.useContext(ue),n=Te("useRouteError"),i=Ae("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[i]}var Ie={};function Le(e,t,n){t||Ie[e]||(Ie[e]=!0,_(!1,n))}var Ne={};function Oe(e,t){e||Ne[t]||(Ne[t]=!0,console.warn(t))}r.memo(function(e){let{routes:t,future:n,state:r}=e;return be(t,void 0,r,n)});function je(e){let{to:t,replace:n,state:i,relative:o}=e;b(he(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(se);_(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=r.useContext(ce),{pathname:l}=de(),c=me(),u=Z(t,K(s),l,"path"===o),h=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(h),{replace:n,state:i,relative:o})},[c,h,o,n,i]),null}function Re(e){return function(e){let t=r.useContext(ce).outlet;return t?r.createElement(ge.Provider,{value:e},t):t}(e.context)}function Me(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function De(e){let{basename:t="/",children:n=null,location:i,navigationType:o="POP",navigator:a,static:s=!1}=e;b(!he(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=r.useMemo(()=>({basename:l,navigator:a,static:s,future:{}}),[l,a,s]);"string"===typeof i&&(i=E(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=r.useMemo(()=>{let e=H(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:o}},[l,u,h,d,f,p,o]);return _(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(se.Provider,{value:c},r.createElement(le.Provider,{children:n,value:m}))}function ze(e){let{children:t,location:n}=e;return be(Fe(t),n)}r.Component;function Fe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,i)=>{if(!r.isValidElement(e))return;let o=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,Fe(e.props.children,o));b(e.type===Me,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Fe(e.props.children,o)),n.push(a)}),n}var Be="get",Ue="application/x-www-form-urlencoded";function Ve(e){return null!=e&&"string"===typeof e.tagName}var He=null;var qe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function We(e){return null==e||qe.has(e)?e:(_(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function Ke(e,t){let n,r,i,o,a;if(Ve(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?H(a,t):null,n=e.getAttribute("method")||Be,i=We(e.getAttribute("enctype"))||Ue,o=new FormData(e)}else if(function(e){return Ve(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ve(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?H(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Be,i=We(e.getAttribute("formenctype"))||We(a.getAttribute("enctype"))||Ue,o=new FormData(a,e),!function(){if(null===He)try{new FormData(document.createElement("form"),0),He=!1}catch(e){He=!0}return He}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";o.append("".concat(e,"x"),"0"),o.append("".concat(e,"y"),"0")}else t&&o.append(t,r)}}else{if(Ve(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Be,r=null,i=Ue,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ze(e){return{__html:e}}function Ge(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function $e(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===H(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Qe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ye(e){return null!=e&&"string"===typeof e.page}function Xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Je(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===o?t.filter((t,o)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function et(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function tt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ye(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let o=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(o)||(n.add(o),e.push({key:o,link:i})),e},[])}function nt(e,t){return"lazy"===e.mode&&!0===t}function rt(){let e=r.useContext(te);return Ge(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function it(){let e=r.useContext(ne);return Ge(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ot=r.createContext(void 0);function at(){let e=r.useContext(ot);return Ge(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lt(e,t,n){if(n&&!dt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}ot.displayName="FrameworkContext";function ct(e){let{page:t}=e,n=o(e,d),{router:i}=rt(),a=r.useMemo(()=>T(i.routes,t,i.basename),[i.routes,t,i.basename]);return a?r.createElement(ht,u({page:t,matches:a},n)):null}function ut(e){let{manifest:t,routeModules:n}=at(),[i,o]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Qe(r,n);return e.links?e.links():[]}return[]}));return tt(r.flat(1).filter(Xe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||o(e)}),()=>{r=!0}},[e,t,n]),i}function ht(e){let{page:t,matches:n}=e,i=o(e,f),a=de(),{manifest:s,routeModules:l}=at(),{basename:c}=rt(),{loaderData:h,matches:d}=it(),p=r.useMemo(()=>Je(t,n,d,s,a,"data"),[t,n,d,s,a]),m=r.useMemo(()=>Je(t,n,d,s,a,"assets"),[t,n,d,s,a]),g=r.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=s.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in h&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=$e(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,h,a,s,p,n,t,l]),v=r.useMemo(()=>et(m,s),[m,s]),y=ut(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i))),v.map(e=>r.createElement("link",u({key:e,rel:"modulepreload",href:e},i))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",u({key:t,nonce:i.nonce},n))}))}var dt=!1;function ft(e){let{manifest:t,serverHandoffString:n,isSpaMode:i,renderMeta:a,routeDiscovery:s,ssr:l}=at(),{router:c,static:d,staticContext:f}=rt(),{matches:p}=it(),m=r.useContext(re),g=nt(s,l);a&&(a.didRenderScripts=!0);let v=lt(p,null,i);r.useEffect(()=>{0},[]);let y=r.useMemo(()=>{var i;if(m)return null;let a=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=d?"".concat(null!==t.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Ge(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:o,clientLoaderModule:a,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=i,u=[...o?[{module:o,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,h),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach(e=>{let n=T(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ze(a),type:void 0})),r.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ze(s),type:"module",async:!0})))},[]),b=dt||m?[]:(t.entry.imports.concat(et(v,t,{includeHydrateFallback:!0})),[...new Set(_)]);var _;let w="object"===typeof t.sri?t.sri:{};return Oe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),dt||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:w})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:w[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:w[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:w[t],suppressHydrationWarning:!0})),y)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function mt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let i,o=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(X(t))return r.createElement(gt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return r.createElement(gt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function gt(e){var t;let{title:n,renderScripts:i,isOutsideRemixApp:o,children:a}=e,{routeModules:s}=at();return null!==s.root&&void 0!==t&&t.Layout&&!o?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,i?r.createElement(ft,null):null)))}var vt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{vt&&(window.__reactRouterVersion="7.8.1")}catch(VO){}function yt(e){let{basename:t,children:n,window:i}=e,o=r.useRef();null==o.current&&(o.current=y({window:i,v5Compat:!0}));let a=o.current,[s,l]=r.useState({action:a.action,location:a.location}),c=r.useCallback(e=>{r.startTransition(()=>l(e))},[l]);return r.useLayoutEffect(()=>a.listen(c),[a,c]),r.createElement(De,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}var bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=r.forwardRef(function(e,t){let n,{onClick:i,discover:a="render",prefetch:s="none",relative:l,reloadDocument:c,replace:h,state:d,target:f,to:m,preventScrollReset:g,viewTransition:v}=e,y=o(e,p),{basename:w}=r.useContext(se),x="string"===typeof m&&bt.test(m),E=!1;if("string"===typeof m&&x&&(n=m,vt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=H(t.pathname,w);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:E=!0}catch(VO){_(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(he(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=r.useContext(se),{hash:o,pathname:a,search:s}=ye(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:G([n,a])),i.createHref({pathname:l,search:s,hash:o})}(m,{relative:l}),[C,T,A]=function(e,t){let n=r.useContext(ot),[i,o]=r.useState(!1),[a,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,f=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(i){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{o(!0)},m=()=>{o(!1),s(!1)};return n?"intent"!==e?[a,f,{}]:[a,f,{onFocus:st(l,p),onBlur:st(c,m),onMouseEnter:st(u,p),onMouseLeave:st(h,m),onTouchStart:st(d,p)}]:[!1,f,{}]}(s,y),P=function(e){let{target:t,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=me(),c=de(),u=ye(e,{relative:a});return r.useCallback(r=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(r,t)){r.preventDefault();let t=void 0!==n?n:S(c)===S(u);l(e,{replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[c,l,u,n,i,t,e,o,a,s])}(m,{replace:h,state:d,target:f,preventScrollReset:g,relative:l,viewTransition:v});let I=r.createElement("a",u(u(u({},y),A),{},{href:n||k,onClick:E||c?i:function(e){i&&i(e),e.defaultPrevented||P(e)},ref:pt(t,T),target:f,"data-discover":x||"render"!==a?void 0:"true"}));return C&&!x?r.createElement(r.Fragment,null,I,r.createElement(ct,{page:k})):I});_t.displayName="Link";var wt=r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:h,children:d}=e,f=o(e,m),p=ye(c,{relative:f.relative}),g=de(),v=r.useContext(ne),{navigator:y,basename:_}=r.useContext(se),w=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(ie);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Et("useViewTransitionState"),o=ye(e,{relative:t});if(!n.isTransitioning)return!1;let a=H(n.currentLocation.pathname,i)||n.currentLocation.pathname,s=H(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=B(o.pathname,s)||null!=B(o.pathname,a)}(p)&&!0===h,x=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,S=g.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),E=E?E.toLowerCase():null,x=x.toLowerCase()),E&&_&&(E=H(E,_)||E);const k="/"!==x&&x.endsWith("/")?x.length-1:x.length;let C,T=S===x||!s&&S.startsWith(x)&&"/"===S.charAt(k),A=null!=E&&(E===x||!s&&E.startsWith(x)&&"/"===E.charAt(x.length)),P={isActive:T,isPending:A,isTransitioning:w},I=T?n:void 0;C="function"===typeof a?a(P):[a,T?"active":null,A?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L="function"===typeof l?l(P):l;return r.createElement(_t,u(u({},f),{},{"aria-current":I,className:C,ref:t,style:L,to:c,viewTransition:h}),"function"===typeof d?d(P):d)});wt.displayName="NavLink";var xt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:i,navigate:a,reloadDocument:s,replace:l,state:c,method:h=Be,action:d,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v}=e,y=o(e,g),_=Tt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(se),i=r.useContext(ce);b(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a=u({},ye(e||".",{relative:t})),s=de();if(null==e){a.search=s.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:G([n,a.pathname]));return S(a)}(d,{relative:p}),x="get"===h.toLowerCase()?"get":"post",E="string"===typeof d&&bt.test(d);return r.createElement("form",u(u({ref:t,method:x,action:w,onSubmit:s?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||h;_(t||e.currentTarget,{fetcherKey:i,method:n,navigate:a,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:v})}},y),{},{"data-discover":E||"render"!==n?void 0:"true"}))});function St(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Et(e){let t=r.useContext(te);return b(t,St(e)),t}xt.displayName="Form";var kt=0,Ct=()=>"__".concat(String(++kt),"__");function Tt(){let{router:e}=Et("useSubmit"),{basename:t}=r.useContext(se),n=Ae("useRouteId");return r.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:a,encType:s,formData:l,body:c}=Ke(r,t);if(!1===i.navigate){let t=i.fetcherKey||Ct();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||s,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}var At=function(){return At=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},At.apply(this,arguments)};Object.create;function Pt(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var It=n(324),Lt=n.n(It),Nt="-ms-",Ot="-moz-",jt="-webkit-",Rt="comm",Mt="rule",Dt="decl",zt="@keyframes",Ft=Math.abs,Bt=String.fromCharCode,Ut=Object.assign;function Vt(e){return e.trim()}function Ht(e,t){return(e=t.exec(e))?e[0]:e}function qt(e,t,n){return e.replace(t,n)}function Wt(e,t,n){return e.indexOf(t,n)}function Kt(e,t){return 0|e.charCodeAt(t)}function Zt(e,t,n){return e.slice(t,n)}function Gt(e){return e.length}function $t(e){return e.length}function Qt(e,t){return t.push(e),e}function Yt(e,t){return e.filter(function(e){return!Ht(e,t)})}var Xt=1,Jt=1,en=0,tn=0,nn=0,rn="";function on(e,t,n,r,i,o,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Xt,column:Jt,length:a,return:"",siblings:s}}function an(e,t){return Ut(on("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function sn(e){for(;e.root;)e=an(e.root,{children:[e]});Qt(e,e.siblings)}function ln(){return nn=tn>0?Kt(rn,--tn):0,Jt--,10===nn&&(Jt=1,Xt--),nn}function cn(){return nn=tn<en?Kt(rn,tn++):0,Jt++,10===nn&&(Jt=1,Xt++),nn}function un(){return Kt(rn,tn)}function hn(){return tn}function dn(e,t){return Zt(rn,e,t)}function fn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pn(e){return Xt=Jt=1,en=Gt(rn=e),tn=0,[]}function mn(e){return rn="",e}function gn(e){return Vt(dn(tn-1,bn(91===e?e+2:40===e?e+1:e)))}function vn(e){for(;(nn=un())&&nn<33;)cn();return fn(e)>2||fn(nn)>3?"":" "}function yn(e,t){for(;--t&&cn()&&!(nn<48||nn>102||nn>57&&nn<65||nn>70&&nn<97););return dn(e,hn()+(t<6&&32==un()&&32==cn()))}function bn(e){for(;cn();)switch(nn){case e:return tn;case 34:case 39:34!==e&&39!==e&&bn(nn);break;case 40:41===e&&bn(e);break;case 92:cn()}return tn}function _n(e,t){for(;cn()&&e+nn!==57&&(e+nn!==84||47!==un()););return"/*"+dn(t,tn-1)+"*"+Bt(47===e?e:cn())}function wn(e){for(;!fn(un());)cn();return dn(e,tn)}function xn(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Sn(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Dt:return e.return=e.return||e.value;case Rt:return"";case zt:return e.return=e.value+"{"+xn(e.children,r)+"}";case Mt:if(!Gt(e.value=e.props.join(",")))return""}return Gt(n=xn(e.children,r))?e.return=e.value+"{"+n+"}":""}function En(e,t,n){switch(function(e,t){return 45^Kt(e,0)?(((t<<2^Kt(e,0))<<2^Kt(e,1))<<2^Kt(e,2))<<2^Kt(e,3):0}(e,t)){case 5103:return jt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jt+e+e;case 4789:return Ot+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return jt+e+Ot+e+Nt+e+e;case 5936:switch(Kt(e,t+11)){case 114:return jt+e+Nt+qt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return jt+e+Nt+qt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return jt+e+Nt+qt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return jt+e+Nt+e+e;case 6165:return jt+e+Nt+"flex-"+e+e;case 5187:return jt+e+qt(e,/(\w+).+(:[^]+)/,jt+"box-$1$2"+Nt+"flex-$1$2")+e;case 5443:return jt+e+Nt+"flex-item-"+qt(e,/flex-|-self/g,"")+(Ht(e,/flex-|baseline/)?"":Nt+"grid-row-"+qt(e,/flex-|-self/g,""))+e;case 4675:return jt+e+Nt+"flex-line-pack"+qt(e,/align-content|flex-|-self/g,"")+e;case 5548:return jt+e+Nt+qt(e,"shrink","negative")+e;case 5292:return jt+e+Nt+qt(e,"basis","preferred-size")+e;case 6060:return jt+"box-"+qt(e,"-grow","")+jt+e+Nt+qt(e,"grow","positive")+e;case 4554:return jt+qt(e,/([^-])(transform)/g,"$1"+jt+"$2")+e;case 6187:return qt(qt(qt(e,/(zoom-|grab)/,jt+"$1"),/(image-set)/,jt+"$1"),e,"")+e;case 5495:case 3959:return qt(e,/(image-set\([^]*)/,jt+"$1$`$1");case 4968:return qt(qt(e,/(.+:)(flex-)?(.*)/,jt+"box-pack:$3"+Nt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jt+e+e;case 4200:if(!Ht(e,/flex-|baseline/))return Nt+"grid-column-align"+Zt(e,t)+e;break;case 2592:case 3360:return Nt+qt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(e,n){return t=n,Ht(e.props,/grid-\w+-end/)})?~Wt(e+(n=n[t].value),"span",0)?e:Nt+qt(e,"-start","")+e+Nt+"grid-row-span:"+(~Wt(n,"span",0)?Ht(n,/\d+/):+Ht(n,/\d+/)-+Ht(e,/\d+/))+";":Nt+qt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(e){return Ht(e.props,/grid-\w+-start/)})?e:Nt+qt(qt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return qt(e,/(.+)-inline(.+)/,jt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gt(e)-1-t>6)switch(Kt(e,t+1)){case 109:if(45!==Kt(e,t+4))break;case 102:return qt(e,/(.+:)(.+)-([^]+)/,"$1"+jt+"$2-$3$1"+Ot+(108==Kt(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Wt(e,"stretch",0)?En(qt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return qt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,n,r,i,o,a,s){return Nt+n+":"+r+s+(i?Nt+n+"-span:"+(o?a:+a-+r)+s:"")+e});case 4949:if(121===Kt(e,t+6))return qt(e,":",":"+jt)+e;break;case 6444:switch(Kt(e,45===Kt(e,14)?18:11)){case 120:return qt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+jt+(45===Kt(e,14)?"inline-":"")+"box$3$1"+jt+"$2$3$1"+Nt+"$2box$3")+e;case 100:return qt(e,":",":"+Nt)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return qt(e,"scroll-","scroll-snap-")+e}return e}function kn(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Dt:return void(e.return=En(e.value,e.length,n));case zt:return xn([an(e,{value:qt(e.value,"@","@"+jt)})],r);case Mt:if(e.length)return function(e,t){return e.map(t).join("")}(n=e.props,function(t){switch(Ht(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":sn(an(e,{props:[qt(t,/:(read-\w+)/,":-moz-$1")]})),sn(an(e,{props:[t]})),Ut(e,{props:Yt(n,r)});break;case"::placeholder":sn(an(e,{props:[qt(t,/:(plac\w+)/,":"+jt+"input-$1")]})),sn(an(e,{props:[qt(t,/:(plac\w+)/,":-moz-$1")]})),sn(an(e,{props:[qt(t,/:(plac\w+)/,Nt+"input-$1")]})),sn(an(e,{props:[t]})),Ut(e,{props:Yt(n,r)})}return""})}}function Cn(e){return mn(Tn("",null,null,null,[""],e=pn(e),0,[0],e))}function Tn(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,m=1,g=1,v=1,y=0,b="",_=i,w=o,x=r,S=b;g;)switch(p=y,y=cn()){case 40:if(108!=p&&58==Kt(S,h-1)){-1!=Wt(S+=qt(gn(y),"&","&\f"),"&\f",Ft(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:S+=gn(y);break;case 9:case 10:case 13:case 32:S+=vn(p);break;case 92:S+=yn(hn()-1,7);continue;case 47:switch(un()){case 42:case 47:Qt(Pn(_n(cn(),hn()),t,n,l),l);break;default:S+="/"}break;case 123*m:s[c++]=Gt(S)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(S=qt(S,/\f/g,"")),f>0&&Gt(S)-h&&Qt(f>32?In(S+";",r,n,h-1,l):In(qt(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(Qt(x=An(S,t,n,c,u,i,s,b,_=[],w=[],h,o),o),123===y)if(0===u)Tn(S,t,x,x,_,o,h,s,w);else switch(99===d&&110===Kt(S,3)?100:d){case 100:case 108:case 109:case 115:Tn(e,x,x,r&&Qt(An(e,x,x,0,0,i,s,b,i,_=[],h,w),w),i,w,h,s,r?_:w);break;default:Tn(S,x,x,x,[""],w,0,s,w)}}c=u=f=0,m=v=1,b=S="",h=a;break;case 58:h=1+Gt(S),f=p;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==ln())continue;switch(S+=Bt(y),y*m){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(Gt(S)-1)*v,v=1;break;case 64:45===un()&&(S+=gn(cn())),d=un(),u=h=Gt(b=S+=wn(hn())),y++;break;case 45:45===p&&2==Gt(S)&&(m=0)}}return o}function An(e,t,n,r,i,o,a,s,l,c,u,h){for(var d=i-1,f=0===i?o:[""],p=$t(f),m=0,g=0,v=0;m<r;++m)for(var y=0,b=Zt(e,d+1,d=Ft(g=a[m])),_=e;y<p;++y)(_=Vt(g>0?f[y]+" "+b:qt(b,/&\f/g,f[y])))&&(l[v++]=_);return on(e,t,n,0===i?Mt:s,l,c,u,h)}function Pn(e,t,n,r){return on(e,t,n,Rt,Bt(nn),Zt(e,2,-2),0,r)}function In(e,t,n,r,i){return on(e,t,n,Dt,Zt(e,0,r),Zt(e,r+1,-1),r,i)}var Ln={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Nn="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",On="active",jn="data-styled-version",Rn="6.1.19",Mn="/*!sc*/\n",Dn="undefined"!=typeof window&&"undefined"!=typeof document,zn=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Fn={},Bn=(new Set,Object.freeze([])),Un=Object.freeze({});function Vn(e,t,n){return void 0===n&&(n=Un),e.theme!==n.theme&&e.theme||t||n.theme}var Hn=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),qn=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Wn=/(^-|-$)/g;function Kn(e){return e.replace(qn,"-").replace(Wn,"")}var Zn=/(a)(d)/gi,Gn=function(e){return String.fromCharCode(e+(e>25?39:97))};function $n(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Gn(t%52)+n;return(Gn(t%52)+n).replace(Zn,"$1-$2")}var Qn,Yn=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Xn=function(e){return Yn(5381,e)};function Jn(e){return $n(Xn(e)>>>0)}function er(e){return e.displayName||e.name||"Component"}function tr(e){return"string"==typeof e&&!0}var nr="function"==typeof Symbol&&Symbol.for,rr=nr?Symbol.for("react.memo"):60115,ir=nr?Symbol.for("react.forward_ref"):60112,or={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ar={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},sr={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lr=((Qn={})[ir]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qn[rr]=sr,Qn);function cr(e){return("type"in(t=e)&&t.type.$$typeof)===rr?sr:"$$typeof"in e?lr[e.$$typeof]:or;var t}var ur=Object.defineProperty,hr=Object.getOwnPropertyNames,dr=Object.getOwnPropertySymbols,fr=Object.getOwnPropertyDescriptor,pr=Object.getPrototypeOf,mr=Object.prototype;function gr(e,t,n){if("string"!=typeof t){if(mr){var r=pr(t);r&&r!==mr&&gr(e,r,n)}var i=hr(t);dr&&(i=i.concat(dr(t)));for(var o=cr(e),a=cr(t),s=0;s<i.length;++s){var l=i[s];if(!(l in ar||n&&n[l]||a&&l in a||o&&l in o)){var c=fr(t,l);try{ur(e,l,c)}catch(e){}}}}return e}function vr(e){return"function"==typeof e}function yr(e){return"object"==typeof e&&"styledComponentId"in e}function br(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function _r(e,t){if(0===e.length)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function wr(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function xr(e,t,n){if(void 0===n&&(n=!1),!n&&!wr(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=xr(e[r],t[r]);else if(wr(t))for(var r in t)e[r]=xr(e[r],t[r]);return e}function Sr(e,t){Object.defineProperty(e,"toString",{value:t})}function Er(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var kr=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)if((i<<=1)<0)throw Er(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+="".concat(this.tag.getRule(o)).concat(Mn);return t},e}(),Cr=new Map,Tr=new Map,Ar=1,Pr=function(e){if(Cr.has(e))return Cr.get(e);for(;Tr.has(Ar);)Ar++;var t=Ar++;return Cr.set(e,t),Tr.set(t,e),t},Ir=function(e,t){Ar=t+1,Cr.set(e,t),Tr.set(t,e)},Lr="style[".concat(Nn,"][").concat(jn,'="').concat(Rn,'"]'),Nr=new RegExp("^".concat(Nn,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Or=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},jr=function(e,t){for(var n,r=(null!==(n=t.textContent)&&void 0!==n?n:"").split(Mn),i=[],o=0,a=r.length;o<a;o++){var s=r[o].trim();if(s){var l=s.match(Nr);if(l){var c=0|parseInt(l[1],10),u=l[2];0!==c&&(Ir(u,c),Or(e,u,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},Rr=function(e){for(var t=document.querySelectorAll(Lr),n=0,r=t.length;n<r;n++){var i=t[n];i&&i.getAttribute(Nn)!==On&&(jr(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Mr(){return n.nc}var Dr=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Nn,"]")));return t[t.length-1]}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Nn,On),r.setAttribute(jn,Rn);var a=Mr();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},zr=function(){function e(e){this.element=Dr(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}throw Er(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Fr=function(){function e(e){this.element=Dr(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Br=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),Ur=Dn,Vr={isServer:!Dn,useCSSOMInjection:!zn},Hr=function(){function e(e,t,n){void 0===e&&(e=Un),void 0===t&&(t={});var r=this;this.options=At(At({},Vr),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Dn&&Ur&&(Ur=!1,Rr(this)),Sr(this,function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=function(n){var i=function(e){return Tr.get(e)}(n);if(void 0===i)return"continue";var o=e.names.get(i),a=t.getGroup(n);if(void 0===o||!o.size||0===a.length)return"continue";var s="".concat(Nn,".g").concat(n,'[id="').concat(i,'"]'),l="";void 0!==o&&o.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),r+="".concat(a).concat(s,'{content:"').concat(l,'"}').concat(Mn)},o=0;o<n;o++)i(o);return r}(r)})}return e.registerId=function(e){return Pr(e)},e.prototype.rehydrate=function(){!this.server&&Dn&&Rr(this)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(At(At({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new Br(n):t?new zr(n):new Fr(n)}(this.options),new kr(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Pr(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Pr(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Pr(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),qr=/&/g,Wr=/^\s*\/\/.*$/gm;function Kr(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=Kr(e.children,t)),e})}function Zr(e){var t,n,r,i=void 0===e?Un:e,o=i.options,a=void 0===o?Un:o,s=i.plugins,l=void 0===s?Bn:s,c=function(e,r,i){return i.startsWith(n)&&i.endsWith(n)&&i.replaceAll(n,"").length>0?".".concat(t):e},u=l.slice();u.push(function(e){e.type===Mt&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(qr,n).replace(r,c))}),a.prefix&&u.push(kn),u.push(Sn);var h=function(e,i,o,s){void 0===i&&(i=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,n=i,r=new RegExp("\\".concat(n,"\\b"),"g");var l=e.replace(Wr,""),c=Cn(o||i?"".concat(o," ").concat(i," { ").concat(l," }"):l);a.namespace&&(c=Kr(c,a.namespace));var h,d=[];return xn(c,function(e){var t=$t(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(u.concat((h=function(e){return d.push(e)},function(e){e.root||(e=e.return)&&h(e)})))),d};return h.hash=l.length?l.reduce(function(e,t){return t.name||Er(15),Yn(e,t.name)},5381).toString():"",h}var Gr=new Hr,$r=Zr(),Qr=r.createContext({shouldForwardProp:void 0,styleSheet:Gr,stylis:$r}),Yr=(Qr.Consumer,r.createContext(void 0));function Xr(){return(0,r.useContext)(Qr)}function Jr(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],o=Xr().styleSheet,a=(0,r.useMemo)(function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,o]),s=(0,r.useMemo)(function(){return Zr({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})},[e.enableVendorPrefixes,e.namespace,n]);(0,r.useEffect)(function(){Lt()(n,e.stylisPlugins)||i(e.stylisPlugins)},[e.stylisPlugins]);var l=(0,r.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:s}},[e.shouldForwardProp,a,s]);return r.createElement(Qr.Provider,{value:l},r.createElement(Yr.Provider,{value:s},e.children))}var ei=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=$r);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,Sr(this,function(){throw Er(12,String(n.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=$r),this.name+e.hash},e}(),ti=function(e){return e>="A"&&e<="Z"};function ni(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(1===n&&"-"===r&&"-"===e[0])return e;ti(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var ri=function(e){return null==e||!1===e||""===e},ii=function(e){var t,n,r=[];for(var i in e){var o=e[i];e.hasOwnProperty(i)&&!ri(o)&&(Array.isArray(o)&&o.isCss||vr(o)?r.push("".concat(ni(i),":"),o,";"):wr(o)?r.push.apply(r,Pt(Pt(["".concat(i," {")],ii(o),!1),["}"],!1)):r.push("".concat(ni(i),": ").concat((t=i,null==(n=o)||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||t in Ln||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function oi(e,t,n,r){return ri(e)?[]:yr(e)?[".".concat(e.styledComponentId)]:vr(e)?!vr(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:oi(e(t),t,n,r):e instanceof ei?n?(e.inject(n,r),[e.getName(r)]):[e]:wr(e)?ii(e):Array.isArray(e)?Array.prototype.concat.apply(Bn,e.map(function(e){return oi(e,t,n,r)})):[e.toString()];var i}function ai(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(vr(n)&&!yr(n))return!1}return!0}var si=Xn(Rn),li=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&ai(e),this.componentId=t,this.baseHash=Yn(si,t),this.baseStyle=n,Hr.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))r=br(r,this.staticRulesId);else{var i=_r(oi(this.rules,e,t,n)),o=$n(Yn(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=n(i,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}r=br(r,o),this.staticRulesId=o}else{for(var s=Yn(this.baseHash,n.hash),l="",c=0;c<this.rules.length;c++){var u=this.rules[c];if("string"==typeof u)l+=u;else if(u){var h=_r(oi(u,e,t,n));s=Yn(s,h+c),l+=h}}if(l){var d=$n(s>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),r=br(r,d)}}return r},e}(),ci=r.createContext(void 0);ci.Consumer;var ui={};new Set;function hi(e,t,n){var i=yr(e),o=e,a=!tr(e),s=t.attrs,l=void 0===s?Bn:s,c=t.componentId,u=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Kn(e);ui[n]=(ui[n]||0)+1;var r="".concat(n,"-").concat(Jn(Rn+n+ui[n]));return t?"".concat(t,"-").concat(r):r}(t.displayName,t.parentComponentId):c,h=t.displayName,d=void 0===h?function(e){return tr(e)?"styled.".concat(e):"Styled(".concat(er(e),")")}(e):h,f=t.displayName&&t.componentId?"".concat(Kn(t.displayName),"-").concat(t.componentId):t.componentId||u,p=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,m=t.shouldForwardProp;if(i&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;m=function(e,t){return g(e,t)&&v(e,t)}}else m=g}var y=new li(n,f,i?o.componentStyle:void 0);function b(e,t){return function(e,t,n){var i=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,u=r.useContext(ci),h=Xr(),d=e.shouldForwardProp||h.shouldForwardProp,f=Vn(t,u,a)||Un,p=function(e,t,n){for(var r,i=At(At({},t),{className:void 0,theme:n}),o=0;o<e.length;o+=1){var a=vr(r=e[o])?r(i):r;for(var s in a)i[s]="className"===s?br(i[s],a[s]):"style"===s?At(At({},i[s]),a[s]):a[s]}return t.className&&(i.className=br(i.className,t.className)),i}(i,t,f),m=p.as||c,g={};for(var v in p)void 0===p[v]||"$"===v[0]||"as"===v||"theme"===v&&p.theme===f||("forwardedAs"===v?g.as=p.forwardedAs:d&&!d(v,m)||(g[v]=p[v]));var y=function(e,t){var n=Xr();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(o,p),b=br(s,l);return y&&(b+=" "+y),p.className&&(b+=" "+p.className),g[tr(m)&&!Hn.has(m)?"class":"className"]=b,n&&(g.ref=n),(0,r.createElement)(m,g)}(_,e,t)}b.displayName=d;var _=r.forwardRef(b);return _.attrs=p,_.componentStyle=y,_.displayName=d,_.shouldForwardProp=m,_.foldedComponentIds=i?br(o.foldedComponentIds,o.styledComponentId):"",_.styledComponentId=f,_.target=i?o.target:e,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)xr(e,i[r],!0);return e}({},o.defaultProps,e):e}}),Sr(_,function(){return".".concat(_.styledComponentId)}),a&&gr(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function di(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n}var fi=function(e){return Object.assign(e,{isCss:!0})};function pi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(vr(e)||wr(e))return fi(oi(di(Bn,Pt([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?oi(r):fi(oi(di(r,t)))}function mi(e,t,n){if(void 0===n&&(n=Un),!t)throw Er(1,t);var r=function(r){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e(t,n,pi.apply(void 0,Pt([r],i,!1)))};return r.attrs=function(r){return mi(e,t,At(At({},n),{attrs:Array.prototype.concat(n.attrs,r).filter(Boolean)}))},r.withConfig=function(r){return mi(e,t,At(At({},n),r))},r}var gi=function(e){return mi(hi,e)},vi=gi;Hn.forEach(function(e){vi[e]=gi(e)});var yi=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ai(e),Hr.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,n,r){var i=r(_r(oi(this.rules,t,n,r)),""),o=this.componentId+e;n.insertRules(o,o,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,r){e>2&&Hr.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=Mr(),r=_r([n&&'nonce="'.concat(n,'"'),"".concat(Nn,'="true"'),"".concat(jn,'="').concat(Rn,'"')].filter(Boolean)," ");return"<style ".concat(r,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw Er(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw Er(2);var n=e.instance.toString();if(!n)return[];var i=((t={})[Nn]="",t[jn]=Rn,t.dangerouslySetInnerHTML={__html:n},t),o=Mr();return o&&(i.nonce=o),[r.createElement("style",At({},i,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new Hr({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw Er(2);return r.createElement(Jr,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw Er(3)}})(),"__sc-".concat(Nn,"__");var bi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_i=r.createContext&&r.createContext(bi),wi=["attr","size","title"];function xi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Si.apply(this,arguments)}function Ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(n),!0).forEach(function(t){Ci(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ci(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ti(e){return e&&e.map((e,t)=>r.createElement(e.tag,ki({key:t},e.attr),Ti(e.child)))}function Ai(e){return t=>r.createElement(Pi,Si({attr:ki({},e.attr)},t),Ti(e.child))}function Pi(e){var t=t=>{var n,{attr:i,size:o,title:a}=e,s=xi(e,wi),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Si({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:ki(ki({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&r.createElement("title",null,a),e.children)};return void 0!==_i?r.createElement(_i.Consumer,null,e=>t(e)):t(bi)}function Ii(e){return Ai({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function Li(e){return Ai({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Ni(e){return Ai({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"},child:[]}]})(e)}function Oi(e){return Ai({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function ji(e){return Ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32,384a95.4,95.4,0,0,0,32,71.09V496a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V480H384v16a16,16,0,0,0,16,16h32a16,16,0,0,0,16-16V455.09A95.4,95.4,0,0,0,480,384V336H32ZM496,256H80V69.25a21.26,21.26,0,0,1,36.28-15l19.27,19.26c-13.13,29.88-7.61,59.11,8.62,79.73l-.17.17A16,16,0,0,0,144,176l11.31,11.31a16,16,0,0,0,22.63,0L283.31,81.94a16,16,0,0,0,0-22.63L272,48a16,16,0,0,0-22.62,0l-.17.17c-20.62-16.23-49.83-21.75-79.73-8.62L150.22,20.28A69.25,69.25,0,0,0,32,69.25V256H16A16,16,0,0,0,0,272v16a16,16,0,0,0,16,16H496a16,16,0,0,0,16-16V272A16,16,0,0,0,496,256Z"},child:[]}]})(e)}function Ri(e){return Ai({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M176 256c44.11 0 80-35.89 80-80s-35.89-80-80-80-80 35.89-80 80 35.89 80 80 80zm352-128H304c-8.84 0-16 7.16-16 16v144H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v352c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-48h512v48c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16V240c0-61.86-50.14-112-112-112z"},child:[]}]})(e)}function Mi(e){return Ai({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function Di(e){return Ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function zi(e){return Ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Fi(e){return Ai({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function Bi(e){return Ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Ui(e){return Ai({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 288h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56v-64h-56c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h56V96h-56c-4.42 0-8-3.58-8-8V72c0-4.42 3.58-8 8-8h56V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v448c0 2.77.91 5.24 1.57 7.8L160 329.38V288zm320 64h-32v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-64v56c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-56h-41.37L24.2 510.43c2.56.66 5.04 1.57 7.8 1.57h448c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Vi(e){return Ai({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const Hi=Object.create(null);Hi.open="0",Hi.close="1",Hi.ping="2",Hi.pong="3",Hi.message="4",Hi.upgrade="5",Hi.noop="6";const qi=Object.create(null);Object.keys(Hi).forEach(e=>{qi[Hi[e]]=e});const Wi={type:"error",data:"parser error"},Ki="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Zi="function"===typeof ArrayBuffer,Gi=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,$i=(e,t,n)=>{let{type:r,data:i}=e;return Ki&&i instanceof Blob?t?n(i):Qi(i,n):Zi&&(i instanceof ArrayBuffer||Gi(i))?t?n(i):Qi(new Blob([i]),n):n(Hi[r]+(i||""))},Qi=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function Yi(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Xi;const Ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eo="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)eo[Ji.charCodeAt(n)]=n;const to="function"===typeof ArrayBuffer,no=(e,t)=>{if("string"!==typeof e)return{type:"message",data:io(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:ro(e.substring(1),t)};return qi[n]?e.length>1?{type:qi[n],data:e.substring(1)}:{type:qi[n]}:Wi},ro=(e,t)=>{if(to){const n=(e=>{let t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=eo[e.charCodeAt(t)],r=eo[e.charCodeAt(t+1)],i=eo[e.charCodeAt(t+2)],o=eo[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c})(e);return io(n,t)}return{base64:!0,data:e}},io=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,oo=String.fromCharCode(30);function ao(){return new TransformStream({transform(e,t){!function(e,t){Ki&&e.data instanceof Blob?e.data.arrayBuffer().then(Yi).then(t):Zi&&(e.data instanceof ArrayBuffer||Gi(e.data))?t(Yi(e.data)):$i(e,!1,e=>{Xi||(Xi=new TextEncoder),t(Xi.encode(e))})}(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let so;function lo(e){return e.reduce((e,t)=>e+t.length,0)}function co(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function uo(e){if(e)return function(e){for(var t in uo.prototype)e[t]=uo.prototype[t];return e}(e)}uo.prototype.on=uo.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},uo.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},uo.prototype.off=uo.prototype.removeListener=uo.prototype.removeAllListeners=uo.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},uo.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},uo.prototype.emitReserved=uo.prototype.emit,uo.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},uo.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ho="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),fo="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function po(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const mo=fo.setTimeout,go=fo.clearTimeout;function vo(e,t){t.useNativeTimers?(e.setTimeoutFn=mo.bind(fo),e.clearTimeoutFn=go.bind(fo)):(e.setTimeoutFn=fo.setTimeout.bind(fo),e.clearTimeoutFn=fo.clearTimeout.bind(fo))}function yo(e){return"string"===typeof e?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function bo(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class _o extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class wo extends uo{constructor(e){super(),this.writable=!1,vo(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new _o(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=no(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class xo extends wo{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(oo),r=[];for(let i=0;i<n.length;i++){const e=no(n[i],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((e,o)=>{$i(e,!1,e=>{r[o]=e,++i===n&&t(r.join(oo))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=bo()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let So=!1;try{So="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(HO){}const Eo=So;function ko(){}class Co extends xo{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class To extends uo{constructor(e,t,n){super(),this.createRequest=e,vo(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=po(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(VO){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(VO){}try{n.setRequestHeader("Accept","*/*")}catch(VO){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(VO){return void this.setTimeoutFn(()=>{this._onError(VO)},0)}"undefined"!==typeof document&&(this._index=To.requestsCount++,To.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=ko,e)try{this._xhr.abort()}catch(VO){}"undefined"!==typeof document&&delete To.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(To.requestsCount=0,To.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Ao);else if("function"===typeof addEventListener){addEventListener("onpagehide"in fo?"pagehide":"unload",Ao,!1)}function Ao(){for(let e in To.requests)To.requests.hasOwnProperty(e)&&To.requests[e].abort()}const Po=function(){const e=Io({xdomain:!1});return e&&null!==e.responseType}();function Io(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Eo))return new XMLHttpRequest}catch(VO){}if(!t)try{return new(fo[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(VO){}}const Lo="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class No extends wo{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Lo?{}:po(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(HO){return this.emitReserved("error",HO)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;$i(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(VO){}r&&ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=bo()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Oo=fo.WebSocket||fo.MozWebSocket;const jo={websocket:class extends No{createSocket(e,t,n){return Lo?new Oo(e,t,n):t?new Oo(e,t):new Oo(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends wo{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(HO){return this.emitReserved("error",HO)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){so||(so=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,s){for(n.push(a);;){if(0===r){if(lo(n)<1)break;const e=co(n,1);o=128===(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(lo(n)<2)break;const e=co(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(lo(n)<8)break;const e=co(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){s.enqueue(Wi);break}i=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(lo(n)<i)break;const e=co(n,i);s.enqueue(no(o?e:so.decode(e),t)),r=0}if(0===i||i>e){s.enqueue(Wi);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=ao();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const i=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),i())}).catch(e=>{})};i();const o={type:"open"};this.query.sid&&(o.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then(()=>{r&&ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Co{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Po&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new To(Io,this.uri(),e)}}},Ro=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Mo=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Do(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Ro.exec(e||""),o={},a=14;for(;a--;)o[Mo[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,r){t&&(n[t]=r)}),n}(0,o.query),o}const zo="function"===typeof addEventListener&&"function"===typeof removeEventListener,Fo=[];zo&&addEventListener("offline",()=>{Fo.forEach(e=>e())},!1);class Bo extends uo{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=Do(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Do(t.host).host);vo(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),zo&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Fo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Bo.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Bo.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=yo(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ho(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Bo.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),zo&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Fo.indexOf(this._offlineEventListener);-1!==e&&Fo.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Bo.protocol=4;class Uo extends Bo{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;Bo.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Bo.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function i(){n||(n=!0,c(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){o("transport closed")}function s(){o("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class Vo extends Uo{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>jo[e]).filter(e=>!!e)),super(e,t)}}const Ho="function"===typeof ArrayBuffer,qo=Object.prototype.toString,Wo="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===qo.call(Blob),Ko="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===qo.call(File);function Zo(e){return Ho&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Wo&&e instanceof Blob||Ko&&e instanceof File}function Go(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Go(e[t]))return!0;return!1}if(Zo(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return Go(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Go(e[n]))return!0;return!1}function $o(e){const t=[],n=e.data,r=e;return r.data=Qo(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Qo(e,t){if(!e)return e;if(Zo(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Qo(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Qo(e[r],t));return n}return e}function Yo(e,t){return e.data=Xo(e.data,t),delete e.attachments,e}function Xo(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Xo(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Xo(e[n],t));return e}const Jo=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ea=5;var ta;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ta||(ta={}));class na{constructor(e){this.replacer=e}encode(e){return e.type!==ta.EVENT&&e.type!==ta.ACK||!Go(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ta.EVENT?ta.BINARY_EVENT:ta.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ta.BINARY_EVENT&&e.type!==ta.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=$o(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function ra(e){return"[object Object]"===Object.prototype.toString.call(e)}class ia extends uo{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ta.BINARY_EVENT;n||t.type===ta.BINARY_ACK?(t.type=n?ta.EVENT:ta.ACK,this.reconstructor=new oa(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Zo(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ta[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ta.BINARY_EVENT||n.type===ta.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!ia.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(VO){return!1}}static isPayloadValid(e,t){switch(e){case ta.CONNECT:return ra(t);case ta.DISCONNECT:return void 0===t;case ta.CONNECT_ERROR:return"string"===typeof t||ra(t);case ta.EVENT:case ta.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===Jo.indexOf(t[0]));case ta.ACK:case ta.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class oa{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Yo(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function aa(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const sa=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class la extends uo{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[aa(e,"open",this.onopen.bind(this)),aa(e,"packet",this.onpacket.bind(this)),aa(e,"error",this.onerror.bind(this)),aa(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(sa.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(o.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;const s={type:ta.EVENT,data:o,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof o[o.length-1]){const e=this.ids++,t=o.pop();this._registerAckCallback(e,t),s.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const i=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===i)return void(this.acks[e]=t);const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},i),a=function(){r.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(r,n)};a.withError=!0,this.acks[e]=a}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((t,r)=>{const i=(e,n)=>e?r(e):t(n);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n(null,...o)}return r.pending=!1,t._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ta.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ta.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ta.EVENT:case ta.BINARY_EVENT:this.onevent(e);break;case ta.ACK:case ta.BINARY_ACK:this.onack(e);break;case ta.DISCONNECT:this.ondisconnect();break;case ta.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t.packet({type:ta.ACK,id:e,data:i})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ta.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function ca(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ca.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ca.prototype.reset=function(){this.attempts=0},ca.prototype.setMin=function(e){this.ms=e},ca.prototype.setMax=function(e){this.max=e},ca.prototype.setJitter=function(e){this.jitter=e};class ua extends uo{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,vo(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new ca({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Vo(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=aa(t,"open",function(){n.onopen(),e&&e()}),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=aa(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{r(),i(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(aa(e,"ping",this.onping.bind(this)),aa(e,"data",this.ondata.bind(this)),aa(e,"error",this.onerror.bind(this)),aa(e,"close",this.onclose.bind(this)),aa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(VO){this.onclose("parse error",VO)}}ondecoded(e){ho(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new la(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ha={};function da(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=Do(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=ha[i]&&o in ha[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new ua(r,t):(ha[i]||(ha[i]=new ua(r,t)),s=ha[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(da,{Manager:ua,Socket:la,io:da,connect:da});const fa=(()=>{const e="undefined"!==typeof window?window:{},t=e.location||{origin:""},n=/^(localhost|127\.0\.0\.1)$/.test(t.hostname||""),r=t.origin||"http://localhost:3000",i=n?r.replace(":3000",":4000"):r;return(e.__PULSE_API_BASE||"").replace(/\/$/,"")||i})();var pa,ma,ga,va,ya,ba,_a,wa,xa=n(579);const Sa=vi.div(pa||(pa=t(["\n  position: fixed; inset: 0; background: rgba(0,0,0,.45);\n  display: ",";\n  align-items: center; justify-content: center; z-index: 1000;\n"])),e=>{let{open:t}=e;return t?"flex":"none"}),Ea=vi.div(ma||(ma=t(["\n  width: min(520px, 92vw);\n  background: #fff; border-radius: 12px; box-shadow: 0 12px 40px rgba(0,0,0,.2);\n  padding: 18px; position: relative;\n"]))),ka=vi.div(ga||(ga=t([" display:flex; gap:8px; margin-bottom:12px; "]))),Ca=vi.button(va||(va=t(["\n  flex:1; padding:12px 0; font-weight:700; border:none; cursor:pointer;\n  background: ",";\n  color: ",";\n  border-radius: ",";\n  display:flex; align-items:center; justify-content:center; gap:6px; font-size:15px;\n"])),e=>{let{$active:t}=e;return t?"#f0ae00":"#f3f4f6"},e=>{let{$active:t}=e;return t?"#fff":"#374151"},e=>{let{$active:t}=e;return t?"8px 8px 0 0":"8px"}),Ta=vi.button(ya||(ya=t(["\n  position:absolute; right:10px; top:10px; border:none; background:#fff4; width:28px; height:28px;\n  border-radius:50%; cursor:pointer; font-weight:700;\n"]))),Aa=vi.input(ba||(ba=t(["\n  width:100%; padding:12px 14px; border:1px solid #e5e7eb; border-radius:8px; outline:none;\n  font-size:15px; color:#111; background:#fff; margin-top:10px;\n  &:focus{ border-color:#f0ae00; box-shadow:0 0 0 3px rgba(240,174,0,.15); }\n"]))),Pa=vi.button(_a||(_a=t(["\n  width:100%; margin-top:14px; padding:12px 16px; border:none; border-radius:8px;\n  background:#f0ae00; color:#fff; font-weight:800; cursor:pointer; font-size:15px;\n  opacity:",";\n"])),e=>{let{disabled:t}=e;return t?.7:1}),Ia=vi.div(wa||(wa=t(["\n  margin-top:10px; background:#fee2e2; color:#991b1b; border:1px solid #fecaca; padding:10px; border-radius:8px;\n"])));function La(e){let{open:t,onClose:n,onAuth:i}=e;const[o,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,_]=(0,r.useState)(""),w=()=>{_(""),null===n||void 0===n||n()};return(0,xa.jsx)(Sa,{open:t,onMouseDown:e=>{e.target===e.currentTarget&&w()},children:(0,xa.jsxs)(Ea,{onMouseDown:e=>e.stopPropagation(),children:[(0,xa.jsx)(Ta,{onClick:w,children:"\u2715"}),(0,xa.jsxs)(ka,{children:[(0,xa.jsx)(Ca,{$active:o,onClick:()=>a(!0),children:"\ud83d\udd10 \u0544\u0578\u0582\u057f\u0584"}),(0,xa.jsx)(Ca,{$active:!o,onClick:()=>a(!1),children:"\ud83d\udc64 \u0533\u0580\u0561\u0576\u0581\u0578\u0582\u0574"})]}),o?(0,xa.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),_(""),s&&c){y(!0);try{var t;const e=await fetch("".concat(fa,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,password:c})});let o=null;try{o=await e.json()}catch(r){o=null}if(!e.ok||null===(t=o)||void 0===t||!t.ok){var n;const t=(null===(n=o)||void 0===n?void 0:n.error)||(403===e.status?"CORS: origin \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0451\u043d \u043d\u0430 \u0431\u044d\u043a\u0435":"\u054d\u056d\u0561\u056c \u0574\u0578\u0582\u057f\u0584");throw new Error(t)}o.token&&localStorage.setItem("pulse_token",o.token),o.user&&localStorage.setItem("pulse_user",JSON.stringify(o.user)),window.dispatchEvent(new CustomEvent("pulse:auth",{detail:o.user})),null===i||void 0===i||i(o.user),w()}catch(o){_(o.message||"\u054d\u056d\u0561\u056c \u0574\u0578\u0582\u057f\u0584")}finally{y(!1)}}else _("\u053c\u0580\u0561\u0581\u0580\u0565\u0584 email \u0587 \u0563\u0561\u0572\u057f\u0576\u0561\u0562\u0561\u057c")},noValidate:!0,children:[(0,xa.jsx)(Aa,{type:"email",placeholder:"\u0537\u056c. \u0570\u0561\u057d\u0581\u0565",value:s,onChange:e=>l(e.target.value),autoComplete:"email"}),(0,xa.jsx)(Aa,{type:"password",placeholder:"\u0533\u0561\u0572\u057f\u0576\u0561\u0562\u0561\u057c",value:c,onChange:e=>u(e.target.value),autoComplete:"current-password"}),(0,xa.jsx)(Pa,{type:"submit",disabled:v,children:v?"\u0544\u0578\u0582\u057f\u0584\u2026":"\u0544\u0578\u0582\u057f\u0584 \u0563\u0578\u0580\u056e\u0565\u056c"}),b&&(0,xa.jsx)(Ia,{children:b})]}):(0,xa.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),_(""),h&&f&&m){y(!0);try{var t;const e=await fetch("".concat(fa,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:h,email:f,password:m})});let o=null;try{o=await e.json()}catch(r){o=null}if(!e.ok||null===(t=o)||void 0===t||!t.ok){var n;const t=(null===(n=o)||void 0===n?void 0:n.error)||(409===e.status?"\u0531\u0575\u057d email-\u0578\u057e \u0585\u0563\u057f\u057e\u0578\u0572 \u0561\u0580\u0564\u0565\u0576 \u056f\u0561":403===e.status?"CORS: origin \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0451\u043d \u043d\u0430 \u0562\u044d\u043a\u0435":"\u0549\u0570\u0561\u057b\u0578\u0572\u057e\u0565\u0581 \u0563\u0580\u0561\u0576\u0581\u057e\u0565\u056c");throw new Error(t)}o.token&&localStorage.setItem("pulse_token",o.token),o.user&&localStorage.setItem("pulse_user",JSON.stringify(o.user)),window.dispatchEvent(new CustomEvent("pulse:auth",{detail:o.user})),null===i||void 0===i||i(o.user),w()}catch(o){_(o.message||"\u0549\u0570\u0561\u057b\u0578\u0572\u057e\u0565\u0581 \u0563\u0580\u0561\u0576\u0581\u057e\u0565\u056c")}finally{y(!1)}}else _("\u0531\u0576\u0578\u0582\u0576, email \u0587 \u0563\u0561\u0572\u057f\u0576\u0561\u0562\u0561\u057c \u057a\u0561\u0580\u057f\u0561\u0564\u056b\u0580 \u0565\u0576")},noValidate:!0,children:[(0,xa.jsx)(Aa,{type:"text",placeholder:"\u0531\u0576\u0578\u0582\u0576",value:h,onChange:e=>d(e.target.value),autoComplete:"name"}),(0,xa.jsx)(Aa,{type:"email",placeholder:"\u0537\u056c. \u0570\u0561\u057d\u0581\u0565",value:f,onChange:e=>p(e.target.value),autoComplete:"email"}),(0,xa.jsx)(Aa,{type:"password",placeholder:"\u0533\u0561\u0572\u057f\u0576\u0561\u0562\u0561\u057c (\u0561\u057c\u0576\u057e\u0561\u0566\u0576 6 \u0576\u0577\u0561\u0576)",value:m,onChange:e=>g(e.target.value),autoComplete:"new-password",minLength:6}),(0,xa.jsx)(Pa,{type:"submit",disabled:v,children:v?"\u0533\u0580\u0561\u0576\u0581\u0578\u0582\u0574\u2026":"\u0533\u0580\u0561\u0576\u0581\u057e\u0565\u056c"}),b&&(0,xa.jsx)(Ia,{children:b})]})]})})}var Na,Oa,ja,Ra,Ma,Da,za,Fa,Ba,Ua,Va,Ha,qa,Wa,Ka,Za;const Ga={en:{home:"Home",about:"About Us",contacts:"Contacts",properties:"Properties",signin:"Sign In",cta:"Have a real estate for sale"},ru:{home:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",about:"\u041e \u043d\u0430\u0441",contacts:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",properties:"\u041e\u0431\u044a\u0435\u043a\u0442\u044b",signin:"\u0412\u043e\u0439\u0442\u0438",cta:"\u0415\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443"},hy:{home:"\u0533\u056c\u056d\u0561\u057e\u0578\u0580",about:"\u0544\u0565\u0580 \u0574\u0561\u057d\u056b\u0576",contacts:"\u053f\u0578\u0576\u057f\u0561\u056f\u057f\u0576\u0565\u0580",properties:"\u0533\u0578\u0582\u0575\u0584\u0565\u0580",signin:"\u0544\u0578\u0582\u057f\u0584 \u0563\u0578\u0580\u056e\u0565\u056c",cta:"\u0548\u0582\u0576\u0565\u055e\u0584 \u057e\u0561\u0573\u0561\u057c\u0584\u056b \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584"}},$a=vi.header(Na||(Na=t(["\n  width: 100%;\n  padding: 20px 40px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0; left: 0; right: 0;\n  z-index: 9999 !important;\n  background: rgba(0, 0, 0, 0.8);\n  @media (max-width: 768px) { position: fixed; }\n"]))),Qa=vi.img(Oa||(Oa=t(["height: 60px;"]))),Ya=vi.nav(ja||(ja=t(["\n  display: flex; gap: 30px;\n  a { text-decoration: none; color: white; font-weight: 500; transition: color .2s; &:hover{ color:#f0ae00; } }\n  @media (max-width: 768px){ display:none; }\n"]))),Xa=vi.div(Ra||(Ra=t(["\n  display:flex; align-items:center; gap:16px;\n  @media (max-width:768px){ display:none; }\n"]))),Ja=vi.button(Ma||(Ma=t(["\n  padding:8px 16px; background:#f0ae00; color:#fff; border:none; border-radius:4px; cursor:pointer;\n  &:hover{ filter:brightness(.95); }\n"]))),es=vi.button(Da||(Da=t(["\n  background:none; border:none; color:#fff; font-weight:500; cursor:pointer; transition:color .2s;\n  &:hover{ color:#f0ae00; }\n"]))),ts=vi.div(za||(za=t(["\n  display:none; font-size:24px; color:#fff; cursor:pointer;\n  @media (max-width:768px){ display:block; }\n"]))),ns=vi.div(Fa||(Fa=t(["\n  display:none;\n  @media (max-width:768px){\n    display:flex; flex-direction:column; position:fixed;\n    top:var(--header-h,72px); left:0; right:0; height:calc(100vh - var(--header-h,72px));\n    background:#333; padding:20px; z-index:9998; overflow-y:auto;\n    .menu-item{ color:#fff; text-align:left; padding:12px 0; background:none; border:none; font-size:16px; text-decoration:none; display:block; cursor:pointer; }\n    .menu-item:hover{ color:#f0ae00; }\n  }\n"]))),rs=vi.a(Ba||(Ba=t(["\n  display:none;\n  @media (max-width:768px){\n    display:inline-flex; align-items:center; justify-content:center; position:absolute; right:72px; top:50%; transform:translateY(-50%);\n    width:44px; height:44px; border-radius:9999px; background:#28a745; color:#fff; text-decoration:none; box-shadow:0 8px 20px rgba(0,0,0,.12); z-index:10000;\n  }\n"]))),is=vi.span(Ua||(Ua=t(["\n  display:inline-flex; align-items:center; justify-content:center;\n  min-width:18px; height:18px; padding:0 5px;\n  margin-left:6px; border-radius:999px; background:#f43f5e; color:#fff;\n  font-size:11px; line-height:1; font-weight:800;\n"]))),os=vi.div(Va||(Va=t(["display:flex; gap:8px; align-items:center;"]))),as=vi.button(Ha||(Ha=t(["\n  width:28px; height:20px; padding:0; border-radius:4px;\n  border:1px solid ",";\n  background:rgba(255,255,255,.08); display:inline-flex; align-items:center; justify-content:center; cursor:pointer; overflow:hidden;\n"])),e=>{let{$active:t}=e;return t?"#f0ae00":"rgba(255,255,255,.35)"}),ss=vi.img(qa||(qa=t(["width:100%; height:100%; object-fit:cover; display:block; border-radius:3px;"]))),ls=vi.span(Wa||(Wa=t(["font-size:11px; color:#fff; font-weight:700;"]))),cs={hy:"am",ru:"ru",en:"gb"};function us(e){let{lang:t}=e;const n=cs[t]||"gb",[i,o]=(0,r.useState)(!1),a="https://flagcdn.com/".concat(n,".svg");return i?(0,xa.jsx)(ls,{children:(t||"").toUpperCase()}):(0,xa.jsx)(ss,{src:a,alt:t,onError:()=>o(!0)})}const hs=vi(Ja)(Ka||(Ka=t([" width:100%; margin-top:12px; border-radius:6px; font-weight:700; "]))),ds=vi(Bi)(Za||(Za=t(["transform:scaleX(-1);"])));function fs(){return localStorage.getItem("pulse:chat:threadId")||localStorage.getItem("pulse:chat:tid")||localStorage.getItem("chat:threadId")||""}function ps(){const e=localStorage.getItem("pulse:chat:unreadUserTotal");if(null!=e)return Number(e)||0;try{const e=JSON.parse(localStorage.getItem("pulse:chat:unreadUserMap")||"{}");return Object.values(e).reduce((e,t)=>e+Number(t||0),0)}catch(t){return 0}}function ms(){if(window.__pulseHeaderSock)return window.__pulseHeaderSock;const e=da("".concat("http://localhost:4000","/chat"),{path:"/socket.io",transports:["websocket","polling"]});return window.__pulseHeaderSock=e,e}const gs=e=>{let{onPropertiesClick:t}=e;const[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)("hy"),[c,u]=(0,r.useState)(()=>{try{return JSON.parse(localStorage.getItem("pulse_user")||"null")}catch(e){return null}}),[h,d]=(0,r.useState)(ps()),f=de(),p=me(),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=m.current;if(!e)return;const t=()=>{const t=e.offsetHeight||90;document.documentElement.style.setProperty("--header-h","".concat(t,"px"))};t();const n=new ResizeObserver(t);return n.observe(e),window.addEventListener("resize",t),()=>{n.disconnect(),window.removeEventListener("resize",t)}},[]),(0,r.useEffect)(()=>{const e=localStorage.getItem("lang"),t=e||document.documentElement.lang||"hy";e||localStorage.setItem("lang",t),l(t),document.documentElement.lang=t},[]),(0,r.useEffect)(()=>{const e=e=>u(e.detail||null);return window.addEventListener("pulse:auth",e),()=>window.removeEventListener("pulse:auth",e)},[]),(0,r.useEffect)(()=>{const e=()=>d(ps());return window.addEventListener("pulse:chat-unread-changed",e),window.addEventListener("pulse:user-unread-changed",e),window.addEventListener("storage",e),d(ps()),()=>{window.removeEventListener("pulse:chat-unread-changed",e),window.removeEventListener("pulse:user-unread-changed",e),window.removeEventListener("storage",e)}},[]),(0,r.useEffect)(()=>{const e=fs();if(!e)return;const t=ms();t.emit("join",{role:"user",threadId:e});const n=t=>{null!==t&&void 0!==t&&t.threadId&&t.threadId===e&&(f.pathname.startsWith("/contacts")||"admin"!==t.sender||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{const n=JSON.parse(localStorage.getItem("pulse:chat:unreadUserMap")||"{}");n[e]=Number(n[e]||0)+t;const r=Object.values(n).reduce((e,t)=>e+Number(t||0),0);localStorage.setItem("pulse:chat:unreadUserMap",JSON.stringify(n)),localStorage.setItem("pulse:chat:unreadUserTotal",String(r)),window.dispatchEvent(new CustomEvent("pulse:chat-unread-changed",{detail:{total:r}})),window.dispatchEvent(new CustomEvent("pulse:user-unread-changed",{detail:{total:r}}))}catch(n){}}(e,1))};return t.on("message",n),()=>{t.off("message",n)}},[f.pathname]),(0,r.useEffect)(()=>{if(f.pathname.startsWith("/contacts")){const e=fs();if(localStorage.setItem("pulse:chat:unreadUserMap",JSON.stringify({})),localStorage.setItem("pulse:chat:unreadUserTotal","0"),window.dispatchEvent(new CustomEvent("pulse:chat-unread-changed",{detail:{total:0}})),window.dispatchEvent(new CustomEvent("pulse:user-unread-changed",{detail:{total:0}})),d(0),e){const t=ms();t.emit("join",{role:"user",threadId:e}),t.emit("read",{threadId:e,side:"user"})}}},[f.pathname]);const g=e=>{l(e),localStorage.setItem("lang",e),document.documentElement.lang=e},v=()=>{const e=document.getElementById("properties")||document.getElementById("recent-properties")||document.querySelector('[data-scroll="properties"]');return!!e&&(((e,t)=>{const n=e.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:n,behavior:"smooth"})})(e,(()=>{const e=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--header-h"),10);return Number.isFinite(e)?e:90})()),!0)},y=e=>{if(e.preventDefault(),a(!1),v())return;p("/");let t=0;const n=setInterval(()=>{(v()||++t>25)&&clearInterval(n)},80)},b=Ga[s]||Ga.hy;return(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsxs)($a,{ref:m,children:[(0,xa.jsx)(_t,{to:"/","aria-label":"Go home",style:{lineHeight:0},children:(0,xa.jsx)(Qa,{src:"".concat("/pulserealty","/pulselogo.PNG"),alt:"Pulse Realty Logo"})}),(0,xa.jsx)(rs,{href:"tel:+37494444940","aria-label":"Call",children:(0,xa.jsx)(ds,{})}),(0,xa.jsxs)(Ya,{children:[(0,xa.jsx)(_t,{to:"/",children:b.home}),(0,xa.jsx)(_t,{to:"/about",children:b.about}),(0,xa.jsxs)(_t,{to:"/contacts",children:[b.contacts,h>0&&(0,xa.jsx)(is,{children:h})]}),(0,xa.jsx)(_t,{to:"/",onClick:y,children:b.properties})]}),(0,xa.jsx)(Xa,{children:(0,xa.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,xa.jsxs)(os,{children:[(0,xa.jsx)(as,{"aria-label":"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",onClick:()=>g("hy"),$active:"hy"===s,children:(0,xa.jsx)(us,{lang:"hy"})}),(0,xa.jsx)(as,{"aria-label":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",onClick:()=>g("ru"),$active:"ru"===s,children:(0,xa.jsx)(us,{lang:"ru"})}),(0,xa.jsx)(as,{"aria-label":"English",onClick:()=>g("en"),$active:"en"===s,children:(0,xa.jsx)(us,{lang:"en"})})]}),c?(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsx)("span",{style:{color:"#fff"},children:c.name||c.email}),(0,xa.jsx)(es,{onClick:()=>{localStorage.removeItem("pulse_token"),localStorage.removeItem("pulse_user"),window.dispatchEvent(new CustomEvent("pulse:auth",{detail:null}))},children:"ru"===s?"\u0412\u044b\u0439\u0442\u0438":"en"===s?"Sign out":"\u0534\u0578\u0582\u0580\u057d \u0563\u0561\u056c"})]}):(0,xa.jsx)(es,{onClick:()=>i(!0),children:b.signin}),(0,xa.jsx)(Ja,{as:_t,to:"/sell",children:b.cta})]})}),(0,xa.jsx)(ts,{onClick:()=>a(e=>!e),children:o?(0,xa.jsx)(Vi,{}):(0,xa.jsx)(Oi,{})})]}),o&&(0,xa.jsxs)(ns,{children:[(0,xa.jsx)(_t,{to:"/",className:"menu-item",onClick:()=>a(!1),children:b.home}),(0,xa.jsx)(_t,{to:"/about",className:"menu-item",onClick:()=>a(!1),children:b.about}),(0,xa.jsxs)(_t,{to:"/contacts",className:"menu-item",onClick:()=>a(!1),children:[b.contacts,h>0&&(0,xa.jsx)(is,{style:{marginLeft:8},children:h})]}),(0,xa.jsx)("button",{className:"menu-item",onClick:y,children:b.properties}),(0,xa.jsx)("button",{className:"menu-item",onClick:()=>{i(!0),a(!1)},children:b.signin}),(0,xa.jsxs)("div",{style:{display:"flex",gap:12,marginTop:8},children:[(0,xa.jsx)(as,{"aria-label":"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",onClick:()=>g("hy"),$active:"hy"===s,children:(0,xa.jsx)(us,{lang:"hy"})}),(0,xa.jsx)(as,{"aria-label":"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",onClick:()=>g("ru"),$active:"ru"===s,children:(0,xa.jsx)(us,{lang:"ru"})}),(0,xa.jsx)(as,{"aria-label":"English",onClick:()=>g("en"),$active:"en"===s,children:(0,xa.jsx)(us,{lang:"en"})})]}),(0,xa.jsx)(hs,{as:_t,to:"/sell",onClick:()=>a(!1),children:b.cta})]}),(0,xa.jsx)(La,{open:n,onClose:()=>i(!1)})]})};var vs,ys,bs,_s,ws,xs,Ss,Es,ks,Cs;const Ts={en:{sellText:"Do you have a property for sale? We can help you sell it.",fullName:"Full Name",email:"Email Address",phone:"Phone Number",request:"Request a Callback",chatBtn:"\ud83d\udcac Online Chat",contact:"Contact",chat:"Chat",follow:"Follow Us",openChat:"Open Chat",address:"62 Republic St, Yerevan, Armenia",fillAll:"Please fill in all fields.",thanks:(e,t,n)=>"Thanks ".concat(e,", we\u2019ll contact you at ").concat(t," or call ").concat(n),rights:"All rights reserved."},ru:{sellText:"\u0423 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443? \u041c\u044b \u043f\u043e\u043c\u043e\u0436\u0435\u043c \u0435\u0451 \u043f\u0440\u043e\u0434\u0430\u0442\u044c.",fullName:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",email:"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",request:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u0432\u043e\u043d\u043e\u043a",chatBtn:"\ud83d\udcac \u041e\u043d\u043b\u0430\u0439\u043d-\u0447\u0430\u0442",contact:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",chat:"\u0427\u0430\u0442",follow:"\u041c\u044b \u0432 \u0441\u043e\u0446\u0441\u0435\u0442\u044f\u0445",openChat:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0442",address:"\u0443\u043b. \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438, 62, \u0415\u0440\u0435\u0432\u0430\u043d, \u0410\u0440\u043c\u0435\u043d\u0438\u044f",fillAll:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f.",thanks:(e,t,n)=>"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, ".concat(e,"! \u0421\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u043f\u043e ").concat(t," \u0438\u043b\u0438 \u043f\u043e\u0437\u0432\u043e\u043d\u0438\u043c \u043d\u0430 ").concat(n),rights:"\u0412\u0441\u0435 \u043f\u0440\u0430\u0432\u0430 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u044b."},hy:{sellText:"\u0548\u0582\u0576\u0565\u055e\u0584 \u057e\u0561\u0573\u0561\u057c\u0584\u056b \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584\u0589 \u053f\u0585\u0563\u0576\u0565\u0576\u0584 \u0561\u0580\u0561\u0563 \u057e\u0561\u0573\u0561\u057c\u0565\u056c\u0589",fullName:"\u0531\u0576\u0578\u0582\u0576 \u0531\u0566\u0563\u0561\u0576\u0578\u0582\u0576",email:"\u0537\u056c. \u0570\u0561\u057d\u0581\u0565",phone:"\u0540\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580",request:"\u054a\u0561\u057f\u057e\u056b\u0580\u0565\u056c \u0566\u0561\u0576\u0563",chatBtn:"\ud83d\udcac \u0531\u057c\u0581\u0561\u0576\u0581 \u0579\u0561\u057f",contact:"\u053f\u0561\u057a",chat:"\u0549\u0561\u057f",follow:"\u0540\u0565\u057f\u0587\u0565\u0584 \u0574\u0565\u0566",openChat:"\u0532\u0561\u0581\u0576\u0565\u056c \u0579\u0561\u057f\u0568",address:"\u0540\u0561\u0576\u0580\u0561\u057a\u0565\u057f\u0578\u0582\u0569\u0575\u0561\u0576 \u0583\u0578\u0572\u0578\u0581, 62, \u0535\u0580\u0587\u0561\u0576, \u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576",fillAll:"\u053d\u0576\u0564\u0580\u0578\u0582\u0574 \u0565\u0576\u0584 \u056c\u0580\u0561\u0581\u0576\u0565\u056c \u0562\u0578\u056c\u0578\u0580 \u0564\u0561\u0577\u057f\u0565\u0580\u0568\u0589",thanks:(e,t,n)=>"\u0547\u0576\u0578\u0580\u0570\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576, ".concat(e,"\u0589 \u053f\u056f\u0561\u057a\u057e\u0565\u0576\u0584 ").concat(t," \u0567\u056c. \u0570\u0561\u057d\u0581\u0565\u0578\u057e \u056f\u0561\u0574 \u056f\u0566\u0561\u0576\u0563\u0561\u0570\u0561\u0580\u0565\u0576\u0584 ").concat(n," \u0570\u0561\u0574\u0561\u0580\u056b\u0576"),rights:"\u0532\u0578\u056c\u0578\u0580 \u056b\u0580\u0561\u057e\u0578\u0582\u0576\u0584\u0576\u0565\u0580\u0568 \u057a\u0561\u0577\u057f\u057a\u0561\u0576\u057e\u0561\u056e \u0565\u0576\u0589"}},As=()=>document.documentElement.lang||localStorage.getItem("lang")||"en",Ps=vi.footer(vs||(vs=t(["\n  background: #4a4a4a;\n  color: white;\n  padding: 32px 20px;\n  text-align: center;\n  position: relative;\n  z-index: 0;\n"]))),Is=vi.div(ys||(ys=t(["\n  max-width: 1100px;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 24px;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding-bottom: 20px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 12px;\n  }\n"]))),Ls=vi.div(bs||(bs=t(["\n  flex: 1;\n  min-width: 200px;\n  text-align: left;\n\n  h4 {\n    color: #f0ae00;\n    margin: 0 0 10px 0;\n    font-size: 18px;\n  }\n\n  p, a {\n    color: #ddd;\n    font-size: 14px;\n    text-decoration: none;\n    display: block;\n    margin-bottom: 6px;\n    &:hover { color: #f0ae00; }\n  }\n\n  @media (max-width: 768px) {\n    flex: 0 0 auto;\n    width: 100%;\n    max-width: 500px;\n  }\n"]))),Ns=vi.div(_s||(_s=t(["\n  margin-top: 8px;\n  display: flex;\n  gap: 12px;\n\n  a {\n    color: white;\n    font-size: 18px;\n    transition: color 0.3s;\n    &:hover { color: #f0ae00; }\n  }\n"]))),Os=vi.div(ws||(ws=t(["\n  border-top: 1px solid #555;\n  padding-top: 14px;\n  font-size: 14px;\n  color: #c4c4c4;\n"]))),js=vi.div(xs||(xs=t(["\n  background-color: #2e2e2e;\n  padding: 18px;\n  border-radius: 10px;\n  margin: 20px auto 24px;\n  max-width: 500px;\n  text-align: center;\n"]))),Rs=vi.p(Ss||(Ss=t(["\n  font-size: 16px;\n  margin-bottom: 12px;\n  color: #f5f5f5;\n"]))),Ms=vi.input(Es||(Es=t(["\n  padding: 10px;\n  width: 100%;\n  max-width: 300px;\n  margin-bottom: 8px;\n  border: none;\n  border-radius: 5px;\n"]))),Ds=vi.button(ks||(ks=t(["\n  padding: 10px 20px;\n  background-color: transparent;\n  border: 2px solid #f0ae00;\n  color: #f0ae00;\n  border-radius: 5px;\n  cursor: pointer;\n  font-weight: bold;\n  transition: 0.3s;\n  &:hover { background-color: #f0ae00; color: black; }\n"]))),zs=vi(Bi)(Cs||(Cs=t(["\n  transform: scaleX(-1);\n"]))),Fs=()=>{const[e,t]=(0,r.useState)(As()),n=Ts[e]||Ts.en,[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=document.documentElement,n=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"lang"===e.attributeName&&t(As())})});return n.observe(e,{attributes:!0}),()=>n.disconnect()},[]);const u=(new Date).getFullYear();return(0,xa.jsxs)(Ps,{children:[(0,xa.jsxs)(js,{children:[(0,xa.jsx)(Rs,{children:n.sellText}),(0,xa.jsx)(Ms,{type:"text",placeholder:n.fullName,value:i,onChange:e=>o(e.target.value)}),(0,xa.jsx)(Ms,{type:"email",placeholder:n.email,value:a,onChange:e=>s(e.target.value)}),(0,xa.jsx)(Ms,{type:"tel",placeholder:n.phone,value:l,onChange:e=>c(e.target.value)}),(0,xa.jsx)("br",{}),(0,xa.jsx)(Ds,{onClick:()=>{i.trim()&&a.trim()&&l.trim()?(alert(n.thanks(i,a,l)),o(""),s(""),c("")):alert(n.fillAll)},children:n.request}),(0,xa.jsx)("br",{}),(0,xa.jsx)("br",{}),(0,xa.jsx)(Ds,{children:n.chatBtn})]}),(0,xa.jsxs)(Is,{children:[(0,xa.jsxs)(Ls,{children:[(0,xa.jsx)("h4",{children:n.contact}),(0,xa.jsxs)("a",{href:"tel:+37494444940",children:[(0,xa.jsx)(zs,{})," 094444940"]}),(0,xa.jsxs)("a",{href:"https://www.google.com/maps?q=".concat(encodeURIComponent(n.address)),target:"_blank",rel:"noopener noreferrer",children:[(0,xa.jsx)(Fi,{})," ",n.address]})]}),(0,xa.jsxs)(Ls,{children:[(0,xa.jsx)("h4",{children:n.chat}),(0,xa.jsx)(_t,{to:"/contacts",children:n.openChat})]}),(0,xa.jsxs)(Ls,{children:[(0,xa.jsx)("h4",{children:n.follow}),(0,xa.jsxs)(Ns,{children:[(0,xa.jsx)("a",{href:"https://www.facebook.com/share/1FWngzVzdx/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",children:(0,xa.jsx)(Ii,{})}),(0,xa.jsx)("a",{href:"https://www.instagram.com/pulse_realty?igsh=MTRucWprdXIydGdwcQ==",target:"_blank",rel:"noopener noreferrer",children:(0,xa.jsx)(Li,{})}),(0,xa.jsx)("a",{href:"https://t.me/Pulse_realty",target:"_blank",rel:"noopener noreferrer",children:(0,xa.jsx)(Ni,{})})]})]})]}),(0,xa.jsxs)(Os,{children:["\xa9 ",u," Pulse Realty. ",n.rights]})]})};var Bs,Us;const Vs=vi.main(Bs||(Bs=t([" flex: 1; "]))),Hs=vi.div(Us||(Us=t(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  position: relative;\n\n  ","\n"])),e=>{let{$withBackground:t}=e;return t&&"\n    background-image: url('https://images.unsplash.com/photo-1501183638710-841dd1904471');\n    background-size: cover;\n    background-position: center;\n\n    &::before {\n      content: '';\n      position: absolute;\n      inset: 0;\n      background-color: rgba(0,0,0,0.5);\n      z-index: 0;\n    }\n    > * { position: relative; z-index: 1; }\n  "}),qs=()=>{const e="/"===de().pathname,t=(0,r.useRef)(null);return(0,xa.jsxs)(Hs,{$withBackground:!e,children:[(0,xa.jsx)(gs,{onPropertiesClick:()=>{var e;null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})}}),(0,xa.jsx)(Vs,{children:(0,xa.jsx)(Re,{context:{propertiesRef:t}})}),(0,xa.jsx)(Fs,{})]})},Ws=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ks={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ws(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Zs;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Zs extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gs=function(e){return function(e){const t=Ws(e);return Ks.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$s=function(e){try{return Ks.decodeString(e,!0)}catch(VO){console.error("base64Decode failed: ",VO)}return null};function Qs(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Ys=()=>{try{return Qs().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/pulserealty",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(VO){return}const t=e&&$s(e[1]);return t&&JSON.parse(t)})()}catch(VO){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(VO))}},Xs=e=>{const t=(e=>{var t;return null===(t=Ys())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Js=()=>{var e;return null===(e=Ys())||void 0===e?void 0:e.config};class el{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function tl(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function nl(e){return(await fetch(e,{credentials:"include"})).ok}const rl={};let il=!1;function ol(e,t){if("undefined"===typeof window||"undefined"===typeof document||!tl(window.location.host)||rl[e]===t||rl[e]||il)return;function n(e){return"__firebase__banner__".concat(e)}rl[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(rl))rl[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{il=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function al(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function sl(){var e;const t=null===(e=Ys())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(VO){return!1}}function ll(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function cl(){return!sl()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ul(){try{return"object"===typeof indexedDB}catch(VO){return!1}}function hl(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function dl(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class fl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ml,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new fl(n,o,t)}}const ml=/\{\$([^}]+)}/g;function gl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(vl(n)&&vl(o)){if(!gl(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vl(e){return null!==e&&"object"===typeof e}function yl(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function bl(e){return e&&e._delegate?e._delegate:e}class _l{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const wl="[DEFAULT]";class xl{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new el;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(VO){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(VO){if(r)return null;throw VO}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wl})}catch(VO){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(VO){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wl;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wl;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sl(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wl;return this.component?this.component.multipleInstances?e:wl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Sl(e){return e===wl?void 0:e}class El{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const kl=[];var Cl;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Cl||(Cl={}));const Tl={debug:Cl.DEBUG,verbose:Cl.VERBOSE,info:Cl.INFO,warn:Cl.WARN,error:Cl.ERROR,silent:Cl.SILENT},Al=Cl.INFO,Pl={[Cl.DEBUG]:"log",[Cl.VERBOSE]:"log",[Cl.INFO]:"info",[Cl.WARN]:"warn",[Cl.ERROR]:"error"},Il=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Pl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class Ll{constructor(e){this.name=e,this._logLevel=Al,this._logHandler=Il,this._userLogHandler=null,kl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Cl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cl.DEBUG,...t),this._logHandler(this,Cl.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cl.VERBOSE,...t),this._logHandler(this,Cl.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cl.INFO,...t),this._logHandler(this,Cl.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cl.WARN,...t),this._logHandler(this,Cl.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Cl.ERROR,...t),this._logHandler(this,Cl.ERROR,...t)}}let Nl,Ol;const jl=new WeakMap,Rl=new WeakMap,Ml=new WeakMap,Dl=new WeakMap,zl=new WeakMap;let Fl={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rl.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ml.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vl(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Bl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ol||(Ol=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Hl(this),n),Vl(jl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vl(e.apply(Hl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Hl(this),t,...r);return Ml.set(o,t.sort?t.sort():[t]),Vl(o)}}function Ul(e){return"function"===typeof e?Bl(e):(e instanceof IDBTransaction&&function(e){if(Rl.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Rl.set(e,t)}(e),t=e,(Nl||(Nl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Fl):e);var t}function Vl(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Vl(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&jl.set(t,e)}).catch(()=>{}),zl.set(t,e),t}(e);if(Dl.has(e))return Dl.get(e);const t=Ul(e);return t!==e&&(Dl.set(e,t),zl.set(t,e)),t}const Hl=e=>zl.get(e);function ql(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Vl(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Vl(a.result),e.oldVersion,e.newVersion,Vl(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const Wl=["get","getKey","getAll","getAllKeys","count"],Kl=["put","add","delete","clear"],Zl=new Map;function Gl(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Zl.get(t))return Zl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Kl.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wl.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Zl.set(t,o),o}Fl=(e=>u(u({},e),{},{get:(t,n,r)=>Gl(t,n)||e.get(t,n,r),has:(t,n)=>!!Gl(t,n)||e.has(t,n)}))(Fl);class $l{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Ql="@firebase/app",Yl="0.14.1",Xl=new Ll("@firebase/app"),Jl="@firebase/app-compat",ec="@firebase/analytics-compat",tc="@firebase/analytics",nc="@firebase/app-check-compat",rc="@firebase/app-check",ic="@firebase/auth",oc="@firebase/auth-compat",ac="@firebase/database",sc="@firebase/data-connect",lc="@firebase/database-compat",cc="@firebase/functions",uc="@firebase/functions-compat",hc="@firebase/installations",dc="@firebase/installations-compat",fc="@firebase/messaging",pc="@firebase/messaging-compat",mc="@firebase/performance",gc="@firebase/performance-compat",vc="@firebase/remote-config",yc="@firebase/remote-config-compat",bc="@firebase/storage",_c="@firebase/storage-compat",wc="@firebase/firestore",xc="@firebase/ai",Sc="@firebase/firestore-compat",Ec="firebase",kc="[DEFAULT]",Cc={[Ql]:"fire-core",[Jl]:"fire-core-compat",[tc]:"fire-analytics",[ec]:"fire-analytics-compat",[rc]:"fire-app-check",[nc]:"fire-app-check-compat",[ic]:"fire-auth",[oc]:"fire-auth-compat",[ac]:"fire-rtdb",[sc]:"fire-data-connect",[lc]:"fire-rtdb-compat",[cc]:"fire-fn",[uc]:"fire-fn-compat",[hc]:"fire-iid",[dc]:"fire-iid-compat",[fc]:"fire-fcm",[pc]:"fire-fcm-compat",[mc]:"fire-perf",[gc]:"fire-perf-compat",[vc]:"fire-rc",[yc]:"fire-rc-compat",[bc]:"fire-gcs",[_c]:"fire-gcs-compat",[wc]:"fire-fst",[Sc]:"fire-fst-compat",[xc]:"fire-vertex","fire-js":"fire-js",[Ec]:"fire-js-all"},Tc=new Map,Ac=new Map,Pc=new Map;function Ic(e,t){try{e.container.addComponent(t)}catch(VO){Xl.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),VO)}}function Lc(e){const t=e.name;if(Pc.has(t))return Xl.debug("There were multiple attempts to register component ".concat(t,".")),!1;Pc.set(t,e);for(const n of Tc.values())Ic(n,e);for(const n of Ac.values())Ic(n,e);return!0}function Nc(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Oc(e){return null!==e&&void 0!==e&&void 0!==e.settings}const jc=new pl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Rc{constructor(e,t,n){this._isDeleted=!1,this._options=u({},e),this._config=u({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jc.create("app-deleted",{appName:this._name})}}const Mc="12.1.0";function Dc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=u({name:kc,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw jc.create("bad-app-name",{appName:String(i)});if(n||(n=Js()),!n)throw jc.create("no-options");const o=Tc.get(i);if(o){if(gl(n,o.options)&&gl(r,o.config))return o;throw jc.create("duplicate-app",{appName:i})}const a=new El(i);for(const l of Pc.values())a.addComponent(l);const s=new Rc(n,r,a);return Tc.set(i,s),s}function zc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc;const t=Tc.get(e);if(!t&&e===kc&&Js())return Dc();if(!t)throw jc.create("no-app",{appName:e});return t}function Fc(e,t,n){var r;let i=null!==(r=Cc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xl.warn(e.join(" "))}Lc(new _l("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Bc="firebase-heartbeat-store";let Uc=null;function Vc(){return Uc||(Uc=ql("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Bc)}catch(VO){console.warn(VO)}}}).catch(e=>{throw jc.create("idb-open",{originalErrorMessage:e.message})})),Uc}async function Hc(e,t){try{const n=(await Vc()).transaction(Bc,"readwrite"),r=n.objectStore(Bc);await r.put(t,qc(e)),await n.done}catch(VO){if(VO instanceof fl)Xl.warn(VO.message);else{const t=jc.create("idb-set",{originalErrorMessage:null===VO||void 0===VO?void 0:VO.message});Xl.warn(t.message)}}}function qc(e){return"".concat(e.name,"!").concat(e.options.appId)}class Wc{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Zc(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kc();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(VO){Xl.warn(VO)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Kc(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Gc(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gc(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Gs(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(VO){return Xl.warn(VO),""}}}function Kc(){return(new Date).toISOString().substring(0,10)}class Zc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ul()&&hl().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Vc()).transaction(Bc),n=await t.objectStore(Bc).get(qc(e));return await t.done,n}catch(VO){if(VO instanceof fl)Xl.warn(VO.message);else{const t=jc.create("idb-get",{originalErrorMessage:null===VO||void 0===VO?void 0:VO.message});Xl.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Hc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Hc(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Gc(e){return Gs(JSON.stringify({version:2,heartbeats:e})).length}var $c;$c="",Lc(new _l("platform-logger",e=>new $l(e),"PRIVATE")),Lc(new _l("heartbeat",e=>new Wc(e),"PRIVATE")),Fc(Ql,Yl,$c),Fc(Ql,Yl,"esm2020"),Fc("fire-js","");Fc("firebase","12.1.0","app");var Qc,Yc,Xc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Jc={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),c=o(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),o=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=o.add(r);0>=c.l(e)&&(i=i.add(n),o=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(o=a(n)).j(t);h(c)||0<c.l(e);)c=(o=a(n-=r)).j(t);u(o)&&(o=l),i=i.add(o),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Yc=Jc.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Qc=Jc.Integer=r}).apply("undefined"!==typeof Xc?Xc:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var eu,tu,nu,ru,iu,ou,au,su,lu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},cu={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof lu&&lu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<_.length;t++)n=_[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function x(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout(()=>{throw e},0)}function E(){var e=P;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new C,e=>e.reset());class C{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let T,A=!1,P=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);T=()=>{e.then(L)}};var L=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){S(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}A=!1};function N(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function R(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(Nn){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&R.aa.h.call(this)}}h(R,O);var M={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),z=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function U(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}U.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=H(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);return null}return n=te(n),e&&e[D]?e.K(t,n,a(r)?!!r.capture:!!r,i):Z(e,t,n,!1,r,i)}function Z(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=J(e);if(l||(e[q]=l=new U(e)),(n=l.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=te(n),e&&e[D]?e.L(t,n,a(r)?!!r.capture:!!r,i):Z(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)$(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[D]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(o=e.g[t],n,r,i))&&(B(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[D])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):B(e)}}}function Y(e){return e in W?W[e]:W[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new R(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function J(e){return(e=e[q])instanceof U?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){N.call(this),this.i=new U(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;w(t=new O(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ie(a=t.g=n[o],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&V(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function oe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=oe(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,N),ne.prototype[D]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){N.call(this),this.h=e,this.g={}}h(le,N);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}h(ye,O),h(be,O);var _e={},we=null;function xe(){return we=we||new ne}function Se(e){O.call(this,_e.La,e)}function Ee(e){const t=xe();re(t,new Se(t))}function ke(e,t){O.call(this,_e.STAT_EVENT,e),this.stat=t}function Ce(e){const t=xe();re(t,new ke(t,e))}function Te(e,t){O.call(this,_e.Ma,e),this.size=t}function Ae(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Pe(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(On){return t}}(e,n)+(r?" "+r:"")})}_e.La="serverreachability",h(Se,O),_e.STAT_EVENT="statevent",h(ke,O),_e.Ma="timingevent",h(Te,O),Pe.prototype.xa=function(){this.g=!1},Pe.prototype.info=function(){};var Le,Ne={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function je(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(je,pe),je.prototype.g=function(){return new XMLHttpRequest},je.prototype.i=function(){return{}},Le=new je;var De={},ze={};function Fe(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var o=0;o<i.length;o++){var a=K(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ue(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ze:(n=Number(t.substring(n,r)),isNaN(n)?De:(r+=1)+n>t.length?ze:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ae(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ze(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;sn(n),Qt(n)}rn(n),Ce(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ae(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&sn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(et(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(We(s),He(s)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):$t(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ee()}catch(u){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const d=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=d||7==t||Ee(),We(this);var n=this.g.Z();this.X=n;t:if(Ue(this)){var r=Kt(this.g);e="";var o=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ze(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ce(12),Ze(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==ze){4==d&&(this.s=4,Ce(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==De){this.s=4,Ce(15),Ie(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ge(this,e)}if(Ue(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=s.length||this.h.h||(this.s=1,Ce(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),on(h),h.M=!0,Ce(11))}}else Ie(this.i,this.l,s,"[Invalid Chunked Response]"),Ze(this),Ke(this)}else Ie(this.i,this.l,s,null),Ge(this,s);4==d&&Ze(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=x(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Ce(12)):(this.s=0,Ce(13)),Ze(this),Ke(this)}}}catch(zn){}},Re.prototype.cancel=function(){this.J=!0,Ze(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Ee(),Ce(17)),Ze(this),this.s=2,Ke(this)):qe(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(o(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ot(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof ot){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new ot(e)}function st(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(xt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ot.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,_t)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,_t=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function xt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function St(e,t){xt(e),t=Ct(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return xt(e),t=Ct(e,t),e.g.has(t)}function kt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Ct(e,t),d(n)),e.h+=n.length)}function Ct(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(Nn){}}function At(){this.g=new fe}function Pt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(VO){throw t.push(r+"type="+encodeURIComponent("_badmap")),VO}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Nt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,jt(e)}function jt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Rt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Rt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Dt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){xt(this),this.i=null,e=Ct(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){xt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){xt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){xt(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(Ct(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return xt(this),this.i=null,Et(this,e=Ct(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(It,pe),It.prototype.g=function(){return new Lt(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),h(Lt,ne),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,jt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jt(this)),this.g&&(this.readyState=3,jt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):jt(this),3==this.readyState&&Nt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Dt,ne);var zt=/^https?$/i,Ft=["POST","PUT"];function Bt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Ht(e)}function Ut(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))oe(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!zt.test(a?a.toLowerCase():"")}n=o}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Wt(e)?e.g.statusText:""}catch(On){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(VO){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Fn){return null}}function Zt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gt(e){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zt("baseRetryDelayMs",5e3,e),this.cb=Zt("retryDelaySeedMs",1e4,e),this.Wa=Zt("forwardChannelMaxRetries",2,e),this.wa=Zt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new At,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Re(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}hn(e)}function Qt(e){e.g&&(on(e),e.g.cancel(),e.g=null)}function Yt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),sn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;T||I(),A||(T(),A=!0),P.add(t,e),e.B=0}}function Jt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Fe(n,r,t)}function en(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Pt(s,e,"req"+n+"_")}catch(zn){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;T||I(),A||(T(),A=!0),P.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ae(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function on(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,Be(n,e)}function sn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){sn(e),on(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=xe(),new Te(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ae(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new ot(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),ht(r),t?function(e,t){const n=new Pe;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Pe;const n=new AbortController,r=setTimeout(()=>{n.abort(),Tt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)}).catch(()=>{clearTimeout(r),Tt(0,0,!1,t)})}(r.toString(),n)}else Ce(2);e.G=0,e.l&&e.l.sa(t),hn(e),Yt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof ot?at(n):new ot(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new ot(null);r&&st(a,r),t&&(a.g=t),o&&lt(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Dt(new It({eb:n})):new Dt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Gt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Dt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Le.g(),this.v=this.o?me(this.o):me(Le),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(Nn){return void Bt(this,Nn)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(Nn){Bt(this,Nn)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Dt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},e.bb=function(){Vt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Gt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ce(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),w(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Rt(o)))+"&"+t:this.m&&Mt(n,this.m,o)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Fe(i,n,null)):Fe(i,n,t),this.G=2}}else 3==this.G&&(e?Jt(this,e):0==this.i.length||Ye(this.h)||Jt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ae(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ce(10),Qt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Ce(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){$t(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,gn.aa.N.call(this)},h(vn,ye),h(yn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,su=cu.createWebChannelTransport=function(){return new mn},au=cu.getStatEventTarget=function(){return xe()},ou=cu.Event=_e,iu=cu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,ru=cu.ErrorCode=Ne,Oe.COMPLETE="complete",nu=cu.EventType=Oe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,tu=cu.WebChannel=ge,cu.FetchXmlHttpFactory=It,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,eu=cu.XhrIo=Dt}).apply("undefined"!==typeof lu?lu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const uu="@firebase/firestore",hu="4.9.0";class du{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}du.UNAUTHENTICATED=new du(null),du.GOOGLE_CREDENTIALS=new du("google-credentials-uid"),du.FIRST_PARTY=new du("first-party-uid"),du.MOCK_USER=new du("mock-user");let fu="12.0.0";const pu=new Ll("@firebase/firestore");function mu(){return pu.logLevel}function gu(e){if(pu.logLevel<=Cl.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bu);pu.debug("Firestore (".concat(fu,"): ").concat(e),...i)}}function vu(e){if(pu.logLevel<=Cl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bu);pu.error("Firestore (".concat(fu,"): ").concat(e),...i)}}function yu(e){if(pu.logLevel<=Cl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(bu);pu.warn("Firestore (".concat(fu,"): ").concat(e),...i)}}function bu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function _u(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,wu(e,r,n)}function wu(e,t,n){let r="FIRESTORE (".concat(fu,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw vu(r),new Error(r)}function xu(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||wu(t,i,r)}function Su(e,t){return e}const Eu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ku extends fl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Cu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Tu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Au{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(du.UNAUTHENTICATED))}shutdown(){}}class Pu{constructor(e){this.t=e,this.currentUser=du.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xu(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Cu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Cu,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{gu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(gu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Cu)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(gu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(xu("string"==typeof t.accessToken,31837,{l:t}),new Tu(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xu(null===e||"string"==typeof e,2055,{h:e}),new du(e)}}class Iu{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=du.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lu{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Iu(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(du.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ou{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Oc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xu(void 0===this.o,3512);const n=e=>{null!=e.error&&gu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,gu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{gu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):gu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nu(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(xu("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Nu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ju(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ru{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=ju(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Mu(e,t){return e<t?-1:e>t?1:0}function Du(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Bu(n)===Bu(i)?Mu(n,i):Bu(n)?1:-1}return Mu(e.length,t.length)}const zu=55296,Fu=57343;function Bu(e){const t=e.charCodeAt(0);return t>=zu&&t<=Fu}function Uu(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Vu="__name__";class Hu{constructor(e,t,n){void 0===t?t=0:t>e.length&&_u(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&_u(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Hu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hu?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Hu.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Mu(e.length,t.length)}static compareSegments(e,t){const n=Hu.isNumericId(e),r=Hu.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Hu.extractNumericId(e).compare(Hu.extractNumericId(t)):Du(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qc.fromString(e.substring(4,e.length-2))}}class qu extends Hu{construct(e,t,n){return new qu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new ku(Eu.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new qu(e)}static emptyPath(){return new qu([])}}const Wu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ku extends Hu{construct(e,t,n){return new Ku(e,t,n)}static isValidIdentifier(e){return Wu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ku.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Vu}static keyField(){return new Ku([Vu])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ku(Eu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ku(Eu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ku(Eu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ku(Eu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ku(t)}static emptyPath(){return new Ku([])}}class Zu{constructor(e){this.path=e}static fromPath(e){return new Zu(qu.fromString(e))}static fromName(e){return new Zu(qu.fromString(e).popFirst(5))}static empty(){return new Zu(qu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===qu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return qu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zu(new qu(e.slice()))}}function Gu(e,t,n){if(!n)throw new ku(Eu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $u(e){if(!Zu.isDocumentKey(e))throw new ku(Eu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Qu(e){if(Zu.isDocumentKey(e))throw new ku(Eu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yu(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function Xu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":_u(12329,{type:typeof e})}function Ju(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ku(Eu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xu(e);throw new ku(Eu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function eh(e,t){const n={typeString:e};return t&&(n.value=t),n}function th(e,t){if(!Yu(e))throw new ku(Eu.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(i&&typeof a!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==o&&a!==o.value){n="Expected '".concat(r,"' field to equal '").concat(o.value,"'");break}}if(n)throw new ku(Eu.INVALID_ARGUMENT,n);return!0}const nh=-62135596800,rh=1e6;class ih{static now(){return ih.fromMillis(Date.now())}static fromDate(e){return ih.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*rh);return new ih(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ku(Eu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ku(Eu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nh)throw new ku(Eu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ku(Eu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rh}_compareTo(e){return this.seconds===e.seconds?Mu(this.nanoseconds,e.nanoseconds):Mu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ih._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(th(e,ih._jsonSchema))return new ih(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nh;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ih._jsonSchemaVersion="firestore/timestamp/1.0",ih._jsonSchema={type:eh("string",ih._jsonSchemaVersion),seconds:eh("number"),nanoseconds:eh("number")};class oh{static fromTimestamp(e){return new oh(e)}static min(){return new oh(new ih(0,0))}static max(){return new oh(new ih(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ah=-1;class sh{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}sh.UNKNOWN_ID=-1;function lh(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=oh.fromTimestamp(1e9===r?new ih(n+1,0):new ih(n,r));return new uh(i,Zu.empty(),t)}function ch(e){return new uh(e.readTime,e.key,ah)}class uh{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new uh(oh.min(),Zu.empty(),ah)}static max(){return new uh(oh.max(),Zu.empty(),ah)}}function hh(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Zu.comparator(e.documentKey,t.documentKey),0!==n?n:Mu(e.largestBatchId,t.largestBatchId))}const dh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ph(e){if(e.code!==Eu.FAILED_PRECONDITION||e.message!==dh)throw e;gu("LocalStore","Unexpectedly lost primary lease")}class mh{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_u(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new mh((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof mh?t:mh.resolve(t)}catch(e){return mh.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):mh.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):mh.reject(t)}static resolve(e){return new mh((t,n)=>{t(e)})}static reject(e){return new mh((t,n)=>{n(e)})}static waitFor(e){return new mh((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=mh.resolve(!1);for(const n of e)t=t.next(e=>e?mh.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new mh((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new mh((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function gh(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vh(e){return"IndexedDbTransactionError"===e.name}class yh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const bh=-1;function _h(e){return null==e}function wh(e){return 0===e&&1/e==-1/0}function xh(e){return"number"==typeof e&&Number.isInteger(e)&&!wh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Sh="\x01";function Eh(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ch(t)),t=kh(e.get(n),t);return Ch(t)}function kh(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Sh:n+="\x01\x11";break;default:n+=t}}return n}function Ch(e){return e+Sh+"\x01"}const Th="remoteDocuments",Ah="owner",Ph="mutationQueues",Ih="mutations";const Lh="documentMutations",Nh="remoteDocumentsV14",Oh="remoteDocumentGlobal",jh="targets",Rh="targetDocuments",Mh="targetGlobal",Dh="collectionParents",zh="clientMetadata",Fh="bundles",Bh="namedQueries",Uh="indexConfiguration",Vh="indexState",Hh="indexEntries",qh="documentOverlays",Wh="globals",Kh=[Ph,Ih,Lh,Th,jh,Ah,Mh,Rh,zh,Oh,Dh,Fh,Bh],Zh=[Ph,Ih,Lh,Nh,jh,Ah,Mh,Rh,zh,Oh,Dh,Fh,Bh,qh],Gh=Zh,$h=[...Gh,Uh,Vh,Hh];function Qh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yh(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Jh{constructor(e,t){this.comparator=e,this.root=t||td.EMPTY}insert(e,t){return new Jh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,td.BLACK,null,null))}remove(e){return new Jh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,td.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class td{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:td.RED,this.left=null!=r?r:td.EMPTY,this.right=null!=i?i:td.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new td(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return td.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return td.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,td.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,td.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _u(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _u(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _u(27949);return e+(this.isRed()?0:1)}}td.EMPTY=null,td.RED=!0,td.BLACK=!1,td.EMPTY=new class{constructor(){this.size=0}get key(){throw _u(57766)}get value(){throw _u(16141)}get color(){throw _u(16727)}get left(){throw _u(29726)}get right(){throw _u(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new td(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nd{constructor(e){this.comparator=e,this.data=new Jh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rd(this.data.getIterator())}getIteratorFrom(e){return new rd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof nd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new nd(this.comparator);return t.data=e,t}}class rd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class id{constructor(e){this.fields=e,e.sort(Ku.comparator)}static empty(){return new id([])}unionWith(e){let t=new nd(Ku.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new id(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uu(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class od extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ad{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new od("Invalid base64 string: "+e):e}}(e);return new ad(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ad(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ad.EMPTY_BYTE_STRING=new ad("");const sd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ld(e){if(xu(!!e,39018),"string"==typeof e){let t=0;const n=sd.exec(e);if(xu(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:cd(e.seconds),nanos:cd(e.nanos)}}function cd(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ud(e){return"string"==typeof e?ad.fromBase64String(e):ad.fromUint8Array(e)}const hd="server_timestamp",dd="__type__",fd="__previous_value__",pd="__local_write_time__";function md(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[dd])||void 0===t?void 0:t.stringValue)===hd}function gd(e){const t=e.mapValue.fields[fd];return md(t)?gd(t):t}function vd(e){const t=ld(e.mapValue.fields[pd].timestampValue);return new ih(t.seconds,t.nanos)}class yd{constructor(e,t,n,r,i,o,a,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const bd="(default)";class _d{constructor(e,t){this.projectId=e,this.database=t||bd}static empty(){return new _d("","")}get isDefaultDatabase(){return this.database===bd}isEqual(e){return e instanceof _d&&e.projectId===this.projectId&&e.database===this.database}}const wd="__type__",xd="__max__",Sd={mapValue:{fields:{__type__:{stringValue:xd}}}},Ed="__vector__",kd="value";function Cd(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?md(e)?4:Hd(e)?9007199254740991:Ud(e)?10:11:_u(28295,{value:e})}function Td(e,t){if(e===t)return!0;const n=Cd(e);if(n!==Cd(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vd(e).isEqual(vd(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ld(e.timestampValue),r=ld(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ud(e.bytesValue).isEqual(ud(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return cd(e.geoPointValue.latitude)===cd(t.geoPointValue.latitude)&&cd(e.geoPointValue.longitude)===cd(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return cd(e.integerValue)===cd(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=cd(e.doubleValue),r=cd(t.doubleValue);return n===r?wh(n)===wh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Uu(e.arrayValue.values||[],t.arrayValue.values||[],Td);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qh(n)!==Qh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Td(n[i],r[i])))return!1;return!0}(e,t);default:return _u(52216,{left:e})}}function Ad(e,t){return void 0!==(e.values||[]).find(e=>Td(e,t))}function Pd(e,t){if(e===t)return 0;const n=Cd(e),r=Cd(t);if(n!==r)return Mu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=cd(e.integerValue||e.doubleValue),r=cd(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Id(e.timestampValue,t.timestampValue);case 4:return Id(vd(e),vd(t));case 5:return Du(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ud(e),r=ud(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Mu(n[i],r[i]);if(0!==e)return e}return Mu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Mu(cd(e.latitude),cd(t.latitude));return 0!==n?n:Mu(cd(e.longitude),cd(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ld(e.arrayValue,t.arrayValue);case 10:return function(e,t,n,r,i,o){const a=e.fields||{},s=t.fields||{},l=null===(n=a[kd])||void 0===n?void 0:n.arrayValue,c=null===(r=s[kd])||void 0===r?void 0:r.arrayValue,u=Mu((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(o=c.values)||void 0===o?void 0:o.length)||0);return 0!==u?u:Ld(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Sd.mapValue&&t===Sd.mapValue)return 0;if(e===Sd.mapValue)return 1;if(t===Sd.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Du(r[a],o[a]);if(0!==e)return e;const t=Pd(n[r[a]],i[o[a]]);if(0!==t)return t}return Mu(r.length,o.length)}(e.mapValue,t.mapValue);default:throw _u(23264,{he:n})}}function Id(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mu(e,t);const n=ld(e),r=ld(t),i=Mu(n.seconds,r.seconds);return 0!==i?i:Mu(n.nanos,r.nanos)}function Ld(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Pd(n[i],r[i]);if(e)return e}return Mu(n.length,r.length)}function Nd(e){return Od(e)}function Od(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ld(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ud(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Zu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Od(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Od(e.fields[i]));return n+"}"}(e.mapValue):_u(61005,{value:e})}function jd(e){switch(Cd(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gd(e);return t?16+jd(t):16;case 5:return 2*e.stringValue.length;case 6:return ud(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+jd(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Yh(e.fields,(e,n)=>{t+=e.length+jd(n)}),t}(e.mapValue);default:throw _u(13486,{value:e})}}function Rd(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Md(e){return!!e&&"integerValue"in e}function Dd(e){return!!e&&"arrayValue"in e}function zd(e){return!!e&&"nullValue"in e}function Fd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bd(e){return!!e&&"mapValue"in e}function Ud(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[wd])||void 0===t?void 0:t.stringValue)===Ed}function Vd(e){if(e.geoPointValue)return{geoPointValue:u({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:u({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Yh(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Vd(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vd(e.arrayValue.values[n]);return t}return u({},e)}function Hd(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===xd}class qd{constructor(e){this.value=e}static empty(){return new qd({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vd(t)}setAll(e){let t=Ku.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Vd(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Td(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Yh(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new qd(Vd(this.value))}}function Wd(e){const t=[];return Yh(e.fields,(e,n)=>{const r=new Ku([e]);if(Bd(n)){const e=Wd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new id(t)}class Kd{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Kd(e,0,oh.min(),oh.min(),oh.min(),qd.empty(),0)}static newFoundDocument(e,t,n,r){return new Kd(e,1,t,oh.min(),n,r,0)}static newNoDocument(e,t){return new Kd(e,2,t,oh.min(),oh.min(),qd.empty(),0)}static newUnknownDocument(e,t){return new Kd(e,3,t,oh.min(),oh.min(),qd.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oh.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qd.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qd.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oh.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Zd{constructor(e,t){this.position=e,this.inclusive=t}}function Gd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Zu.comparator(Zu.fromName(a.referenceValue),n.key):Pd(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function $d(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Td(e.position[n],t.position[n]))return!1;return!0}class Qd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Yd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Xd{}class Jd extends Xd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new lf(e,t,n):"array-contains"===t?new df(e,n):"in"===t?new ff(e,n):"not-in"===t?new pf(e,n):"array-contains-any"===t?new mf(e,n):new Jd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new cf(e,n):new uf(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Pd(t,this.value)):null!==t&&Cd(this.value)===Cd(t)&&this.matchesComparison(Pd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _u(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ef extends Xd{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ef(e,t)}matches(e){return tf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tf(e){return"and"===e.op}function nf(e){return rf(e)&&tf(e)}function rf(e){for(const t of e.filters)if(t instanceof ef)return!1;return!0}function of(e){if(e instanceof Jd)return e.field.canonicalString()+e.op.toString()+Nd(e.value);if(nf(e))return e.filters.map(e=>of(e)).join(",");{const t=e.filters.map(e=>of(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function af(e,t){return e instanceof Jd?function(e,t){return t instanceof Jd&&e.op===t.op&&e.field.isEqual(t.field)&&Td(e.value,t.value)}(e,t):e instanceof ef?function(e,t){return t instanceof ef&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&af(n,t.filters[r]),!0)}(e,t):void _u(19439)}function sf(e){return e instanceof Jd?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Nd(e.value))}(e):e instanceof ef?function(e){return e.op.toString()+" {"+e.getFilters().map(sf).join(" ,")+"}"}(e):"Filter"}class lf extends Jd{constructor(e,t,n){super(e,t,n),this.key=Zu.fromName(n.referenceValue)}matches(e){const t=Zu.comparator(e.key,this.key);return this.matchesComparison(t)}}class cf extends Jd{constructor(e,t){super(e,"in",t),this.keys=hf("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uf extends Jd{constructor(e,t){super(e,"not-in",t),this.keys=hf("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Zu.fromName(e.referenceValue))}class df extends Jd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dd(t)&&Ad(t.arrayValue,this.value)}}class ff extends Jd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ad(this.value.arrayValue,t)}}class pf extends Jd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ad(this.value.arrayValue,t)}}class mf extends Jd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ad(this.value.arrayValue,e))}}class gf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function vf(e){return new gf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function yf(e){const t=Su(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>of(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),_h(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Nd(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Nd(e)).join(",")),t.Te=e}return t.Te}function bf(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Yd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!af(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$d(e.startAt,t.startAt)&&$d(e.endAt,t.endAt)}function _f(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class wf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xf(e,t,n,r,i,o,a,s){return new wf(e,t,n,r,i,o,a,s)}function Sf(e){return new wf(e)}function Ef(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kf(e){return null!==e.collectionGroup}function Cf(e){const t=Su(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new nd(Ku.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Qd(r,n))}),e.has(Ku.keyField().canonicalString())||t.Ie.push(new Qd(Ku.keyField(),n))}return t.Ie}function Tf(e){const t=Su(e);return t.Ee||(t.Ee=Af(t,Cf(e))),t.Ee}function Af(e,t){if("F"===e.limitType)return vf(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Qd(e.field,t)});const n=e.endAt?new Zd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zd(e.startAt.position,e.startAt.inclusive):null;return vf(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Pf(e,t){const n=e.filters.concat([t]);return new wf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function If(e,t,n){return new wf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Lf(e,t){return bf(Tf(e),Tf(t))&&e.limitType===t.limitType}function Nf(e){return"".concat(yf(Tf(e)),"|lt:").concat(e.limitType)}function Of(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>sf(e)).join(", "),"]")),_h(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Nd(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Nd(e)).join(",")),"Target(".concat(t,")")}(Tf(e)),"; limitType=").concat(e.limitType,")")}function jf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Zu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Cf(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Gd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cf(e),t))&&!(e.endAt&&!function(e,t,n){const r=Gd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cf(e),t))}(e,t)}function Rf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mf(e){return(t,n)=>{let r=!1;for(const i of Cf(e)){const e=Df(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Df(e,t,n){const r=e.field.isKeyField()?Zu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Pd(r,i):_u(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _u(19790,{direction:e.dir})}}class zf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Yh(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Xh(this.inner)}size(){return this.innerSize}}const Ff=new Jh(Zu.comparator);function Bf(){return Ff}const Uf=new Jh(Zu.comparator);function Vf(){let e=Uf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Hf(e){let t=Uf;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function qf(){return Kf()}function Wf(){return Kf()}function Kf(){return new zf(e=>e.toString(),(e,t)=>e.isEqual(t))}const Zf=new Jh(Zu.comparator),Gf=new nd(Zu.comparator);function $f(){let e=Gf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Qf=new nd(Mu);function Yf(){return Qf}function Xf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(t)?"-0":t}}function Jf(e){return{integerValue:""+e}}function ep(e,t){return xh(t)?Jf(t):Xf(e,t)}class tp{constructor(){this._=void 0}}function np(e,t,n){return e instanceof op?function(e,t){const n={fields:{[dd]:{stringValue:hd},[pd]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&md(t)&&(t=gd(t)),t&&(n.fields[fd]=t),{mapValue:n}}(n,t):e instanceof ap?sp(e,t):e instanceof lp?cp(e,t):function(e,t){const n=ip(e,t),r=hp(n)+hp(e.Ae);return Md(n)&&Md(e.Ae)?Jf(r):Xf(e.serializer,r)}(e,t)}function rp(e,t,n){return e instanceof ap?sp(e,t):e instanceof lp?cp(e,t):n}function ip(e,t){return e instanceof up?function(e){return Md(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class op extends tp{}class ap extends tp{constructor(e){super(),this.elements=e}}function sp(e,t){const n=dp(t);for(const r of e.elements)n.some(e=>Td(e,r))||n.push(r);return{arrayValue:{values:n}}}class lp extends tp{constructor(e){super(),this.elements=e}}function cp(e,t){let n=dp(t);for(const r of e.elements)n=n.filter(e=>!Td(e,r));return{arrayValue:{values:n}}}class up extends tp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function hp(e){return cd(e.integerValue||e.doubleValue)}function dp(e){return Dd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class fp{constructor(e,t){this.field=e,this.transform=t}}class pp{constructor(e,t){this.version=e,this.transformResults=t}}class mp{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mp}static exists(e){return new mp(void 0,e)}static updateTime(e){return new mp(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gp(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class vp{}function yp(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ap(e.key,mp.none()):new Sp(e.key,e.data,mp.none());{const n=e.data,r=qd.empty();let i=new nd(Ku.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ep(e.key,r,new id(i.toArray()),mp.none())}}function bp(e,t,n){e instanceof Sp?function(e,t,n){const r=e.value.clone(),i=Cp(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ep?function(e,t,n){if(!gp(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Cp(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kp(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _p(e,t,n,r){return e instanceof Sp?function(e,t,n,r){if(!gp(e.precondition,t))return n;const i=e.value.clone(),o=Tp(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ep?function(e,t,n,r){if(!gp(e.precondition,t))return n;const i=Tp(e.fieldTransforms,r,t),o=t.data;return o.setAll(kp(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return gp(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ip(r.transform,e||null);null!=i&&(null===n&&(n=qd.empty()),n.set(r.field,i))}return n||null}function xp(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Uu(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ap&&t instanceof ap||e instanceof lp&&t instanceof lp?Uu(e.elements,t.elements,Td):e instanceof up&&t instanceof up?Td(e.Ae,t.Ae):e instanceof op&&t instanceof op}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sp extends vp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ep extends vp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Cp(e,t,n){const r=new Map;xu(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,rp(a,s,n[i]))}return r}function Tp(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,np(e,o,t))}return r}class Ap extends vp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pp extends vp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ip{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&bp(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=_p(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=_p(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Wf();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=yp(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(oh.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$f())}isEqual(e){return this.batchId===e.batchId&&Uu(this.mutations,e.mutations,(e,t)=>xp(e,t))&&Uu(this.baseMutations,e.baseMutations,(e,t)=>xp(e,t))}}class Lp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){xu(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Zf;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Lp(e,t,n,r)}}class Np{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Op{constructor(e,t){this.count=e,this.unchangedNames=t}}var jp,Rp;function Mp(e){switch(e){case Eu.OK:return _u(64938);case Eu.CANCELLED:case Eu.UNKNOWN:case Eu.DEADLINE_EXCEEDED:case Eu.RESOURCE_EXHAUSTED:case Eu.INTERNAL:case Eu.UNAVAILABLE:case Eu.UNAUTHENTICATED:return!1;case Eu.INVALID_ARGUMENT:case Eu.NOT_FOUND:case Eu.ALREADY_EXISTS:case Eu.PERMISSION_DENIED:case Eu.FAILED_PRECONDITION:case Eu.ABORTED:case Eu.OUT_OF_RANGE:case Eu.UNIMPLEMENTED:case Eu.DATA_LOSS:return!0;default:return _u(15467,{code:e})}}function Dp(e){if(void 0===e)return vu("GRPC error has no .code"),Eu.UNKNOWN;switch(e){case jp.OK:return Eu.OK;case jp.CANCELLED:return Eu.CANCELLED;case jp.UNKNOWN:return Eu.UNKNOWN;case jp.DEADLINE_EXCEEDED:return Eu.DEADLINE_EXCEEDED;case jp.RESOURCE_EXHAUSTED:return Eu.RESOURCE_EXHAUSTED;case jp.INTERNAL:return Eu.INTERNAL;case jp.UNAVAILABLE:return Eu.UNAVAILABLE;case jp.UNAUTHENTICATED:return Eu.UNAUTHENTICATED;case jp.INVALID_ARGUMENT:return Eu.INVALID_ARGUMENT;case jp.NOT_FOUND:return Eu.NOT_FOUND;case jp.ALREADY_EXISTS:return Eu.ALREADY_EXISTS;case jp.PERMISSION_DENIED:return Eu.PERMISSION_DENIED;case jp.FAILED_PRECONDITION:return Eu.FAILED_PRECONDITION;case jp.ABORTED:return Eu.ABORTED;case jp.OUT_OF_RANGE:return Eu.OUT_OF_RANGE;case jp.UNIMPLEMENTED:return Eu.UNIMPLEMENTED;case jp.DATA_LOSS:return Eu.DATA_LOSS;default:return _u(39323,{code:e})}}(Rp=jp||(jp={}))[Rp.OK=0]="OK",Rp[Rp.CANCELLED=1]="CANCELLED",Rp[Rp.UNKNOWN=2]="UNKNOWN",Rp[Rp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rp[Rp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rp[Rp.NOT_FOUND=5]="NOT_FOUND",Rp[Rp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rp[Rp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rp[Rp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rp[Rp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rp[Rp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rp[Rp.ABORTED=10]="ABORTED",Rp[Rp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rp[Rp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rp[Rp.INTERNAL=13]="INTERNAL",Rp[Rp.UNAVAILABLE=14]="UNAVAILABLE",Rp[Rp.DATA_LOSS=15]="DATA_LOSS";let zp=null;function Fp(){return new TextEncoder}const Bp=new Qc([4294967295,4294967295],0);function Up(e){const t=Fp().encode(e),n=new Yc;return n.update(t),new Uint8Array(n.digest())}function Vp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Qc([n,r],0),new Qc([i,o],0)]}class Hp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new qp("Invalid padding: ".concat(t));if(n<0)throw new qp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new qp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new qp("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Qc.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Qc.fromNumber(n)));return 1===r.compare(Bp)&&(r=new Qc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Up(e),[n,r]=Vp(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hp(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.ge)return;const t=Up(e),[n,r]=Vp(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class qp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wp{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Kp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wp(oh.min(),r,new Jh(Mu),Bf(),$f())}}class Kp{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Kp(n,t,$f(),$f(),$f())}}class Zp{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Gp{constructor(e,t){this.targetId=e,this.Ce=t}}class $p{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ad.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Qp{constructor(){this.ve=0,this.Fe=Jp(),this.Me=ad.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$f(),t=$f(),n=$f();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_u(38017,{changeType:i})}}),new Kp(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Jp()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xu(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Yp{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bf(),this.Je=Xp(),this.He=Xp(),this.Ye=new Jh(Mu)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:_u(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const o=r.target;if(_f(o))if(0===n){const e=new Zu(o.path);this.et(t,e,Kd.newNoDocument(e,oh.min()))}else xu(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),o=n?this.ct(n,e,r):1;if(0!==o){this.it(t);const e=2===o?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(i=zp)||void 0===i||i.lt(function(e,t,n,r,i,o,a,s,l,c){const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(u.bloomFilter={applied:0===i,hashCount:null!==(o=null===h||void 0===h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(a=null===h||void 0===h||null===(s=h.bits)||void 0===s||null===(s=s.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===h||void 0===h||null===(c=h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,o))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=ud(n).toUint8Array()}catch(e){if(e instanceof od)return yu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Hp(o,r,i)}catch(e){return yu(e instanceof qp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&_f(i.target)){const t=new Zu(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Kd.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=$f();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Wp(e,t,this.Ye,this.je,n);return this.je=Bf(),this.Je=Xp(),this.He=Xp(),this.Ye=new Jh(Mu),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Qp,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new nd(Mu),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new nd(Mu),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||gu("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Qp),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xp(){return new Jh(Zu.comparator)}function Jp(){return new Jh(Zu.comparator)}const em={asc:"ASCENDING",desc:"DESCENDING"},tm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nm={and:"AND",or:"OR"};class rm{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function im(e,t){return e.useProto3Json||_h(t)?t:{value:t}}function om(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function am(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sm(e,t){return om(e,t.toTimestamp())}function lm(e){return xu(!!e,49232),oh.fromTimestamp(function(e){const t=ld(e);return new ih(t.seconds,t.nanos)}(e))}function cm(e,t){return um(e,t).canonicalString()}function um(e,t){const n=function(e){return new qu(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function hm(e){const t=qu.fromString(e);return xu(Lm(t),10190,{key:t.toString()}),t}function dm(e,t){return cm(e.databaseId,t.path)}function fm(e,t){const n=hm(t);if(n.get(1)!==e.databaseId.projectId)throw new ku(Eu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ku(Eu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Zu(vm(n))}function pm(e,t){return cm(e.databaseId,t)}function mm(e){const t=hm(e);return 4===t.length?qu.emptyPath():vm(t)}function gm(e){return new qu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function vm(e){return xu(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ym(e,t,n){return{name:dm(e,t),fields:n.value.mapValue.fields}}function bm(e,t){let n;if(t instanceof Sp)n={update:ym(e,t.key,t.value)};else if(t instanceof Ap)n={delete:dm(e,t.key)};else if(t instanceof Ep)n={update:ym(e,t.key,t.data),updateMask:Im(t.fieldMask)};else{if(!(t instanceof Pp))return _u(16599,{Vt:t.type});n={verify:dm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof op)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ap)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lp)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof up)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw _u(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_u(27497)}(e,t.precondition)),n}function _m(e,t){return{documents:[pm(e,t.path)]}}function wm(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pm(e,i);const o=function(e){if(0!==e.length)return Pm(ef.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Tm(e.field),direction:Em(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=im(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function xm(e){let t=mm(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){xu(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=Sm(e);return t instanceof ef&&nf(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Qd(Am(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,_h(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Zd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Zd(n,t)}(n.endAt)),xf(t,i,a,o,s,"F",l,c)}function Sm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Am(e.unaryFilter.field);return Jd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Am(e.unaryFilter.field);return Jd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Am(e.unaryFilter.field);return Jd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Am(e.unaryFilter.field);return Jd.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _u(61313);default:return _u(60726)}}(e):void 0!==e.fieldFilter?function(e){return Jd.create(Am(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _u(58110);default:return _u(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ef.create(e.compositeFilter.filters.map(e=>Sm(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _u(1026)}}(e.compositeFilter.op))}(e):_u(30097,{filter:e})}function Em(e){return em[e]}function km(e){return tm[e]}function Cm(e){return nm[e]}function Tm(e){return{fieldPath:e.canonicalString()}}function Am(e){return Ku.fromServerFormat(e.fieldPath)}function Pm(e){return e instanceof Jd?function(e){if("=="===e.op){if(Fd(e.value))return{unaryFilter:{field:Tm(e.field),op:"IS_NAN"}};if(zd(e.value))return{unaryFilter:{field:Tm(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fd(e.value))return{unaryFilter:{field:Tm(e.field),op:"IS_NOT_NAN"}};if(zd(e.value))return{unaryFilter:{field:Tm(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tm(e.field),op:km(e.op),value:e.value}}}(e):e instanceof ef?function(e){const t=e.getFilters().map(e=>Pm(e));return 1===t.length?t[0]:{compositeFilter:{op:Cm(e.op),filters:t}}}(e):_u(54877,{filter:e})}function Im(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Lm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Nm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:oh.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ad.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new Nm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Nm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Om{constructor(e){this.yt=e}}function jm(e){const t=xm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?If(t,t.limit,"L"):t}class Rm{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(cd(e.integerValue));else if("doubleValue"in e){const n=cd(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),wh(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=ld(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ud(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Hd(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ud(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):_u(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=kd,o=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(cd(o)),this.Ot(i,t),this.Ct(r[i],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Zu.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Rm.Kt=new Rm;class Mm{constructor(){this.Cn=new Dm}addToCollectionParentIndex(e,t){return this.Cn.add(t),mh.resolve()}getCollectionParents(e,t){return mh.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return mh.resolve()}deleteFieldIndex(e,t){return mh.resolve()}deleteAllFieldIndexes(e){return mh.resolve()}createTargetIndexes(e,t){return mh.resolve()}getDocumentsMatchingTarget(e,t){return mh.resolve(null)}getIndexType(e,t){return mh.resolve(0)}getFieldIndexes(e,t){return mh.resolve([])}getNextCollectionGroupToUpdate(e){return mh.resolve(null)}getMinOffset(e,t){return mh.resolve(uh.min())}getMinOffsetFromCollectionGroup(e,t){return mh.resolve(uh.min())}updateCollectionGroup(e,t,n){return mh.resolve()}updateIndexEntries(e,t){return mh.resolve()}}class Dm{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new nd(qu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new nd(qu.comparator)).toArray()}}new Uint8Array(0);const zm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fm=41943040;class Bm{static withCacheSize(e){return new Bm(e,Bm.DEFAULT_COLLECTION_PERCENTILE,Bm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Bm.DEFAULT_COLLECTION_PERCENTILE=10,Bm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bm.DEFAULT=new Bm(Fm,Bm.DEFAULT_COLLECTION_PERCENTILE,Bm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bm.DISABLED=new Bm(-1,0,0);class Um{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Um(0)}static cr(){return new Um(-1)}}const Vm="LruGarbageCollector",Hm=1048576;function qm(e,t){let[n,r]=e,[i,o]=t;const a=Mu(n,i);return 0===a?Mu(r,o):a}class Wm{constructor(e){this.Ir=e,this.buffer=new nd(qm),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();qm(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Km{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){gu(Vm,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){vh(e)?gu(Vm,"Ignoring IndexedDB error during garbage collection: ",e):await ph(e)}await this.Vr(3e5)})}}class Zm{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return mh.resolve(yh.ce);const n=new Wm(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gu("LruGarbageCollector","Garbage collection skipped; disabled"),mh.resolve(zm)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(gu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),zm):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(gu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),mu()<=Cl.DEBUG&&gu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),mh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Gm(e,t){return new Zm(e,t)}class $m{constructor(){this.changes=new zf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?mh.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ym{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&_p(n.mutation,e,id.empty(),ih.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,$f()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$f();const r=qf();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Vf();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=qf();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,$f()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Bf();const o=Kf(),a=Kf();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ep)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),_p(a.mutation,t,a.mutation.getFieldMask(),ih.now())):o.set(t.key,id.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Qm(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=Kf();let r=new Jh((e,t)=>e-t),i=$f();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||id.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||$f()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=Wf();l.forEach(e=>{if(!i.has(e)){const r=yp(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return mh.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Zu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kf(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):mh.resolve(qf());let a=ah,s=i;return o.next(t=>mh.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?mh.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,$f())).next(e=>({batchId:a,changes:Hf(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zu(t)).next(e=>{let t=Vf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=Vf();return this.indexManager.getCollectionParents(e,i).next(a=>mh.forEach(a,a=>{const s=function(e,t){return new wf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Kd.newInvalidDocument(r)))});let n=Vf();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&_p(o.mutation,r,id.empty(),ih.now()),jf(t,r)&&(n=n.insert(e,r))}),n})}}class Xm{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return mh.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:lm(e.createTime)}}(t)),mh.resolve()}getNamedQuery(e,t){return mh.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:jm(e.bundledQuery),readTime:lm(e.readTime)}}(t)),mh.resolve()}}class Jm{constructor(){this.overlays=new Jh(Zu.comparator),this.qr=new Map}getOverlay(e,t){return mh.resolve(this.overlays.get(t))}getOverlays(e,t){const n=qf();return mh.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),mh.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),mh.resolve()}getOverlaysForCollection(e,t,n){const r=qf(),i=t.length+1,o=new Zu(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return mh.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Jh((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=qf(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=qf(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return mh.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Np(t,n));let i=this.qr.get(t);void 0===i&&(i=$f(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}class eg{constructor(){this.sessionToken=ad.EMPTY_BYTE_STRING}getSessionToken(e){return mh.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,mh.resolve()}}class tg{constructor(){this.Qr=new nd(ng.$r),this.Ur=new nd(ng.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ng(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new ng(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Zu(new qu([])),n=new ng(t,e),r=new ng(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Zu(new qu([])),n=new ng(t,e),r=new ng(t,e+1);let i=$f();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new ng(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ng{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Zu.comparator(e.key,t.key)||Mu(e.Yr,t.Yr)}static Kr(e,t){return Mu(e.Yr,t.Yr)||Zu.comparator(e.key,t.key)}}class rg{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new nd(ng.$r)}checkEmpty(e){return mh.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ip(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Zr=this.Zr.add(new ng(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return mh.resolve(o)}lookupMutationBatch(e,t){return mh.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return mh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return mh.resolve(0===this.mutationQueue.length?bh:this.tr-1)}getAllMutationBatches(e){return mh.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ng(t,0),r=new ng(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),mh.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new nd(Mu);return t.forEach(e=>{const t=new ng(e,0),r=new ng(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),mh.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Zu.isDocumentKey(i)||(i=i.child(""));const o=new ng(new Zu(i),0);let a=new nd(Mu);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},o),mh.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){xu(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return mh.forEach(t.mutations,r=>{const i=new ng(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new ng(t,0),r=this.Zr.firstAfterOrEqual(n);return mh.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,mh.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ig{constructor(e){this.ri=e,this.docs=new Jh(Zu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return mh.resolve(n?n.document.mutableCopy():Kd.newInvalidDocument(t))}getEntries(e,t){let n=Bf();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Kd.newInvalidDocument(e))}),mh.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Bf();const o=t.path,a=new Zu(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||hh(ch(a),n)<=0||(r.has(a.key)||jf(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return mh.resolve(i)}getAllFromCollectionGroup(e,t,n,r){_u(9500)}ii(e,t){return mh.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new og(this)}getSize(e){return mh.resolve(this.size)}}class og extends $m{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),mh.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class ag{constructor(e){this.persistence=e,this.si=new zf(e=>yf(e),bf),this.lastRemoteSnapshotVersion=oh.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=Um.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),mh.resolve()}getLastRemoteSnapshotVersion(e){return mh.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return mh.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),mh.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),mh.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Um(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,mh.resolve()}updateTargetData(e,t){return this.Pr(t),mh.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,mh.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),mh.waitFor(i).next(()=>r)}getTargetCount(e){return mh.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return mh.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),mh.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),mh.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),mh.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return mh.resolve(n)}containsKey(e,t){return mh.resolve(this._i.containsKey(t))}}class sg{constructor(e,t){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new eg,this.referenceDelegate=e(this),this.Pi=new ag(this),this.indexManager=new Mm,this.remoteDocumentCache=function(e){return new ig(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Om(t),this.Ii=new Xm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new rg(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){gu("MemoryPersistence","Starting transaction:",e);const r=new lg(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return mh.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class lg extends fh{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new tg,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw _u(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),mh.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),mh.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),mh.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mh.forEach(this.fi,n=>{const r=Zu.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,oh.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return mh.or([()=>mh.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ug{constructor(e,t){this.persistence=e,this.pi=new zf(e=>Eh(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Gm(this,t)}static mi(e,t){return new ug(e,t)}Ei(){}di(e){return mh.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return mh.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?mh.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,oh.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),mh.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),mh.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),mh.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),mh.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jd(e.data.value)),t}br(e,t,n){return mh.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return mh.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=$f(),r=$f();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new hg(e,t.fromCache,n,r)}}class dg{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fg{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=cl()?8:gh(al())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new dg;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(mu()<=Cl.DEBUG&&gu("QueryEngine","SDK will not create cache indexes for query:",Of(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),mh.resolve()):(mu()<=Cl.DEBUG&&gu("QueryEngine","Query:",Of(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(mu()<=Cl.DEBUG&&gu("QueryEngine","The SDK decides to create cache indexes for query:",Of(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tf(t))):mh.resolve())}ys(e,t){if(Ef(t))return mh.resolve(null);let n=Tf(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=If(t,null,"F"),n=Tf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=$f(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.Ds(t,r);return this.Cs(t,o,i,n.readTime)?this.ys(e,If(t,null,"F")):this.vs(e,o,t,n)}))})))}ws(e,t,n,r){return Ef(t)||r.isEqual(oh.min())?mh.resolve(null):this.ps.getDocuments(e,n).next(i=>{const o=this.Ds(t,i);return this.Cs(t,o,n,r)?mh.resolve(null):(mu()<=Cl.DEBUG&&gu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Of(t)),this.vs(e,o,t,lh(r,ah)).next(e=>e))})}Ds(e,t){let n=new nd(Mf(e));return t.forEach((t,r)=>{jf(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return mu()<=Cl.DEBUG&&gu("QueryEngine","Using full collection scan to execute query:",Of(t)),this.ps.getDocumentsMatchingQuery(e,t,uh.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const pg="LocalStore";class mg{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Jh(Mu),this.xs=new zf(e=>yf(e),bf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ym(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function gg(e,t,n,r){return new mg(e,t,n,r)}async function vg(e,t){const n=Su(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=$f();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:o}))})})}function yg(e){const t=Su(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function bg(e,t,n){let r=$f(),i=$f();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Bf();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(oh.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):gu(pg,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{ks:r,qs:i}})}function _g(e,t){const n=Su(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=bh),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function wg(e,t){const n=Su(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,mh.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new Nm(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function xg(e,t,n){const r=Su(e),i=r.Ms.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!vh(e))throw e;gu(pg,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function Sg(e,t,n){const r=Su(e);let i=oh.min(),o=$f();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Su(e),i=r.xs.get(n);return void 0!==i?mh.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Tf(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:oh.min(),n?o:$f())).next(e=>(Eg(r,Rf(t),e),{documents:e,Qs:o})))}function Eg(e,t,n){let r=e.Os.get(t)||oh.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class kg{constructor(){this.activeTargetIds=Yf()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cg{constructor(){this.Mo=new kg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tg{Oo(e){}shutdown(){}}const Ag="ConnectivityMonitor";class Pg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){gu(Ag,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){gu(Ag,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ig=null;function Lg(){return null===Ig?Ig=268435456+Math.round(2147483648*Math.random()):Ig++,"0x"+Ig.toString(16)}const Ng="RestConnection",Og={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jg{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===bd?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,i){const o=Lg(),a=this.zo(e,t.toUriEncodedString());gu(Ng,"Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);const{host:l}=new URL(a),c=tl(l);return this.Jo(e,a,s,n,c).then(t=>(gu(Ng,"Received RPC '".concat(e,"' ").concat(o,": "),t),t),t=>{throw yu(Ng,"RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,i,o){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+fu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Og[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Rg{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Mg="WebChannelConnection";class Dg extends jg{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const o=Lg();return new Promise((i,a)=>{const s=new eu;s.setWithCredentials(!0),s.listenOnce(nu.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case ru.NO_ERROR:const n=s.getResponseJson();gu(Mg,"XHR for RPC '".concat(e,"' ").concat(o," received:"),JSON.stringify(n)),i(n);break;case ru.TIMEOUT:gu(Mg,"RPC '".concat(e,"' ").concat(o," timed out")),a(new ku(Eu.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:const r=s.getStatus();if(gu(Mg,"RPC '".concat(e,"' ").concat(o," failed with status:"),r,"response text:",s.getResponseText()),r>0){var t;let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Eu).indexOf(t)>=0?t:Eu.UNKNOWN}(n.status);a(new ku(e,n.message))}else a(new ku(Eu.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new ku(Eu.UNAVAILABLE,"Connection failed."));break;default:_u(9055,{l_:e,streamId:o,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{gu(Mg,"RPC '".concat(e,"' ").concat(o," completed."))}});const l=JSON.stringify(r);gu(Mg,"RPC '".concat(e,"' ").concat(o," sending request:"),r),s.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Lg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=su(),a=au(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");gu(Mg,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);this.I_(u);let h=!1,d=!1;const f=new Rg({Yo:t=>{d?gu(Mg,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(gu(Mg,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),gu(Mg,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,tu.EventType.OPEN,()=>{d||(gu(Mg,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.o_())}),p(u,tu.EventType.CLOSE,()=>{d||(d=!0,gu(Mg,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.a_(),this.E_(u))}),p(u,tu.EventType.ERROR,t=>{d||(d=!0,yu(Mg,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.a_(new ku(Eu.UNAVAILABLE,"The operation could not be completed")))}),p(u,tu.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];xu(!!i,16349);const o=i,a=(null===o||void 0===o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){gu(Mg,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=jp[e];if(void 0!==t)return Dp(t)}(t),i=a.message;void 0===n&&(n=Eu.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.a_(new ku(n,i)),u.close()}else gu(Mg,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.u_(i)}}),p(a,ou.STAT_EVENT,t=>{t.stat===iu.PROXY?gu(Mg,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===iu.NOPROXY&&gu(Mg,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function zg(){return"undefined"!=typeof document?document:null}function Fg(e){return new rm(e,!0)}class Bg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&gu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Ug="PersistentStream";class Vg{constructor(e,t,n,r,i,o,a,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bg(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Eu.RESOURCE_EXHAUSTED?(vu(t.toString()),vu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Eu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new ku(Eu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return gu(Ug,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(gu(Ug,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hg extends Vg{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_u(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(xu(void 0===t||"string"==typeof t,58123),ad.fromBase64String(t||"")):(xu(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),ad.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Eu.UNKNOWN:Dp(e.code);return new ku(t,e.message||"")}(a);n=new $p(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=fm(e,r.document.name),o=lm(r.document.updateTime),a=r.document.createTime?lm(r.document.createTime):oh.min(),s=new qd({mapValue:{fields:r.document.fields}}),l=Kd.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Zp(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=fm(e,r.document),o=r.readTime?lm(r.readTime):oh.min(),a=Kd.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Zp([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=fm(e,r.document),o=r.removedTargetIds||[];n=new Zp([],o,i,null)}else{if(!("filter"in t))return _u(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Op(r,i),a=e.targetId;n=new Gp(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return oh.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oh.min():t.readTime?lm(t.readTime):oh.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=gm(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=_f(r)?{documents:_m(e,r)}:{query:wm(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=am(e,t.resumeToken);const r=im(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(oh.min())>0){n.readTime=om(e,t.snapshotVersion.toTimestamp());const r=im(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _u(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=gm(this.serializer),t.removeTarget=e,this.q_(t)}}class qg extends Vg{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return xu(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xu(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){xu(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(xu(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?lm(e.updateTime):lm(t);return n.isEqual(oh.min())&&(n=lm(t)),new pp(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=lm(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=gm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>bm(this.serializer,e))};this.q_(t)}}class Wg{}class Kg extends Wg{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ku(Eu.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[o,a]=i;return this.connection.Go(e,um(t,n),r,o,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Eu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ku(Eu.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(o=>{let[a,s]=o;return this.connection.Ho(e,um(t,n),r,a,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Eu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ku(Eu.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Zg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(vu(t),this.aa=!1):gu("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Gg="RemoteStore";class $g{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{iv(this)&&(gu(Gg,"Restarting streams for network reachability change."),await async function(e){const t=Su(e);t.Ea.add(4),await Yg(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Qg(t)}(this))})}),this.Ra=new Zg(n,r)}}async function Qg(e){if(iv(e))for(const t of e.da)await t(!0)}async function Yg(e){for(const t of e.da)await t(!1)}function Xg(e,t){const n=Su(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),rv(n)?nv(n):Sv(n).O_()&&ev(n,t))}function Jg(e,t){const n=Su(e),r=Sv(n);n.Ia.delete(t),r.O_()&&tv(n,t),0===n.Ia.size&&(r.O_()?r.L_():iv(n)&&n.Ra.set("Unknown"))}function ev(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(oh.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sv(e).Y_(t)}function tv(e,t){e.Va.Ue(t),Sv(e).Z_(t)}function nv(e){e.Va=new Yp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Sv(e).start(),e.Ra.ua()}function rv(e){return iv(e)&&!Sv(e).x_()&&e.Ia.size>0}function iv(e){return 0===Su(e).Ea.size}function ov(e){e.Va=void 0}async function av(e){e.Ra.set("Online")}async function sv(e){e.Ia.forEach((t,n)=>{ev(e,t)})}async function lv(e,t){ov(e),rv(e)?(e.Ra.ha(t),nv(e)):e.Ra.set("Unknown")}async function cv(e,t,n){if(e.Ra.set("Online"),t instanceof $p&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){gu(Gg,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await uv(e,n)}else if(t instanceof Zp?e.Va.Ze(t):t instanceof Gp?e.Va.st(t):e.Va.tt(t),!n.isEqual(oh.min()))try{const t=await yg(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(ad.EMPTY_BYTE_STRING,r.snapshotVersion)),tv(e,t);const i=new Nm(r.target,t,n,r.sequenceNumber);ev(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){gu(Gg,"Failed to raise snapshot:",t),await uv(e,t)}}async function uv(e,t,n){if(!vh(t))throw t;e.Ea.add(1),await Yg(e),e.Ra.set("Offline"),n||(n=()=>yg(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{gu(Gg,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Qg(e)})}function hv(e,t){return t().catch(n=>uv(e,n,t))}async function dv(e){const t=Su(e),n=Ev(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bh;for(;fv(t);)try{const e=await _g(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,pv(t,e)}catch(e){await uv(t,e)}mv(t)&&gv(t)}function fv(e){return iv(e)&&e.Ta.length<10}function pv(e,t){e.Ta.push(t);const n=Ev(e);n.O_()&&n.X_&&n.ea(t.mutations)}function mv(e){return iv(e)&&!Ev(e).x_()&&e.Ta.length>0}function gv(e){Ev(e).start()}async function vv(e){Ev(e).ra()}async function yv(e){const t=Ev(e);for(const n of e.Ta)t.ea(n.mutations)}async function bv(e,t,n){const r=e.Ta.shift(),i=Lp.from(r,t,n);await hv(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await dv(e)}async function _v(e,t){t&&Ev(e).X_&&await async function(e,t){if(function(e){return Mp(e)&&e!==Eu.ABORTED}(t.code)){const n=e.Ta.shift();Ev(e).B_(),await hv(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await dv(e)}}(e,t),mv(e)&&gv(e)}async function wv(e,t){const n=Su(e);n.asyncQueue.verifyOperationInProgress(),gu(Gg,"RemoteStore received new credentials");const r=iv(n);n.Ea.add(3),await Yg(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Qg(n)}async function xv(e,t){const n=Su(e);t?(n.Ea.delete(2),await Qg(n)):t||(n.Ea.add(2),await Yg(n),n.Ra.set("Unknown"))}function Sv(e){return e.ma||(e.ma=function(e,t,n){const r=Su(e);return r.sa(),new Hg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:av.bind(null,e),t_:sv.bind(null,e),r_:lv.bind(null,e),H_:cv.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),rv(e)?nv(e):e.Ra.set("Unknown")):(await e.ma.stop(),ov(e))})),e.ma}function Ev(e){return e.fa||(e.fa=function(e,t,n){const r=Su(e);return r.sa(),new qg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:vv.bind(null,e),r_:_v.bind(null,e),ta:yv.bind(null,e),na:bv.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await dv(e)):(await e.fa.stop(),e.Ta.length>0&&(gu(Gg,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class kv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new kv(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ku(Eu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(e,t){if(vu("AsyncQueue","".concat(t,": ").concat(e)),vh(e))return new ku(Eu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Tv{static emptySet(e){return new Tv(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Zu.comparator(t.key,n.key):(e,t)=>Zu.comparator(e.key,t.key),this.keyedMap=Vf(),this.sortedSet=new Jh(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tv))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Tv;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Av{constructor(){this.ga=new Jh(Zu.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_u(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Pv{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new Pv(e,t,Tv.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Iv{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Lv{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Su(e),r=n.queries;n.queries=Nv(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new ku(Eu.ABORTED,"Firestore shutting down"))}}function Nv(){return new zf(e=>Nf(e),Lf)}async function Ov(e,t){const n=Su(e);let r=3;const i=t.query;let o=n.queries.get(i);o?!o.ba()&&t.Da()&&(r=2):(o=new Iv,r=t.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Cv(e,"Initialization of query '".concat(Of(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,o),o.Sa.push(t),t.va(n.onlineState),o.wa&&t.Fa(o.wa)&&Dv(n)}async function jv(e,t){const n=Su(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.Sa.indexOf(t);e>=0&&(o.Sa.splice(e,1),0===o.Sa.length?i=t.Da()?0:1:!o.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Rv(e,t){const n=Su(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&Dv(n)}function Mv(e,t,n){const r=Su(e),i=r.queries.get(t);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(t)}function Dv(e){e.Ca.forEach(e=>{e.next()})}var zv,Fv;(Fv=zv||(zv={})).Ma="default",Fv.Cache="cache";class Bv{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Pv(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Pv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zv.Cache}}class Uv{constructor(e){this.key=e}}class Vv{constructor(e){this.key=e}}class Hv{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$f(),this.mutatedKeys=$f(),this.eu=Mf(e),this.tu=new Tv(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Av,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=jf(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.eu(u,s)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:o,iu:n,Cs:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _u(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],s=0===this.Xa.size&&this.current&&!r?1:0,l=s!==this.Za;return this.Za=s,0!==o.length||l?{snapshot:new Pv(this.query,e.tu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$f(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new Vv(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new Uv(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=$f();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Pv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const qv="SyncEngine";class Wv{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kv{constructor(e){this.key=e,this.hu=!1}}class Zv{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zf(e=>Nf(e),Lf),this.Iu=new Map,this.Eu=new Set,this.du=new Jh(Zu.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=Um.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Gv(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=my(e);let i;const o=r.Tu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Qv(r,t,n,!0),i}async function $v(e,t){const n=my(e);await Qv(n,t,!0,!1)}async function Qv(e,t,n,r){const i=await wg(e.localStore,Tf(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await Yv(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Xg(e.remoteStore,i),s}async function Yv(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await Sg(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return cy(e,t.targetId,s.au),s.snapshot}(e,t,n,r);const o=await Sg(e.localStore,t,!0),a=new Hv(t,o.Qs),s=a.ru(o.documents),l=Kp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);cy(e,n,c.au);const u=new Wv(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Xv(e,t,n){const r=Su(e),i=r.Tu.get(t),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(e=>!Lf(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jg(r.remoteStore,i.targetId),sy(r,i.targetId)}).catch(ph)):(sy(r,i.targetId),await xg(r.localStore,i.targetId,!0))}async function Jv(e,t){const n=Su(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jg(n.remoteStore,r.targetId))}async function ey(e,t){const n=Su(e);try{const e=await function(e,t){const n=Su(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.Pi.addMatchingKeys(e,o.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(ad.EMPTY_BYTE_STRING,oh.min()).withLastLimboFreeSnapshotVersion(oh.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,o)&&a.push(n.Pi.updateTargetData(e,c))});let s=Bf(),l=$f();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(bg(e,o,t.documentUpdates).next(e=>{s=e.ks,l=e.qs})),!r.isEqual(oh.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return mh.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Ms=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(xu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?xu(r.hu,14607):e.removedDocuments.size>0&&(xu(r.hu,42227),r.hu=!1))}),await dy(n,e,t)}catch(e){await ph(e)}}function ty(e,t,n){const r=Su(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Su(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&Dv(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ny(e,t,n){const r=Su(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),o=i&&i.key;if(o){let e=new Jh(Zu.comparator);e=e.insert(o,Kd.newNoDocument(o,oh.min()));const n=$f().add(o),i=new Wp(oh.min(),new Map,new Jh(Mu),e,n);await ey(r,i),r.du=r.du.remove(o),r.Au.delete(t),hy(r)}else await xg(r.localStore,t,!1).then(()=>sy(r,t,n)).catch(ph)}async function ry(e,t){const n=Su(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Su(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=mh.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);xu(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=$f();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);ay(n,r,null),oy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dy(n,e)}catch(e){await ph(e)}}async function iy(e,t,n){const r=Su(e);try{const e=await function(e,t){const n=Su(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(xu(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);ay(r,t,n),oy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await dy(r,e)}catch(n){await ph(n)}}function oy(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function ay(e,t,n){const r=Su(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function sy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||ly(e,t)})}function ly(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Jg(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),hy(e))}function cy(e,t,n){for(const r of n)r instanceof Uv?(e.Ru.addReference(r.key,t),uy(e,r)):r instanceof Vv?(gu(qv,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ly(e,r.key)):_u(19791,{wu:r})}function uy(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(gu(qv,"New document in limbo: "+n),e.Eu.add(r),hy(e))}function hy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Zu(qu.fromString(t)),r=e.fu.next();e.Au.set(r,new Kv(n)),e.du=e.du.insert(n,r),Xg(e.remoteStore,new Nm(Tf(Sf(n.path)),r,"TargetPurposeLimboResolution",yh.ce))}}async function dy(e,t,n){const r=Su(e),i=[],o=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,s)=>{a.push(r.pu(s,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=hg.As(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(e,t){const n=Su(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>mh.forEach(t,t=>mh.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>mh.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!vh(e))throw e;gu(pg,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,o))}async function fy(e,t){const n=Su(e);if(!n.currentUser.isEqual(t)){gu(qv,"User change. New user:",t.toKey());const e=await vg(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new ku(Eu.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await dy(n,e.Ls)}}function py(e,t){const n=Su(e),r=n.Au.get(t);if(r&&r.hu)return $f().add(r.key);{let e=$f();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function my(e){const t=Su(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ey.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=py.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ny.bind(null,t),t.Pu.H_=Rv.bind(null,t.eventManager),t.Pu.yu=Mv.bind(null,t.eventManager),t}function gy(e){const t=Su(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ry.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iy.bind(null,t),t}class vy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return gg(this.persistence,new fg,e.initialUser,this.serializer)}Cu(e){return new sg(cg.mi,this.serializer)}Du(e){return new Cg}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vy.provider={build:()=>new vy};class yy extends vy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){xu(this.persistence.referenceDelegate instanceof ug,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Km(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Bm.withCacheSize(this.cacheSizeBytes):Bm.DEFAULT;return new sg(e=>ug.mi(e,t),this.serializer)}}class by{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ty(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=fy.bind(null,this.syncEngine),await xv(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Lv}createDatastore(e){const t=Fg(e.databaseInfo.databaseId),n=function(e){return new Dg(e)}(e.databaseInfo);return function(e,t,n,r){return new Kg(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new $g(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>ty(this.syncEngine,e,0),Pg.v()?new Pg:new Tg)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Zv(e,t,n,r,i,o);return a&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Su(e);gu(Gg,"RemoteStore shutting down."),t.Ea.add(5),await Yg(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}by.provider={build:()=>new by};class _y{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const wy="FirestoreClient";class xy{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=du.UNAUTHENTICATED,this.clientId=Ru.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{gu(wy,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(gu(wy,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Cv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sy(e,t){e.asyncQueue.verifyOperationInProgress(),gu(wy,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await vg(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ey(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ky(e);gu(wy,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>wv(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>wv(t.remoteStore,n)),e._onlineComponents=t}async function ky(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){gu(wy,"Using user provided OfflineComponentProvider");try{await Sy(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Eu.FAILED_PRECONDITION||e.code===Eu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;yu("Error using user provided cache. Falling back to memory cache: "+n),await Sy(e,new vy)}}else gu(wy,"Using default OfflineComponentProvider"),await Sy(e,new yy(void 0));return e._offlineComponents}async function Cy(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(gu(wy,"Using user provided OnlineComponentProvider"),await Ey(e,e._uninitializedComponentsProvider._online)):(gu(wy,"Using default OnlineComponentProvider"),await Ey(e,new by))),e._onlineComponents}function Ty(e){return Cy(e).then(e=>e.syncEngine)}async function Ay(e){const t=await Cy(e),n=t.eventManager;return n.onListen=Gv.bind(null,t.syncEngine),n.onUnlisten=Xv.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=$v.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Jv.bind(null,t.syncEngine),n}function Py(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Cu;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new _y({next:n=>{o.Nu(),t.enqueueAndForget(()=>jv(e,a)),n.fromCache&&"server"===r.source?i.reject(new ku(Eu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Bv(n,o,{includeMetadataChanges:!0,qa:!0});return Ov(e,a)}(await Ay(e),e.asyncQueue,t,n,r)),r.promise}function Iy(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ly=new Map,Ny="firestore.googleapis.com",Oy=!0;class jy{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ku(Eu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ny,this.ssl=Oy}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Oy;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Fm;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Hm)throw new ku(Eu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ku(Eu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iy(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ku(Eu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new ku(Eu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new ku(Eu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ry{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ku(Eu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ku(Eu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Au;switch(e.type){case"firstParty":return new Lu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ku(Eu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ly.get(e);t&&(gu("ComponentProvider","Removing Datastore"),Ly.delete(e),t.terminate())}(this),Promise.resolve()}}class My{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new My(this.firestore,e,this._query)}}class Dy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dy(this.firestore,e,this._key)}toJSON(){return{type:Dy._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(th(t,Dy._jsonSchema))return new Dy(e,n||null,new Zu(qu.fromString(t.referencePath)))}}Dy._jsonSchemaVersion="firestore/documentReference/1.0",Dy._jsonSchema={type:eh("string",Dy._jsonSchemaVersion),referencePath:eh("string")};class zy extends My{constructor(e,t,n){super(e,t,Sf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dy(this.firestore,null,new Zu(e))}withConverter(e){return new zy(this.firestore,e,this._path)}}function Fy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bl(e),Gu("collection","path",t),e instanceof Ry){const n=qu.fromString(t,...r);return Qu(n),new zy(e,null,n)}{if(!(e instanceof Dy||e instanceof zy))throw new ku(Eu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qu.fromString(t,...r));return Qu(n),new zy(e.firestore,null,n)}}function By(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bl(e),1===arguments.length&&(t=Ru.newId()),Gu("doc","path",t),e instanceof Ry){const n=qu.fromString(t,...r);return $u(n),new Dy(e,null,new Zu(n))}{if(!(e instanceof Dy||e instanceof zy))throw new ku(Eu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(qu.fromString(t,...r));return $u(n),new Dy(e.firestore,e instanceof zy?e.converter:null,new Zu(n))}}const Uy="AsyncQueue";class Vy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bg(this,"async_queue_retry"),this._c=()=>{const e=zg();e&&gu(Uy,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=zg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Cu;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(VO){if(!vh(VO))throw VO;gu(Uy,"Operation failed with retryable error: "+VO)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,vu("INTERNAL UNHANDLED ERROR: ",Hy(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=kv.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&_u(47125,{Pc:Hy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Hy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function qy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Wy extends Ry{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vy,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vy(e),this._firestoreClient=void 0,await e}}}function Ky(e){if(e._terminated)throw new ku(Eu.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Zy(e),e._firestoreClient}function Zy(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new yd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Iy(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||null!==(n=i.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new xy(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Gy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gy(ad.fromBase64String(e))}catch(e){throw new ku(Eu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Gy(ad.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gy._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(th(e,Gy._jsonSchema))return Gy.fromBase64String(e.bytes)}}Gy._jsonSchemaVersion="firestore/bytes/1.0",Gy._jsonSchema={type:eh("string",Gy._jsonSchemaVersion),bytes:eh("string")};class $y{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new ku(Eu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ku(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qy{constructor(e){this._methodName=e}}class Yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ku(Eu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ku(Eu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mu(this._lat,e._lat)||Mu(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yy._jsonSchemaVersion}}static fromJSON(e){if(th(e,Yy._jsonSchema))return new Yy(e.latitude,e.longitude)}}Yy._jsonSchemaVersion="firestore/geoPoint/1.0",Yy._jsonSchema={type:eh("string",Yy._jsonSchemaVersion),latitude:eh("number"),longitude:eh("number")};class Xy{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Xy._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(th(e,Xy._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Xy(e.vectorValues);throw new ku(Eu.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xy._jsonSchemaVersion="firestore/vectorValue/1.0",Xy._jsonSchema={type:eh("string",Xy._jsonSchemaVersion),vectorValues:eh("object")};const Jy=/^__.*__$/;class eb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ep(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sp(e,this.data,t,this.fieldTransforms)}}class tb{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ep(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nb(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _u(40011,{Ac:e})}}class rb{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rb(u(u({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(nb(this.Ac)&&Jy.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ib{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Fg(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new rb({Ac:e,methodName:t,Dc:n,path:Ku.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ob(e){const t=e._freezeSettings(),n=Fg(e._databaseId);return new ib(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ab(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(o.merge||o.mergeFields?2:0,t,n,i);mb("Data must be an object, but it was:",a,r);const s=fb(r,a);let l,c;if(o.merge)l=new id(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=gb(t,r,n);if(!a.contains(i))throw new ku(Eu.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));_b(e,i)||e.push(i)}l=new id(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new eb(new qd(s),l,c)}class sb extends Qy{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sb}}class lb extends Qy{_toFieldTransform(e){return new fp(e.path,new op)}isEqual(e){return e instanceof lb}}function cb(e,t,n,r){const i=e.Cc(1,t,n);mb("Data must be an object, but it was:",i,r);const o=[],a=qd.empty();Yh(r,(e,r)=>{const s=yb(t,e,n);r=bl(r);const l=i.yc(s);if(r instanceof sb)o.push(s);else{const e=db(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new id(o);return new tb(a,s,i.fieldTransforms)}function ub(e,t,n,r,i,o){const a=e.Cc(1,t,n),s=[gb(t,r,n)],l=[i];if(o.length%2!=0)throw new ku(Eu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<o.length;d+=2)s.push(gb(t,o[d])),l.push(o[d+1]);const c=[],u=qd.empty();for(let d=s.length-1;d>=0;--d)if(!_b(c,s[d])){const e=s[d];let t=l[d];t=bl(t);const n=a.yc(e);if(t instanceof sb)c.push(e);else{const r=db(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new id(c);return new tb(u,h,a.fieldTransforms)}function hb(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return db(n,e.Cc(r?4:3,t))}function db(e,t){if(pb(e=bl(e)))return mb("Unsupported field value:",t,e),fb(e,t);if(e instanceof Qy)return function(e,t){if(!nb(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=db(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=bl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ep(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ih.fromDate(e);return{timestampValue:om(t.serializer,n)}}if(e instanceof ih){const n=new ih(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:om(t.serializer,n)}}if(e instanceof Yy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gy)return{bytesValue:am(t.serializer,e._byteString)};if(e instanceof Dy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:cm(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Xy)return function(e,t){return{mapValue:{fields:{[wd]:{stringValue:Ed},[kd]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return Xf(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(Xu(e)))}(e,t)}function fb(e,t){const n={};return Xh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yh(e,(e,r)=>{const i=db(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function pb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ih||e instanceof Yy||e instanceof Gy||e instanceof Dy||e instanceof Qy||e instanceof Xy)}function mb(e,t,n){if(!pb(n)||!Yu(n)){const r=Xu(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function gb(e,t,n){if((t=bl(t))instanceof $y)return t._internalPath;if("string"==typeof t)return yb(e,t);throw bb("Field path arguments must be of type string or ",e,!1,void 0,n)}const vb=new RegExp("[~\\*/\\[\\]]");function yb(e,t,n){if(t.search(vb)>=0)throw bb("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new $y(...t.split("."))._internalPath}catch(r){throw bb("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function bb(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new ku(Eu.INVALID_ARGUMENT,s+e+l)}function _b(e,t){return e.some(e=>e.isEqual(t))}class wb{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xb extends wb{data(){return super.data()}}function Sb(e,t){return"string"==typeof t?yb(e,t):t instanceof $y?t._internalPath:t._delegate._internalPath}function Eb(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ku(Eu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kb{}class Cb extends kb{}function Tb(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof kb&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Pb).length,n=e.filter(e=>e instanceof Ab).length;if(t>1||t>0&&n>0)throw new ku(Eu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Ab extends Cb{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Ab(e,t,n)}_apply(e){const t=this._parse(e);return jb(e._query,t),new My(e.firestore,e.converter,Pf(e._query,t))}_parse(e){const t=ob(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ku(Eu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){Ob(a,o);const t=[];for(const n of a)t.push(Nb(r,e,n));s={arrayValue:{values:t}}}else s=Nb(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ob(a,o),s=hb(n,t,a,"in"===o||"not-in"===o);return Jd.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Pb extends kb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pb(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ef.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)jb(n,i),n=Pf(n,i)}(e._query,t),new My(e.firestore,e.converter,Pf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ib extends Cb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ib(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ku(Eu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ku(Eu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qd(t,n)}(e._query,this._field,this._direction);return new My(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new wf(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Lb(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Sb("orderBy",e);return Ib._create(n,t)}function Nb(e,t,n){if("string"==typeof(n=bl(n))){if(""===n)throw new ku(Eu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kf(t)&&-1!==n.indexOf("/"))throw new ku(Eu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(qu.fromString(n));if(!Zu.isDocumentKey(r))throw new ku(Eu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Rd(e,new Zu(r))}if(n instanceof Dy)return Rd(e,n._key);throw new ku(Eu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xu(n),"."))}function Ob(e,t){if(!Array.isArray(e)||0===e.length)throw new ku(Eu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function jb(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ku(Eu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ku(Eu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Rb{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Cd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return cd(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ud(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _u(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Yh(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[kd].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>cd(e.doubleValue));return new Xy(n)}convertGeoPoint(e){return new Yy(cd(e.latitude),cd(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gd(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const t=ld(e);return new ih(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=qu.fromString(e);xu(Lm(n),9688,{name:e});const r=new _d(n.get(1),n.get(3)),i=new Zu(n.popFirst(5));return r.isEqual(t)||vu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Mb(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Db{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zb extends wb{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Fb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Sb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ku(Eu.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zb._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}zb._jsonSchemaVersion="firestore/documentSnapshot/1.0",zb._jsonSchema={type:eh("string",zb._jsonSchemaVersion),bundleSource:eh("string","DocumentSnapshot"),bundleName:eh("string"),bundle:eh("string")};class Fb extends zb{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Bb{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Db(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Fb(this._firestore,this._userDataWriter,n.key,n,new Db(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ku(Eu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Fb(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Db(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Fb(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Db(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Ub(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ku(Eu.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Bb._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ru.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ub(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _u(61501,{type:e})}}Bb._jsonSchemaVersion="firestore/querySnapshot/1.0",Bb._jsonSchema={type:eh("string",Bb._jsonSchemaVersion),bundleSource:eh("string","QuerySnapshot"),bundleName:eh("string"),bundle:eh("string")};class Vb extends Rb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dy(this.firestore,null,t)}}function Hb(e){e=Ju(e,My);const t=Ju(e.firestore,Wy),n=Ky(t),r=new Vb(t);return Eb(e._query),Py(n,e._query).then(n=>new Bb(t,r,e,n))}function qb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=bl(e);let i={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof n[o]||qy(n[o])||(i=n[o++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(qy(n[o])){var s,l,c;const e=n[o];n[o]=null===(s=e.next)||void 0===s?void 0:s.bind(e),n[o+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[o+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,h,d;if(e instanceof Dy)h=Ju(e.firestore,Wy),d=Sf(e._key.path),u={next:t=>{n[o]&&n[o](Kb(h,e,t))},error:n[o+1],complete:n[o+2]};else{const t=Ju(e,My);h=Ju(t.firestore,Wy),d=t._query;const r=new Vb(h);u={next:e=>{n[o]&&n[o](new Bb(h,r,t,e))},error:n[o+1],complete:n[o+2]},Eb(e._query)}return function(e,t,n,r){const i=new _y(r),o=new Bv(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Ov(await Ay(e),o)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>jv(await Ay(e),o))}}(Ky(h),d,a,u)}function Wb(e,t){return function(e,t){const n=new Cu;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=gy(e);try{const e=await function(e,t){const n=Su(e),r=ih.now(),i=t.reduce((e,t)=>e.add(t.key),$f());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Bf(),l=$f();return n.Ns.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=wp(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Ep(e.key,t,Wd(t.value.mapValue),mp.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Hf(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new Jh(Mu)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await dy(r,e.changes),await dv(r.remoteStore)}catch(e){const t=Cv(e,"Failed to persist write");n.reject(t)}}(await Ty(e),t,n)),n.promise}(Ky(e),t)}function Kb(e,t,n){const r=n.docs.get(t._key),i=new Vb(e);return new zb(e,i,t._key,r,new Db(n.hasPendingWrites,n.fromCache),t.converter)}class Zb{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ob(e)}set(e,t,n){this._verifyNotCommitted();const r=Gb(e,this._firestore),i=Mb(r.converter,t,n),o=ab(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,mp.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Gb(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=bl(t))||t instanceof $y?ub(this._dataReader,"WriteBatch.update",r._key,t,n,a):cb(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,mp.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Gb(e,this._firestore);return this._mutations=this._mutations.concat(new Ap(t._key,mp.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ku(Eu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Gb(e,t){if((e=bl(e)).firestore!==t)throw new ku(Eu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function $b(e){return Ky(e=Ju(e,Wy)),new Zb(e,t=>Wb(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){fu=e}(Mc),Lc(new _l("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new Wy(new Pu(e.getProvider("auth-internal")),new Ou(o,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ku(Eu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(e.options.projectId,t)}(o,r),o);return i=u({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fc(uu,hu,e),Fc(uu,hu,"esm2020")}();const Qb="firebasestorage.googleapis.com",Yb="storageBucket";class Xb extends fl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(t_(e),"Firebase Storage: ".concat(t," (").concat(t_(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xb.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return t_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var Jb,e_;function t_(e){return"storage/"+e}function n_(){return new Xb(Jb.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function r_(){return new Xb(Jb.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i_(){return new Xb(Jb.CANCELED,"User canceled the upload/download.")}function o_(e){return new Xb(Jb.INVALID_ARGUMENT,e)}function a_(){return new Xb(Jb.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Jb||(Jb={}));class s_{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=s_.makeFromUrl(e,t)}catch(VO){return new s_(e,"")}if(""===n.path)return n;throw r=e,new Xb(Jb.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===Qb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new s_(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Xb(Jb.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class l_{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function c_(e,t,n,r){if(r<t)throw o_("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw o_("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function u_(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function h_(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(e_||(e_={}));class d_{constructor(e,t,n,r,i,o,a,s,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11],d=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new f_(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===e_.NO_ERROR,i=n.getStatus();if(!t||h_(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===e_.ABORT;return void e(!1,new f_(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new f_(o,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(VO){r(VO)}else if(null!==i){const e=n_();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?a_():i_())}else{r(r_())}};this.canceled_?t(0,new f_(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,a=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){o&&clearTimeout(o)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),o=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class f_{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function p_(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class m_{constructor(e,t){this._service=e,this._location=t instanceof s_?t:s_.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new m_(e,t)}get root(){const e=new s_(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p_(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new s_(this._location.bucket,e);return new m_(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Xb(Jb.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function g_(e,t){const n=null===t||void 0===t?void 0:t[Yb];return null==n?null:s_.makeFromBucketSpec(n,e)}function v_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n);const i=tl(t);i&&(nl("https://".concat(e.host,"/b")),ol("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(e._overrideAuthToken="string"===typeof o?o:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=u({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gs(JSON.stringify({alg:"none",type:"JWT"})),Gs(JSON.stringify(o)),""].join(".")}(o,e.app.options.projectId))}class y_{constructor(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=Qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?s_.makeFromBucketSpec(r,this._host):g_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=s_.makeFromBucketSpec(this._url,e):this._bucket=g_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){c_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){c_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Oc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new m_(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new l_(a_());{const o=function(e,t,n,r,i,o){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=u_(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new d_(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,s)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const b_="@firebase/storage",__="0.14.0",w_="storage";function x_(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new y_(r,i,o,n,Mc)}Lc(new _l(w_,x_,"PUBLIC").setMultipleInstances(!0)),Fc(b_,__,""),Fc(b_,__,"esm2020");const S_="@firebase/installations",E_="0.6.19",k_=1e4,C_="w:".concat(E_),T_="FIS_v2",A_=36e5,P_=new pl("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function I_(e){return e instanceof fl&&e.code.includes("request-failed")}function L_(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function N_(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function O_(e,t){const n=(await t.json()).error;return P_.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function j_(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function R_(e,t){let{refreshToken:n}=t;const r=j_(e);return r.append("Authorization",function(e){return"".concat(T_," ").concat(e)}(n)),r}async function M_(e){const t=await e();return t.status>=500&&t.status<600?e():t}function D_(e){return new Promise(t=>{setTimeout(t,e)})}const z_=/^[cdef][\w-]{21}$/;function F_(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return z_.test(t)?t:""}catch(e){return""}}function B_(e){return"".concat(e.appName,"!").concat(e.appId)}const U_=new Map;function V_(e,t){const n=B_(e);H_(n,t),function(e,t){const n=W_();n&&n.postMessage({key:e,fid:t});K_()}(n,t)}function H_(e,t){const n=U_.get(e);if(n)for(const r of n)r(t)}let q_=null;function W_(){return!q_&&"BroadcastChannel"in self&&(q_=new BroadcastChannel("[Firebase] FID Change"),q_.onmessage=e=>{H_(e.data.key,e.data.fid)}),q_}function K_(){0===U_.size&&q_&&(q_.close(),q_=null)}const Z_="firebase-installations-store";let G_=null;function $_(){return G_||(G_=ql("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Z_)}})),G_}async function Q_(e,t){const n=B_(e),r=(await $_()).transaction(Z_,"readwrite"),i=r.objectStore(Z_),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||V_(e,t.fid),t}async function Y_(e){const t=B_(e),n=(await $_()).transaction(Z_,"readwrite");await n.objectStore(Z_).delete(t),await n.done}async function X_(e,t){const n=B_(e),r=(await $_()).transaction(Z_,"readwrite"),i=r.objectStore(Z_),o=await i.get(n),a=t(o);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||o&&o.fid===a.fid||V_(e,a.fid),a}async function J_(e){let t;const n=await X_(e.appConfig,n=>{const r=function(e){const t=e||{fid:F_(),registrationStatus:0};return nw(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(P_.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=L_(n),a=j_(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:T_,appId:n.appId,sdkVersion:C_},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await M_(()=>fetch(o,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:N_(e.authToken)}}throw await O_("Create Installation",u)}(e,t);return Q_(e.appConfig,n)}catch(VO){throw I_(VO)&&409===VO.customData.serverCode?await Y_(e.appConfig):await Q_(e.appConfig,{fid:t.fid,registrationStatus:0}),VO}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ew(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function ew(e){let t=await tw(e.appConfig);for(;1===t.registrationStatus;)await D_(100),t=await tw(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await J_(e);return n||t}return t}function tw(e){return X_(e,e=>{if(!e)throw P_.create("installation-not-found");return nw(e)})}function nw(e){return 1===(t=e).registrationStatus&&t.registrationTime+k_<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function rw(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(L_(e),"/").concat(n,"/authTokens:generate")}(n,t),o=R_(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const s={installation:{sdkVersion:C_,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(s)},c=await M_(()=>fetch(i,l));if(c.ok){return N_(await c.json())}throw await O_("Generate Auth Token",c)}async function iw(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await X_(e.appConfig,r=>{if(!aw(r))throw P_.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+A_}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await ow(e.appConfig);for(;1===n.authToken.requestStatus;)await D_(100),n=await ow(e.appConfig);const r=n.authToken;return 0===r.requestStatus?iw(e,t):r}(e,n),r;{if(!navigator.onLine)throw P_.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return u(u({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await rw(e,t),r=u(u({},t),{},{authToken:n});return await Q_(e.appConfig,r),n}catch(VO){if(!I_(VO)||401!==VO.customData.serverCode&&404!==VO.customData.serverCode){const n=u(u({},t),{},{authToken:{requestStatus:0}});await Q_(e.appConfig,n)}else await Y_(e.appConfig);throw VO}}(e,n),n}});return t?await t:r.authToken}function ow(e){return X_(e,e=>{if(!aw(e))throw P_.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+k_<Date.now()?u(u({},e),{},{authToken:{requestStatus:0}}):e;var n})}function aw(e){return void 0!==e&&2===e.registrationStatus}async function sw(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await J_(e);t&&await t}(n);return(await iw(n,t)).token}function lw(e){return P_.create("missing-app-config-values",{valueName:e})}const cw="installations",uw=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw lw("App Configuration");if(!e.name)throw lw("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw lw(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Nc(t,"heartbeat"),_delete:()=>Promise.resolve()}},hw=e=>{const t=Nc(e.getProvider("app").getImmediate(),cw).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await J_(t);return r?r.catch(console.error):iw(t).catch(console.error),n.fid}(t),getToken:e=>sw(t,e)}};Lc(new _l(cw,uw,"PUBLIC")),Lc(new _l("installations-internal",hw,"PRIVATE")),Fc(S_,E_),Fc(S_,E_,"esm2020");const dw="analytics",fw="https://www.googletagmanager.com/gtag/js",pw=new Ll("@firebase/analytics"),mw=new pl("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gw(e){if(!e.startsWith(fw)){const t=mw.create("invalid-gtag-resource",{gtagURL:e});return pw.warn(t.message),""}return e}function vw(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function yw(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:gw}),r=document.createElement("script"),i="".concat(fw,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function bw(e,t,n,r){return async function(i){try{for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await vw(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),await Promise.all(o),e("event",r,i||{})}catch(VO){pw.error(VO)}}(e,t,n,r,i)}else if("config"===i){const[i,o]=a;await async function(e,t,n,r,i,o){const a=r[i];try{if(a)await t[a];else{const e=(await vw(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(VO){pw.error(VO)}e("config",i,o)}(e,t,n,r,i,o)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(VO){pw.error(VO)}}}const _w=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ww(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function xw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_w,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw mw.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw mw.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Ew;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),Sw({appId:r,apiKey:i,measurementId:o},a,s,t)}async function Sw(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_w;const{appId:a,measurementId:s}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(mw.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(VO){if(s)return pw.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===VO||void 0===VO?void 0:VO.message,"]")),{appId:a,measurementId:s};throw VO}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:ww(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),o=await fetch(i,r);if(200!==o.status&&304!==o.status){let e="";try{var a;const t=await o.json();null!==(a=t.error)&&void 0!==a&&a.message&&(e=t.error.message)}catch(s){}throw mw.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return o.deleteThrottleMetadata(a),t}catch(VO){var l;const r=VO;if(!function(e){if(!(e instanceof fl)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(o.deleteThrottleMetadata(a),s)return pw.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:s};throw VO}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?yl(i,o.intervalMillis,30):yl(i,o.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return o.setThrottleMetadata(a,u),pw.debug("Calling attemptFetch again in ".concat(c," millis")),Sw(e,u,n,o)}}class Ew{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let kw,Cw;function Tw(e){Cw=e}function Aw(e){kw=e}async function Pw(e,t,n,r,i,o,a){var s;const l=xw(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&pw.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>pw.error(e)),t.push(l);const c=async function(){if(!ul())return pw.warn(mw.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await hl()}catch(VO){return pw.warn(mw.create("indexeddb-unavailable",{errorInfo:null===VO||void 0===VO?void 0:VO.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(fw)&&n.src.includes(e))return n;return null})(o)||yw(o,u.measurementId),Cw&&(i("consent","default",Cw),Tw(void 0)),i("js",new Date);const d=null!==(s=null===a||void 0===a?void 0:a.config)&&void 0!==s?s:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),kw&&(i("set",kw),Aw(void 0)),u.measurementId}class Iw{constructor(e){this.app=e}_delete(){return delete Lw[this.app.options.appId],Promise.resolve()}}let Lw={},Nw=[];const Ow={};let jw,Rw,Mw="dataLayer",Dw="gtag",zw=!1;function Fw(e,t,n){!function(){const e=[];if(ll()&&e.push("This is a browser extension environment."),dl()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=mw.create("invalid-analytics-context",{errorInfo:t});pw.warn(n.message)}}();const r=e.options.appId;if(!r)throw mw.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw mw.create("no-api-key");pw.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Lw[r])throw mw.create("already-exists",{id:r});if(!zw){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Mw);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=bw(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(Lw,Nw,Ow,Mw,Dw);Rw=e,jw=t,zw=!0}Lw[r]=Pw(e,Nw,Ow,t,jw,Mw,n);return new Iw(e)}function Bw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zc();e=bl(e);const t=Nc(e,dw);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Nc(e,dw);if(n.isInitialized()){const e=n.getImmediate();if(gl(t,n.getOptions()))return e;throw mw.create("already-initialized")}const r=n.initialize({options:t});return r}(e)}function Uw(e,t,n,r){e=bl(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,u(u({},r),{},{send_to:i}))}}(Rw,Lw[e.app.options.appId],t,n,r).catch(e=>pw.error(e))}const Vw="@firebase/analytics",Hw="0.10.18";Lc(new _l(dw,(e,t)=>{let{options:n}=t;return Fw(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Lc(new _l("analytics-internal",function(e){try{const t=e.getProvider(dw).getImmediate();return{logEvent:(e,n,r)=>Uw(t,e,n,r)}}catch(VO){throw mw.create("interop-component-reg-failed",{reason:VO})}},"PRIVATE")),Fc(Vw,Hw),Fc(Vw,Hw,"esm2020");const qw=Dc({apiKey:"AIzaSyCM5r8d_M9Ml3QrLxunqniaRm0FIH2EqZk",authDomain:"pulse-realty-95e9b.firebaseapp.com",projectId:"pulse-realty-95e9b",storageBucket:"pulse-realty-95e9b.firebasestorage.app",messagingSenderId:"137888051716",appId:"1:137888051716:web:0c490254e4cce79072bb51",measurementId:"G-CXL8W7CL1B"}),Ww=function(e,t,n){n||(n=bd);const r=Nc(e,"firestore");if(r.isInitialized(n)){const e=r.getImmediate({identifier:n});if(gl(r.getOptions(n),t))return e;throw new ku(Eu.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new ku(Eu.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<Hm)throw new ku(Eu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return t.host&&tl(t.host)&&nl(t.host),r.initialize({options:t,instanceIdentifier:n})}(qw,{experimentalForceLongPolling:!0,useFetchStreams:!1});!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zc(),t=arguments.length>1?arguments[1]:void 0;e=bl(e);const n=Nc(e,w_).getImmediate({identifier:t}),r=Xs("storage");r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};v_(e,t,n,r)}(n,...r)}(qw);(async function(){if(ll())return!1;if(!dl())return!1;if(!ul())return!1;try{return await hl()}catch(e){return!1}})().then(e=>{e&&Bw(qw)});const Kw="properties",Zw="pulse:properties",Gw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{const t=localStorage.getItem(Zw)||"[]",n=JSON.parse(t),r=Array.isArray(n)?n.filter(Boolean):[],i=new Map(r.map(e=>[String(null===e||void 0===e?void 0:e.id),Array.isArray(null===e||void 0===e?void 0:e.panos)?e.panos:void 0])),o=new Set((Array.isArray(e)?e:[]).map(e=>String(null===e||void 0===e?void 0:e.id))),a=(Array.isArray(e)?e:[]).map(e=>{const t=i.get(String(null===e||void 0===e?void 0:e.id));return t?u(u({},e),{},{panos:t}):e});for(const e of r){const t=String(null===e||void 0===e?void 0:e.id);o.has(t)||a.push(e)}localStorage.setItem(Zw,JSON.stringify(a))}catch(t){}},$w=()=>{try{return JSON.parse(localStorage.getItem(Zw)||"[]")}catch(e){return[]}},Qw=e=>e.docs.map(e=>{var t;const n=e.data()||{},r=null!==(t=n.updatedAt)&&void 0!==t&&t.toMillis?n.updatedAt.toMillis():"number"===typeof n.updatedAt?n.updatedAt:null;return u(u({id:e.id},n),{},{updatedAt:r})});async function Yw(){try{const e=Tb(Fy(Ww,Kw),Lb("updatedAt","desc")),t=await Hb(e),n=Qw(t);return Gw(n),$w()}catch(e){return $w()}}async function Xw(e){const t=Tb(Fy(Ww,Kw,String(e),"photos"),Lb("idx","asc"));return(await Hb(t)).docs.map(e=>{var t;return null===(t=e.data())||void 0===t?void 0:t.src}).filter(Boolean)}function Jw(e){return qb(Tb(Fy(Ww,Kw),Lb("updatedAt","desc")),t=>{const n=Qw(t);Gw(n),e($w()),window.dispatchEvent(new Event("pulse:properties-changed"))})}function ex(){try{const e=localStorage.getItem(Zw)||"[]",t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return[]}}function tx(e){try{localStorage.setItem(Zw,JSON.stringify(e))}catch(t){}window.dispatchEvent(new Event("pulse:properties-changed"))}function nx(e){const t=ex().find(t=>String(null===t||void 0===t?void 0:t.id)===String(e));return Array.isArray(null===t||void 0===t?void 0:t.panos)?t.panos:[]}const rx=nx;function ix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const{props:n,idx:r}=function(e){const t=ex();let n=t.findIndex(t=>String(null===t||void 0===t?void 0:t.id)===String(e));return-1===n&&(t.push({id:String(e),image:"",images:[],panos:[],updatedAt:Date.now()}),n=t.length-1,tx(t)),{props:t,idx:n}}(e),i=Array.isArray(t)?t.filter(Boolean):[];n[r]=u(u({},n[r]),{},{panos:i,updatedAt:Date.now()}),tx(n);try{window.dispatchEvent(new CustomEvent("pulse:panos-changed",{detail:{propertyId:String(e),count:i.length}}))}catch(o){}}async function ox(e){const t=String(e.id||Date.now()),n=Array.isArray(e.images)?e.images:[],r=n[0]||e.image||"",i=u(u({},e),{},{id:t,image:r,images:[],updatedAt:new lb("serverTimestamp")}),o=By(Ww,Kw,t);await function(e,t,n){e=Ju(e,Dy);const r=Ju(e.firestore,Wy),i=Mb(e.converter,t,n);return Wb(r,[ab(ob(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mp.none())])}(o,i,{merge:!0});const a=Fy(Ww,Kw,t,"photos"),s=await Hb(a);if(!s.empty){const e=$b(Ww);s.forEach(t=>e.delete(t.ref)),await e.commit()}if(n.length){const e=450;for(let t=0;t<n.length;t+=e){const r=n.slice(t,t+e),i=$b(Ww);r.forEach((e,n)=>{const r=By(a);i.set(r,{idx:t+n,src:e})}),await i.commit()}}try{const e=localStorage.getItem(Zw)||"[]",n=Array.isArray(JSON.parse(e))?JSON.parse(e):[];let r=n.findIndex(e=>String(null===e||void 0===e?void 0:e.id)===t);-1===r&&(n.push({id:t,panos:[],images:[]}),r=n.length-1);const o=Array.isArray(n[r].panos)?n[r].panos:[];n[r]=u(u(u({},n[r]),i),{},{id:t,panos:o,updatedAt:Date.now()}),localStorage.setItem(Zw,JSON.stringify(n))}catch(l){}window.dispatchEvent(new Event("pulse:properties-changed"))}async function ax(e){const t=Fy(Ww,Kw,String(e),"photos"),n=await Hb(t);if(!n.empty){const e=450,t=n.docs;for(let n=0;n<t.length;n+=e){const r=t.slice(n,n+e),i=$b(Ww);r.forEach(e=>i.delete(e.ref)),await i.commit()}}const r=Fy(Ww,Kw,String(e),"panoramas"),i=await Hb(r);if(!i.empty){const e=450,t=i.docs;for(let n=0;n<t.length;n+=e){const r=t.slice(n,n+e),i=$b(Ww);r.forEach(e=>i.delete(e.ref)),await i.commit()}}await function(e){return Wb(Ju(e.firestore,Wy),[new Ap(e._key,mp.none())])}(By(Ww,Kw,String(e))),window.dispatchEvent(new Event("pulse:properties-changed"))}var sx,lx,cx,ux,hx,dx,fx,px,mx,gx,vx,yx,bx;const _x={en:{title:"Recent Listings",beds:"Beds",baths:"Baths",sqft:"sqft",bedsShort:"bd",bathsShort:"ba",floorShort:"fl",viewDetails:"View Details",noResults:e=>"No properties found for \u201c".concat(e,"\u201d.")},ru:{title:"\u041d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b",beds:"\u041a\u043e\u043c\u043d\u0430\u0442\u044b",baths:"\u0412\u0430\u043d\u043d\u044b\u0435",sqft:"\u043a\u0432. \u043c",bedsShort:"\u043a\u043e\u043c\u043d.",bathsShort:"\u0441/\u0443",floorShort:"\u044d\u0442.",viewDetails:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",noResults:e=>"\u041e\u0431\u044a\u0435\u043a\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \xab".concat(e,"\xbb.")},hy:{title:"\u054e\u0565\u0580\u057b\u056b\u0576 \u0561\u057e\u0565\u056c\u0561\u0581\u057e\u0561\u056e \u0570\u0561\u0575\u057f\u0561\u0580\u0561\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580",beds:"\u054d\u0565\u0576\u0575\u0561\u056f\u0576\u0565\u0580",baths:"\u054d\u0561\u0576\u0570\u0561\u0576\u0563\u0578\u0582\u0575\u0581\u0576\u0565\u0580",sqft:"\u0584\u0574",bedsShort:"\u057d\u0565\u0576.",bathsShort:"\u057d/\u0570",floorShort:"\u0570\u0561\u0580\u056f",viewDetails:"\u0534\u056b\u057f\u0565\u056c \u0574\u0561\u0576\u0580\u0561\u0574\u0561\u057d\u0576\u0565\u0580\u0568",noResults:e=>"\u0540\u0561\u0575\u057f\u0561\u0580\u0561\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580 \u0579\u0565\u0576 \u0563\u057f\u0576\u057e\u0565\u056c \xab".concat(e,"\xbb \u0570\u0561\u0580\u0581\u0574\u0561\u0574\u0562\u0589")}},wx={en:{"For Sale":"For Sale","For Rent":"For Rent"},ru:{"For Sale":"\u0412 \u043f\u0440\u043e\u0434\u0430\u0436\u0435","For Rent":"\u0412 \u0430\u0440\u0435\u043d\u0434\u0443"},hy:{"For Sale":"\u054e\u0561\u0573\u0561\u057c\u0584","For Rent":"\u054e\u0561\u0580\u0571\u0578\u057e"}},xx={en:{Apartment:"Apartment",House:"House",Villa:"Commercial Space",Land:"Land"},ru:{Apartment:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",House:"\u0414\u043e\u043c",Villa:"\u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435",Land:"\u0417\u0435\u043c\u043b\u044f"},hy:{Apartment:"\u0532\u0576\u0561\u056f\u0561\u0580\u0561\u0576",House:"\u054f\u0578\u0582\u0576",Villa:"\u053f\u0578\u0574\u0565\u0580\u0581\u056b\u0578\u0576 \u057f\u0561\u0580\u0561\u056e\u0584",Land:"\u0540\u0578\u0572"}},Sx=()=>document.documentElement.lang||localStorage.getItem("lang")||"hy",Ex=vi.section(sx||(sx=t(["\n  padding: 60px 40px;\n  background: white;\n"]))),kx=vi.h2(lx||(lx=t(["\n  text-align: center;\n  font-size: clamp(20px, 4vw, 32px);\n  margin-bottom: 10px;\n"]))),Cx=vi.div(cx||(cx=t(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 30px;\n"]))),Tx=vi.div(ux||(ux=t(["\n  width: 350px;\n  border: 1px solid #e5e7eb;      /* \u0441\u043f\u043e\u043a\u043e\u0439\u043d\u0430\u044f \u0441\u0435\u0440\u0430\u044f \u0440\u0430\u043c\u043a\u0430 */\n  border-radius: 12px;\n  overflow: hidden;\n  background: #fff;\n  box-shadow: 0 4px 10px rgba(0,0,0,.06);\n  cursor: pointer;\n  transition: transform .25s ease, box-shadow .25s ease;\n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 10px 24px rgba(0,0,0,.12);\n  }\n"]))),Ax=vi.div(hx||(hx=t([" position: relative; "]))),Px=vi.span(dx||(dx=t(["\n  position: absolute;\n  top: 10px; left: 10px;\n  background: ",";\n  color: white; padding: 5px 10px; border-radius: 20px; font-size: 12px;\n"])),e=>{let{$sale:t}=e;return t?"#28a745":"#ffc107"}),Ix=vi.span(fx||(fx=t(["\n  position: absolute;\n  top: 10px; right: 10px;\n  background: #d9f5e9; color: #1e865b;\n  padding: 5px 10px; border-radius: 20px; font-size: 12px;\n"]))),Lx=vi.img(px||(px=t([" width: 100%; height: 200px; object-fit: cover; "]))),Nx=vi.div(mx||(mx=t([" padding: 20px; "]))),Ox=vi.div(gx||(gx=t(["\n  display: flex; justify-content: space-between; align-items: center;\n  color: #666; margin: 10px 0; font-size: 15px;\n"]))),jx=vi.div(vx||(vx=t([" display: flex; align-items: center; gap: 5px; "]))),Rx=vi.div(yx||(yx=t([" color: #28a745; font-weight: bold; font-size: 20px; "]))),Mx=vi.button(bx||(bx=t(["\n  margin-top: 10px; background: #1e1e2c; color: white;\n  padding: 10px 16px; border: none; border-radius: 4px; width: 100%;\n"]))),Dx=e=>{let{filterText:t=""}=e;const[n,i]=(0,r.useState)(Sx()),o=_x[n]||_x.hy,[a,s]=(0,r.useState)(()=>$w()),[l,c]=(0,r.useState)(!1),u=(0,r.useRef)(a);(0,r.useEffect)(()=>{const e=document.documentElement,t=new MutationObserver(e=>{for(const t of e)"attributes"===t.type&&"lang"===t.attributeName&&i(Sx())});return t.observe(e,{attributes:!0}),()=>t.disconnect()},[]),(0,r.useEffect)(()=>{let e=!0;(async()=>{try{const t=await Yw();e&&s(Array.isArray(t)?t:[])}finally{e&&c(!0)}})();let t=null;try{t=Jw(e=>s(Array.isArray(e)?e:[]))}catch(r){}const n=async()=>{try{const e=await Yw();s(Array.isArray(e)?e:[])}catch(e){}};return window.addEventListener("pulse:properties-changed",n),()=>{e=!1,t&&t(),window.removeEventListener("pulse:properties-changed",n)}},[]),(0,r.useEffect)(()=>{Array.isArray(a)&&a.length&&(u.current=a)},[a]);const h=null!==a&&void 0!==a&&a.length?a:u.current||[],d=(t||"").trim().toLowerCase(),f=(0,r.useMemo)(()=>{const e=Array.isArray(h)?h:[];return d?e.filter(e=>{var t,n,r,i;return"".concat(null!==(t=e.title)&&void 0!==t?t:""," ").concat(null!==(n=e.description)&&void 0!==n?n:""," ").concat(null!==(r=e.type)&&void 0!==r?r:""," ").concat(null!==(i=e.status)&&void 0!==i?i:"").toLowerCase().includes(d)}):e},[h,d]),p=e=>{var t;return(null===(t=wx[n])||void 0===t?void 0:t[e])||e||""},m=e=>{var t;return(null===(t=xx[n])||void 0===t?void 0:t[e])||e||""};return(0,xa.jsxs)(Ex,{id:"properties",children:[(0,xa.jsx)(kx,{children:o.title}),(0,xa.jsx)(Cx,{children:f.map(e=>{var t,n,r,i,a;const s=null!==(t=e.area)&&void 0!==t?t:e.sqft,l=null!==(n=null!==(r=null!==(i=e.floor)&&void 0!==i?i:e.level)&&void 0!==r?r:e.floorNumber)&&void 0!==n?n:e.storey,c=/sale/i.test(String(e.status||""));return(0,xa.jsx)(_t,{to:"/property/".concat(e.id),style:{textDecoration:"none",color:"inherit"},children:(0,xa.jsxs)(Tx,{$sale:c,children:[(0,xa.jsxs)(Ax,{children:[(0,xa.jsx)(Lx,{src:(null===(a=e.images)||void 0===a?void 0:a[0])||e.image,alt:e.title||"property"}),(0,xa.jsx)(Px,{$sale:c,children:p(e.status)}),(0,xa.jsx)(Ix,{children:m(e.type)})]}),(0,xa.jsxs)(Nx,{children:[(0,xa.jsx)("h4",{style:{margin:0},children:e.title}),(0,xa.jsxs)(Ox,{children:[(0,xa.jsxs)(jx,{title:o.beds,children:[(0,xa.jsx)(Ri,{})," ",e.beds," ",o.bedsShort]}),(0,xa.jsxs)(jx,{title:o.baths,children:[(0,xa.jsx)(ji,{})," ",e.baths," ",o.bathsShort]}),(0,xa.jsxs)(jx,{title:o.sqft,children:[(0,xa.jsx)(Ui,{})," ",s?"".concat(s," ").concat(o.sqft):"\u2014"]}),(0,xa.jsxs)(jx,{title:o.floorShort,children:[(0,xa.jsx)(Mi,{})," ",l?"".concat(l," ").concat(o.floorShort):"\u2014"]})]}),(0,xa.jsxs)(Rx,{children:["$",(u=e.price,"number"===typeof u?u.toLocaleString():u)]}),(0,xa.jsx)(Mx,{children:o.viewDetails})]})]})},e.id);var u})}),l&&0===f.length&&(0,xa.jsx)("p",{style:{textAlign:"center",color:"#666",marginTop:20},children:o.noResults(t)})]})};function zx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fx(e,t){if(e){if("string"==typeof e)return zx(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zx(e,t):void 0}}function Bx(e){return function(e){if(Array.isArray(e))return zx(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ux(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||Fx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Vx=n(139),Hx=n.n(Vx);function qx(e){var t=r.useRef();t.current=e;var n=r.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return n}var Wx="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,Kx=function(e,t){var n=r.useRef(!0);Wx(function(){return e(n.current)},t),Wx(function(){return n.current=!1,function(){n.current=!0}},[])},Zx=function(e,t){Kx(function(t){if(!t)return e()},t)};const Gx=Kx;function $x(e){var t=r.useRef(!1),n=Ux(r.useState(e),2),i=n[0],o=n[1];return r.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[i,function(e,n){n&&t.current||o(e)}]}function Qx(e){return void 0!==e}var Yx={},Xx=[];function Jx(e,t){}function eS(e,t){}function tS(e,t,n){t||Yx[n]||(e(!1,n),Yx[n]=!0)}function nS(e,t){tS(Jx,e,t)}nS.preMessage=function(e){Xx.push(e)},nS.resetWarned=function(){Yx={}},nS.noteOnce=function(e,t){tS(eS,e,t)};const rS=nS;const iS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=r.has(t);if(rS(!s,"Warning: There may be circular references"),s)return!1;if(t===i)return!0;if(n&&o>1)return!1;r.add(t);var l=o+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var c=0;c<t.length;c++)if(!e(t[c],i[c],l))return!1;return!0}if(t&&i&&"object"===a(t)&&"object"===a(i)){var u=Object.keys(t);return u.length===Object.keys(i).length&&u.every(function(n){return e(t[n],i[n],l)})}return!1}(e,t)};function oS(){return oS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oS.apply(null,arguments)}var aS=n(950);function sS(e,t,n){return(e-t)/(n-t)}function lS(e,t,n,r){var i=sS(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*i,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*i,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*i,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*i,"%"),o.transform="translateX(-50%)"}return o}function cS(e,t){return Array.isArray(e)?e[t]:e}var uS={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=uS.F1&&t<=uS.F12)return!1;switch(t){case uS.ALT:case uS.CAPS_LOCK:case uS.CONTEXT_MENU:case uS.CTRL:case uS.DOWN:case uS.END:case uS.ESC:case uS.HOME:case uS.INSERT:case uS.LEFT:case uS.MAC_FF_META:case uS.META:case uS.NUMLOCK:case uS.NUM_CENTER:case uS.PAGE_DOWN:case uS.PAGE_UP:case uS.PAUSE:case uS.PRINT_SCREEN:case uS.RIGHT:case uS.SHIFT:case uS.UP:case uS.WIN_KEY:case uS.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=uS.ZERO&&e<=uS.NINE)return!0;if(e>=uS.NUM_ZERO&&e<=uS.NUM_MULTIPLY)return!0;if(e>=uS.A&&e<=uS.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case uS.SPACE:case uS.QUESTION_MARK:case uS.NUM_PLUS:case uS.NUM_MINUS:case uS.NUM_PERIOD:case uS.NUM_DIVISION:case uS.SEMICOLON:case uS.DASH:case uS.EQUALS:case uS.COMMA:case uS.PERIOD:case uS.SLASH:case uS.APOSTROPHE:case uS.SINGLE_QUOTE:case uS.OPEN_SQUARE_BRACKET:case uS.BACKSLASH:case uS.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const hS=uS;const dS=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var fS=r.createContext({}),pS=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],mS=r.forwardRef(function(e,t){var n,i=e.prefixCls,a=e.value,s=e.valueIndex,c=e.onStartMove,h=e.onDelete,d=e.style,f=e.render,p=e.dragging,m=e.draggingDelete,g=e.onOffsetChange,v=e.onChangeComplete,y=e.onFocus,b=e.onMouseEnter,_=o(e,pS),w=r.useContext(dS),x=w.min,S=w.max,E=w.direction,k=w.disabled,C=w.keyboard,T=w.range,A=w.tabIndex,P=w.ariaLabelForHandle,I=w.ariaLabelledByForHandle,L=w.ariaRequired,N=w.ariaValueTextFormatterForHandle,O=w.styles,j=w.classNames,R="".concat(i,"-handle"),M=function(e){k||c(e,s)},D=lS(E,a,x,S),z={};null!==s&&(z={tabIndex:k?null:cS(A,s),role:"slider","aria-valuemin":x,"aria-valuemax":S,"aria-valuenow":a,"aria-disabled":k,"aria-label":cS(P,s),"aria-labelledby":cS(I,s),"aria-required":cS(L,s),"aria-valuetext":null===(n=cS(N,s))||void 0===n?void 0:n(a),"aria-orientation":"ltr"===E||"rtl"===E?"horizontal":"vertical",onMouseDown:M,onTouchStart:M,onFocus:function(e){null===y||void 0===y||y(e,s)},onMouseEnter:function(e){b(e,s)},onKeyDown:function(e){if(!k&&C){var t=null;switch(e.which||e.keyCode){case hS.LEFT:t="ltr"===E||"btt"===E?-1:1;break;case hS.RIGHT:t="ltr"===E||"btt"===E?1:-1;break;case hS.UP:t="ttb"!==E?1:-1;break;case hS.DOWN:t="ttb"!==E?-1:1;break;case hS.HOME:t="min";break;case hS.END:t="max";break;case hS.PAGE_UP:t=2;break;case hS.PAGE_DOWN:t=-2;break;case hS.BACKSPACE:case hS.DELETE:null===h||void 0===h||h(s)}null!==t&&(e.preventDefault(),g(t,s))}},onKeyUp:function(e){switch(e.which||e.keyCode){case hS.LEFT:case hS.RIGHT:case hS.UP:case hS.DOWN:case hS.HOME:case hS.END:case hS.PAGE_UP:case hS.PAGE_DOWN:null===v||void 0===v||v()}}});var F=r.createElement("div",oS({ref:t,className:Hx()(R,l(l(l({},"".concat(R,"-").concat(s+1),null!==s&&T),"".concat(R,"-dragging"),p),"".concat(R,"-dragging-delete"),m),j.handle),style:u(u(u({},D),d),O.handle)},z,_));return f&&(F=f(F,{index:s,prefixCls:i,value:a,dragging:p,draggingDelete:m})),F});const gS=mS;var vS=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],yS=r.forwardRef(function(e,t){var n=e.prefixCls,i=e.style,a=e.onStartMove,s=e.onOffsetChange,l=e.values,c=e.handleRender,h=e.activeHandleRender,d=e.draggingIndex,f=e.draggingDelete,p=e.onFocus,m=o(e,vS),g=r.useRef({}),v=Ux(r.useState(!1),2),y=v[0],b=v[1],_=Ux(r.useState(-1),2),w=_[0],x=_[1],S=function(e){x(e),b(!0)};r.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=g.current[e])||void 0===t||t.focus()},hideHelp:function(){(0,aS.flushSync)(function(){b(!1)})}}});var E=u({prefixCls:n,onStartMove:a,onOffsetChange:s,render:c,onFocus:function(e,t){S(t),null===p||void 0===p||p(e)},onMouseEnter:function(e,t){S(t)}},m);return r.createElement(r.Fragment,null,l.map(function(e,t){var n=d===t;return r.createElement(gS,oS({ref:function(e){e?g.current[t]=e:delete g.current[t]},dragging:n,draggingDelete:n&&f,style:cS(i,t),key:t,value:e,valueIndex:t},E))}),h&&y&&r.createElement(gS,oS({key:"a11y"},E,{value:l[w],valueIndex:null,dragging:-1!==d,draggingDelete:f,render:h,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))});const bS=yS;const _S=function(e){var t=e.prefixCls,n=e.style,i=e.children,o=e.value,a=e.onClick,s=r.useContext(dS),c=s.min,h=s.max,d=s.direction,f=s.includedStart,p=s.includedEnd,m=s.included,g="".concat(t,"-text"),v=lS(d,o,c,h);return r.createElement("span",{className:Hx()(g,l({},"".concat(g,"-active"),m&&f<=o&&o<=p)),style:u(u({},v),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){a(o)}},i)};const wS=function(e){var t=e.prefixCls,n=e.marks,i=e.onClick,o="".concat(t,"-mark");return n.length?r.createElement("div",{className:o},n.map(function(e){var t=e.value,n=e.style,a=e.label;return r.createElement(_S,{key:t,prefixCls:o,style:n,value:t,onClick:i},a)})):null};const xS=function(e){var t=e.prefixCls,n=e.value,i=e.style,o=e.activeStyle,a=r.useContext(dS),s=a.min,c=a.max,h=a.direction,d=a.included,f=a.includedStart,p=a.includedEnd,m="".concat(t,"-dot"),g=d&&f<=n&&n<=p,v=u(u({},lS(h,n,s,c)),"function"===typeof i?i(n):i);return g&&(v=u(u({},v),"function"===typeof o?o(n):o)),r.createElement("span",{className:Hx()(m,l({},"".concat(m,"-active"),g)),style:v})};const SS=function(e){var t=e.prefixCls,n=e.marks,i=e.dots,o=e.style,a=e.activeStyle,s=r.useContext(dS),l=s.min,c=s.max,u=s.step,h=r.useMemo(function(){var e=new Set;if(n.forEach(function(t){e.add(t.value)}),i&&null!==u)for(var t=l;t<=c;)e.add(t),t+=u;return Array.from(e)},[l,c,u,i,n]);return r.createElement("div",{className:"".concat(t,"-step")},h.map(function(e){return r.createElement(xS,{prefixCls:t,key:e,value:e,style:o,activeStyle:a})}))};const ES=function(e){var t=e.prefixCls,n=e.style,i=e.start,o=e.end,a=e.index,s=e.onStartMove,c=e.replaceCls,h=r.useContext(dS),d=h.direction,f=h.min,p=h.max,m=h.disabled,g=h.range,v=h.classNames,y="".concat(t,"-track"),b=sS(i,f,p),_=sS(o,f,p),w=function(e){!m&&s&&s(e,-1)},x={};switch(d){case"rtl":x.right="".concat(100*b,"%"),x.width="".concat(100*_-100*b,"%");break;case"btt":x.bottom="".concat(100*b,"%"),x.height="".concat(100*_-100*b,"%");break;case"ttb":x.top="".concat(100*b,"%"),x.height="".concat(100*_-100*b,"%");break;default:x.left="".concat(100*b,"%"),x.width="".concat(100*_-100*b,"%")}var S=c||Hx()(y,l(l({},"".concat(y,"-").concat(a+1),null!==a&&g),"".concat(t,"-track-draggable"),s),v.track);return r.createElement("div",{className:S,style:u(u({},x),n),onMouseDown:w,onTouchStart:w})};const kS=function(e){var t=e.prefixCls,n=e.style,i=e.values,o=e.startPoint,a=e.onStartMove,s=r.useContext(dS),l=s.included,c=s.range,h=s.min,d=s.styles,f=s.classNames,p=r.useMemo(function(){if(!c){if(0===i.length)return[];var e=null!==o&&void 0!==o?o:h,t=i[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<i.length-1;r+=1)n.push({start:i[r],end:i[r+1]});return n},[i,c,o,h]);if(!l)return null;var m=null!==p&&void 0!==p&&p.length&&(f.tracks||d.tracks)?r.createElement(ES,{index:null,prefixCls:t,start:p[0].start,end:p[p.length-1].end,replaceCls:Hx()(f.tracks,"".concat(t,"-tracks")),style:d.tracks}):null;return r.createElement(r.Fragment,null,m,p.map(function(e,i){var o=e.start,s=e.end;return r.createElement(ES,{index:i,prefixCls:t,style:u(u({},cS(n,i)),d.track),start:o,end:s,key:i,onStartMove:a})}))};function CS(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const TS=function(e,t,n,i,o,a,s,l,c,u,h){var d=Ux(r.useState(null),2),f=d[0],p=d[1],m=Ux(r.useState(-1),2),g=m[0],v=m[1],y=Ux(r.useState(!1),2),b=y[0],_=y[1],w=Ux(r.useState(n),2),x=w[0],S=w[1],E=Ux(r.useState(n),2),k=E[0],C=E[1],T=r.useRef(null),A=r.useRef(null),P=r.useRef(null),I=r.useContext(fS),L=I.onDragStart,N=I.onDragChange;Gx(function(){-1===g&&S(n)},[n,g]),r.useEffect(function(){return function(){document.removeEventListener("mousemove",T.current),document.removeEventListener("mouseup",A.current),P.current&&(P.current.removeEventListener("touchmove",T.current),P.current.removeEventListener("touchend",A.current))}},[]);var O=function(e,t,n){void 0!==t&&p(t),S(e);var r=e;n&&(r=e.filter(function(e,t){return t!==g})),s(r),N&&N({rawValues:e,deleteIndex:n?g:-1,draggingIndex:g,draggingValue:t})},j=qx(function(e,t,n){if(-1===e){var r=k[0],s=k[k.length-1],l=i-r,u=o-s,h=t*(o-i);h=Math.max(h,l),h=Math.min(h,u);var d=a(r+h);h=d-r;var f=k.map(function(e){return e+h});O(f)}else{var p=(o-i)*t,m=Bx(x);m[e]=k[e];var g=c(m,p,e,"dist");O(g.values,g.value,n)}}),R=r.useMemo(function(){var e=Bx(n).sort(function(e,t){return e-t}),t=Bx(x).sort(function(e,t){return e-t}),r={};t.forEach(function(e){r[e]=(r[e]||0)+1}),e.forEach(function(e){r[e]=(r[e]||0)-1});var i=u?1:0,o=Object.values(r).reduce(function(e,t){return e+Math.abs(t)},0);return o<=i?x:n},[n,x,u]);return[g,f,b,R,function(r,i,o){r.stopPropagation();var a=o||n,s=a[i];v(i),p(s),C(a),S(a),_(!1);var c=CS(r),d=c.pageX,f=c.pageY,m=!1;L&&L({rawValues:a,draggingIndex:i,draggingValue:s});var g=function(n){n.preventDefault();var r,o,a=CS(n),s=a.pageX,l=a.pageY,c=s-d,p=l-f,g=e.current.getBoundingClientRect(),v=g.width,y=g.height;switch(t){case"btt":r=-p/y,o=c;break;case"ttb":r=p/y,o=c;break;case"rtl":r=-c/v,o=p;break;default:r=c/v,o=p}m=!!u&&(Math.abs(o)>130&&h<x.length),_(m),j(i,r,m)},y=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",g),P.current&&(P.current.removeEventListener("touchmove",T.current),P.current.removeEventListener("touchend",A.current)),T.current=null,A.current=null,P.current=null,l(m),v(-1),_(!1)};document.addEventListener("mouseup",y),document.addEventListener("mousemove",g),r.currentTarget.addEventListener("touchend",y),r.currentTarget.addEventListener("touchmove",g),T.current=g,A.current=y,P.current=r.currentTarget}]};var AS=r.forwardRef(function(e,t){var n=e.prefixCls,i=void 0===n?"rc-slider":n,o=e.className,s=e.style,c=e.classNames,h=e.styles,d=e.id,f=e.disabled,p=void 0!==f&&f,m=e.keyboard,g=void 0===m||m,v=e.autoFocus,y=e.onFocus,b=e.onBlur,_=e.min,w=void 0===_?0:_,x=e.max,S=void 0===x?100:x,E=e.step,k=void 0===E?1:E,C=e.value,T=e.defaultValue,A=e.range,P=e.count,I=e.onChange,L=e.onBeforeChange,N=e.onAfterChange,O=e.onChangeComplete,j=e.allowCross,R=void 0===j||j,M=e.pushable,D=void 0!==M&&M,z=e.reverse,F=e.vertical,B=e.included,U=void 0===B||B,V=e.startPoint,H=e.trackStyle,q=e.handleStyle,W=e.railStyle,K=e.dotStyle,Z=e.activeDotStyle,G=e.marks,$=e.dots,Q=e.handleRender,Y=e.activeHandleRender,X=e.track,J=e.tabIndex,ee=void 0===J?0:J,te=e.ariaLabelForHandle,ne=e.ariaLabelledByForHandle,re=e.ariaRequired,ie=e.ariaValueTextFormatterForHandle,oe=r.useRef(null),ae=r.useRef(null),se=r.useMemo(function(){return F?z?"ttb":"btt":z?"rtl":"ltr"},[z,F]),le=function(e){return(0,r.useMemo)(function(){if(!0===e||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack;return[!0,t,!t&&n,e.minCount||0,e.maxCount]},[e])}(A),ce=Ux(le,5),ue=ce[0],he=ce[1],de=ce[2],fe=ce[3],pe=ce[4],me=r.useMemo(function(){return isFinite(w)?w:0},[w]),ge=r.useMemo(function(){return isFinite(S)?S:100},[S]),ve=r.useMemo(function(){return null!==k&&k<=0?1:k},[k]),ye=r.useMemo(function(){return"boolean"===typeof D?!!D&&ve:D>=0&&D},[D,ve]),be=r.useMemo(function(){return Object.keys(G||{}).map(function(e){var t=G[e],n={value:Number(e)};return t&&"object"===a(t)&&!r.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n}).filter(function(e){var t=e.label;return t||"number"===typeof t}).sort(function(e,t){return e.value-t.value})},[G]),_e=function(e,t,n,i,o,a){var s=r.useCallback(function(n){return Math.max(e,Math.min(t,n))},[e,t]),l=r.useCallback(function(r){if(null!==n){var i=e+Math.round((s(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},a=Math.max(o(n),o(t),o(e)),l=Number(i.toFixed(a));return e<=l&&l<=t?l:null}return null},[n,e,t,s]),c=r.useCallback(function(r){var o=s(r),a=i.map(function(e){return e.value});null!==n&&a.push(l(r)),a.push(e,t);var c=a[0],u=t-e;return a.forEach(function(e){var t=Math.abs(o-e);t<=u&&(c=e,u=t)}),c},[e,t,i,n,s,l]),u=function r(o,a,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof a){var u,h=o[s],d=h+a,f=[];i.forEach(function(e){f.push(e.value)}),f.push(e,t),f.push(l(h));var p=a>0?1:-1;"unit"===c?f.push(l(h+p*n)):f.push(l(d)),f=f.filter(function(e){return null!==e}).filter(function(e){return a<0?e<=h:e>=h}),"unit"===c&&(f=f.filter(function(e){return e!==h}));var m="unit"===c?h:d;u=f[0];var g=Math.abs(u-m);if(f.forEach(function(e){var t=Math.abs(e-m);t<g&&(u=e,g=t)}),void 0===u)return a<0?e:t;if("dist"===c)return u;if(Math.abs(a)>1){var v=Bx(o);return v[s]=u,r(v,a-p,s,c)}return u}return"min"===a?e:"max"===a?t:void 0},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e[n],o=u(e,t,n,r);return{value:o,changed:o!==i}},d=function(e){return null===a&&0===e||"number"===typeof a&&e<a};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(c),s=i[n],l=u(i,t,n,r);if(i[n]=l,!1===o){var f=a||0;n>0&&i[n-1]!==s&&(i[n]=Math.max(i[n],i[n-1]+f)),n<i.length-1&&i[n+1]!==s&&(i[n]=Math.min(i[n],i[n+1]-f))}else if("number"===typeof a||null===a){for(var p=n+1;p<i.length;p+=1)for(var m=!0;d(i[p]-i[p-1])&&m;){var g=h(i,1,p);i[p]=g.value,m=g.changed}for(var v=n;v>0;v-=1)for(var y=!0;d(i[v]-i[v-1])&&y;){var b=h(i,-1,v-1);i[v-1]=b.value,y=b.changed}for(var _=i.length-1;_>0;_-=1)for(var w=!0;d(i[_]-i[_-1])&&w;){var x=h(i,-1,_-1);i[_-1]=x.value,w=x.changed}for(var S=0;S<i.length-1;S+=1)for(var E=!0;d(i[S+1]-i[S])&&E;){var k=h(i,1,S+1);i[S+1]=k.value,E=k.changed}}return{value:i[n],values:i}}]}(me,ge,ve,be,R,ye),we=Ux(_e,2),xe=we[0],Se=we[1],Ee=function(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=Ux($x(function(){return Qx(i)?i:Qx(r)?"function"===typeof r?r():r:"function"===typeof e?e():e}),2),l=s[0],c=s[1],u=void 0!==i?i:l,h=a?a(u):u,d=qx(o),f=Ux($x([u]),2),p=f[0],m=f[1];return Zx(function(){var e=p[0];l!==e&&d(l,e)},[p]),Zx(function(){Qx(i)||c(i)},[i]),[h,qx(function(e,t){c(e,t),m([u],t)})]}(T,{value:C}),ke=Ux(Ee,2),Ce=ke[0],Te=ke[1],Ae=r.useMemo(function(){var e=null===Ce||void 0===Ce?[]:Array.isArray(Ce)?Ce:[Ce],t=Ux(e,1)[0],n=null===Ce?[]:[void 0===t?me:t];if(ue){if(n=Bx(e),P||void 0===Ce){var r=P>=0?P+1:2;for(n=n.slice(0,r);n.length<r;){var i;n.push(null!==(i=n[n.length-1])&&void 0!==i?i:me)}}n.sort(function(e,t){return e-t})}return n.forEach(function(e,t){n[t]=xe(e)}),n},[Ce,ue,me,P,xe]),Pe=function(e){return ue?e:e[0]},Ie=qx(function(e){var t=Bx(e).sort(function(e,t){return e-t});I&&!iS(t,Ae,!0)&&I(Pe(t)),Te(t)}),Le=qx(function(e){e&&oe.current.hideHelp();var t=Pe(Ae);null===N||void 0===N||N(t),rS(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null===O||void 0===O||O(t)}),Ne=Ux(TS(ae,se,Ae,me,ge,xe,Ie,Le,Se,he,fe),5),Oe=Ne[0],je=Ne[1],Re=Ne[2],Me=Ne[3],De=Ne[4],ze=function(e,t){if(!p){var n=Bx(Ae),r=0,i=0,o=ge-me;Ae.forEach(function(t,n){var a=Math.abs(e-t);a<=o&&(o=a,r=n),t<e&&(i=n)});var a=r;he&&0!==o&&(!pe||Ae.length<pe)?(n.splice(i+1,0,e),a=i+1):n[r]=e,ue&&!Ae.length&&void 0===P&&n.push(e);var s,l,c=Pe(n);if(null===L||void 0===L||L(c),Ie(n),t)null===(s=document.activeElement)||void 0===s||null===(l=s.blur)||void 0===l||l.call(s),oe.current.focus(a),De(t,a,n);else null===N||void 0===N||N(c),rS(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null===O||void 0===O||O(c)}},Fe=Ux(r.useState(null),2),Be=Fe[0],Ue=Fe[1];r.useEffect(function(){if(null!==Be){var e=Ae.indexOf(Be);e>=0&&oe.current.focus(e)}Ue(null)},[Be]);var Ve=r.useMemo(function(){return(!de||null!==ve)&&de},[de,ve]),He=qx(function(e,t){De(e,t),null===L||void 0===L||L(Pe(Ae))}),qe=-1!==Oe;r.useEffect(function(){if(!qe){var e=Ae.lastIndexOf(je);oe.current.focus(e)}},[qe]);var We=r.useMemo(function(){return Bx(Me).sort(function(e,t){return e-t})},[Me]),Ke=Ux(r.useMemo(function(){return ue?[We[0],We[We.length-1]]:[me,We[0]]},[We,ue,me]),2),Ze=Ke[0],Ge=Ke[1];r.useImperativeHandle(t,function(){return{focus:function(){oe.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=ae.current)&&void 0!==e&&e.contains(t)&&(null===t||void 0===t||t.blur())}}}),r.useEffect(function(){v&&oe.current.focus(0)},[]);var $e=r.useMemo(function(){return{min:me,max:ge,direction:se,disabled:p,keyboard:g,step:ve,included:U,includedStart:Ze,includedEnd:Ge,range:ue,tabIndex:ee,ariaLabelForHandle:te,ariaLabelledByForHandle:ne,ariaRequired:re,ariaValueTextFormatterForHandle:ie,styles:h||{},classNames:c||{}}},[me,ge,se,p,g,ve,U,Ze,Ge,ue,ee,te,ne,re,ie,h,c]);return r.createElement(dS.Provider,{value:$e},r.createElement("div",{ref:ae,className:Hx()(i,o,l(l(l(l({},"".concat(i,"-disabled"),p),"".concat(i,"-vertical"),F),"".concat(i,"-horizontal"),!F),"".concat(i,"-with-marks"),be.length)),style:s,onMouseDown:function(e){e.preventDefault();var t,n=ae.current.getBoundingClientRect(),r=n.width,i=n.height,o=n.left,a=n.top,s=n.bottom,l=n.right,c=e.clientX,u=e.clientY;switch(se){case"btt":t=(s-u)/i;break;case"ttb":t=(u-a)/i;break;case"rtl":t=(l-c)/r;break;default:t=(c-o)/r}ze(xe(me+t*(ge-me)),e)},id:d},r.createElement("div",{className:Hx()("".concat(i,"-rail"),null===c||void 0===c?void 0:c.rail),style:u(u({},W),null===h||void 0===h?void 0:h.rail)}),!1!==X&&r.createElement(kS,{prefixCls:i,style:H,values:Ae,startPoint:V,onStartMove:Ve?He:void 0}),r.createElement(SS,{prefixCls:i,marks:be,dots:$,style:K,activeStyle:Z}),r.createElement(bS,{ref:oe,prefixCls:i,style:q,values:Me,draggingIndex:Oe,draggingDelete:Re,onStartMove:He,onOffsetChange:function(e,t){if(!p){var n=Se(Ae,e,t);null===L||void 0===L||L(Pe(Ae)),Ie(n.values),Ue(n.value)}},onFocus:y,onBlur:b,handleRender:Q,activeHandleRender:Y,onChangeComplete:Le,onDelete:he?function(e){if(!(p||!he||Ae.length<=fe)){var t=Bx(Ae);t.splice(e,1),null===L||void 0===L||L(Pe(t)),Ie(t);var n=Math.max(0,e-1);oe.current.hideHelp(),oe.current.focus(n)}}:void 0}),r.createElement(wS,{prefixCls:i,marks:be,onClick:ze})))});const PS=AS;var IS,LS,NS,OS,jS,RS,MS,DS,zS;const FS=vi.div(IS||(IS=t(["\n  background: white;\n  padding: 30px;\n  border-radius: 10px;\n  margin-top: 20px;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n  width: 100%;\n  max-width: 720px;\n  box-sizing: border-box;\n  @media (max-width: 768px) { padding: 20px 16px; }\n"]))),BS=vi.div(LS||(LS=t(["\n  display: flex; gap: 20px; flex-wrap: wrap; margin-bottom: 30px;\n"]))),US=vi.select(NS||(NS=t(["\n  flex: 1; min-width: 180px; padding: 12px; border: 1px solid #ccc; border-radius: 6px;\n  color: #1A3D4D; font-size: 16px;\n  @media (max-width: 400px) { min-width: 140px; }\n"]))),VS=vi.input(OS||(OS=t(["\n  flex: 1; min-width: 180px; padding: 12px; border: 1px solid #ccc; border-radius: 6px;\n  color: #1A3D4D; font-size: 16px;\n  @media (max-width: 400px) { min-width: 140px; }\n"]))),HS=vi.h4(jS||(jS=t(["font-size: 18px; color: #1A1A1A; font-weight: 600; margin-bottom: 15px;"]))),qS=vi.div(RS||(RS=t(["\n  display: flex; justify-content: space-between; font-weight: 500; color: #333; margin-top: 5px;\n"]))),WS=vi.div(MS||(MS=t(["\n  display: grid; grid-template-columns: repeat(3, minmax(0, 1fr));\n  gap: 12px 24px; margin-top: 20px; justify-items: start; align-items: start;\n  @media (max-width: 768px) { grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px 16px; }\n  @media (max-width: 420px) { grid-template-columns: 1fr; }\n"]))),KS=vi.label(DS||(DS=t(["\n  display: flex; align-items: flex-start; gap: 10px; color: #6C7A96; font-size: 16px;\n  line-height: 1.25; word-break: break-word; text-align: left; cursor: pointer;\n"]))),ZS=vi.input.attrs({type:"checkbox"})(zS||(zS=t(['\n  flex: 0 0 auto; width: 18px; height: 18px; margin-top: 2px;\n  appearance: none; -webkit-appearance: none; -moz-appearance: none;\n  border: 2px solid #6C7A96; border-radius: 3px; background: #fff;\n  display: inline-grid; place-content: center; transition: background-color .15s, border-color .15s;\n  &::after { content: ""; width: 10px; height: 10px; transform: scale(0) rotate(45deg); border-right: 2px solid #fff; border-bottom: 2px solid #fff; }\n  &:checked{ background: #f0ae00; border-color: #f0ae00; }\n  &:checked::after{ transform: scale(1) rotate(45deg); }\n  &:focus-visible{ outline: 2px solid rgba(240,174,0,.6); outline-offset: 2px; }\n']))),GS={en:{bedrooms:"Bedrooms",bathrooms:"Bathrooms",minArea:"Min area",maxArea:"Max area",priceRange:"Price Range",amenitiesTitle:"Amenities & Features",amenities:["Air Conditioner","Heating","Microwave","Bedding","Internet","Pets Allowed","Swimming Pool","Car Parking","Laundry Room","Spa Center"],one:"1",two:"2",threePlus:"3+"},ru:{bedrooms:"\u0421\u043f\u0430\u043b\u044c\u043d\u0438",bathrooms:"\u0412\u0430\u043d\u043d\u044b\u0435",minArea:"\u041c\u0438\u043d. \u043f\u043b\u043e\u0449\u0430\u0434\u044c",maxArea:"\u041c\u0430\u043a\u0441. \u043f\u043b\u043e\u0449\u0430\u0434\u044c",priceRange:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0446\u0435\u043d\u044b",amenitiesTitle:"\u0423\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u0438 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438",amenities:["\u041a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440","\u041e\u0442\u043e\u043f\u043b\u0435\u043d\u0438\u0435","\u041c\u0438\u043a\u0440\u043e\u0432\u043e\u043b\u043d\u043e\u0432\u043a\u0430","\u041f\u043e\u0441\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0438","\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442","\u041c\u043e\u0436\u043d\u043e \u0441 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c\u0438","\u0411\u0430\u0441\u0441\u0435\u0439\u043d","\u041f\u0430\u0440\u043a\u043e\u0432\u043a\u0430","\u041f\u0440\u0430\u0447\u0435\u0447\u043d\u0430\u044f","\u0421\u043f\u0430-\u0446\u0435\u043d\u0442\u0440"],one:"1",two:"2",threePlus:"3+"},hy:{bedrooms:"\u054d\u0565\u0576\u0575\u0561\u056f\u0576\u0565\u0580",bathrooms:"\u054d\u0561\u0576\u0570\u0561\u0576\u0563\u0578\u0582\u0575\u0581",minArea:"\u0546\u057e\u0561\u0566. \u0574\u0561\u056f\u0565\u0580\u0565\u057d",maxArea:"\u0531\u057c. \u0574\u0561\u056f\u0565\u0580\u0565\u057d",priceRange:"\u0533\u0576\u056b \u0574\u056b\u057b\u0561\u056f\u0561\u0575\u0584",amenitiesTitle:"\u0540\u0561\u0580\u0574\u0561\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580 \u0587 \u0561\u057c\u0561\u0576\u0571\u0576\u0561\u0570\u0561\u057f\u056f\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580",amenities:["\u0555\u0564\u0578\u0580\u0561\u056f\u056b\u0579","\u054b\u0565\u057c\u0578\u0582\u0581\u0578\u0582\u0574","\u0544\u056b\u056f\u0580\u0578\u0561\u056c\u056b\u0584\u0561\u0575\u056b\u0576 \u057e\u0561\u057c\u0561\u0580\u0561\u0576","\u054d\u057a\u056b\u057f\u0561\u056f\u0565\u0572\u0565\u0576","\u053b\u0576\u057f\u0565\u0580\u0576\u0565\u057f","\u0539\u0578\u0582\u0575\u056c\u0561\u057f\u0580\u057e\u0578\u0582\u0574 \u0565\u0576 \u056f\u0565\u0576\u0564\u0561\u0576\u056b\u0576\u0565\u0580","\u053c\u0578\u0572\u0561\u057e\u0561\u0566\u0561\u0576","\u0531\u057e\u057f\u0578\u056f\u0561\u0575\u0561\u0576\u0561\u057f\u0565\u0572\u056b","\u053c\u057e\u0561\u0581\u0584\u0561\u057f\u0578\u0582\u0576","\u054d\u057a\u0561 \u056f\u0565\u0576\u057f\u0580\u0578\u0576"],one:"1",two:"2",threePlus:"3+"}},$S=()=>{const[e,t]=(0,r.useState)([0,1e4]),[n,i]=(0,r.useState)(document.documentElement.lang||localStorage.getItem("lang")||"hy");(0,r.useEffect)(()=>{const e=document.documentElement,t=new MutationObserver(t=>{for(const n of t)"attributes"===n.type&&"lang"===n.attributeName&&i(e.lang||"hy")});return t.observe(e,{attributes:!0}),e.lang||(e.lang=localStorage.getItem("lang")||"hy"),()=>t.disconnect()},[]);const o=GS[n]||GS.hy;return(0,xa.jsxs)(FS,{children:[(0,xa.jsxs)(BS,{children:[(0,xa.jsxs)(US,{children:[(0,xa.jsx)("option",{children:o.bedrooms}),(0,xa.jsx)("option",{children:o.one}),(0,xa.jsx)("option",{children:o.two}),(0,xa.jsx)("option",{children:o.threePlus})]}),(0,xa.jsxs)(US,{children:[(0,xa.jsx)("option",{children:o.bathrooms}),(0,xa.jsx)("option",{children:o.one}),(0,xa.jsx)("option",{children:o.two}),(0,xa.jsx)("option",{children:o.threePlus})]}),(0,xa.jsx)(VS,{placeholder:o.minArea}),(0,xa.jsx)(VS,{placeholder:o.maxArea})]}),(0,xa.jsx)(HS,{children:o.priceRange}),(0,xa.jsx)(PS,{range:!0,min:0,max:1e4,value:e,onChange:t,trackStyle:[{backgroundColor:"#FFA500",height:6}],handleStyle:[{borderColor:"#FFA500",height:22,width:22},{borderColor:"#FFA500",height:22,width:22}],railStyle:{backgroundColor:"#eee",height:6}}),(0,xa.jsxs)(qS,{children:[(0,xa.jsx)("span",{children:e[0]}),(0,xa.jsx)("span",{children:e[1]})]}),(0,xa.jsx)(HS,{children:o.amenitiesTitle}),(0,xa.jsx)(WS,{children:o.amenities.map(e=>(0,xa.jsxs)(KS,{children:[(0,xa.jsx)(ZS,{}),e]},e))})]})};var QS,YS,XS,JS,eE,tE,nE,rE,iE,oE,aE,sE,lE,cE,uE,hE,dE,fE,pE,mE,gE,vE,yE,bE,_E,wE,xE,SE,EE,kE,CE,TE;const AE={Yerevan:{label:{en:"Yerevan",ru:"\u0415\u0440\u0435\u0432\u0430\u043d",hy:"\u0535\u0580\u0587\u0561\u0576"},towns:[{key:"Ajapnyak",label:{en:"Ajapnyak",ru:"\u0410\u0447\u0430\u043f\u043d\u044f\u043a",hy:"\u0531\u057b\u0561\u0583\u0576\u0575\u0561\u056f"}},{key:"Avan",label:{en:"Avan",ru:"\u0410\u0432\u0430\u043d",hy:"\u0531\u057e\u0561\u0576"}},{key:"Davtashen",label:{en:"Davtashen",ru:"\u0414\u0430\u0432\u0442\u0430\u0448\u0435\u043d",hy:"\u0534\u0561\u057e\u0569\u0561\u0577\u0565\u0576"}},{key:"Erebuni",label:{en:"Erebuni",ru:"\u042d\u0440\u0435\u0431\u0443\u043d\u0438",hy:"\u0537\u0580\u0565\u0562\u0578\u0582\u0576\u056b"}},{key:"Kanaker-Zeytun",label:{en:"Kanaker-Zeytun",ru:"\u041a\u0430\u043d\u0430\u043a\u0435\u0440-\u0417\u0435\u0439\u0442\u0443\u043d",hy:"\u0554\u0561\u0576\u0561\u0584\u0565\u057c-\u0536\u0565\u0575\u0569\u0578\u0582\u0576"}},{key:"Kentron",label:{en:"Kentron",ru:"\u041a\u0435\u043d\u0442\u0440\u043e\u043d",hy:"\u053f\u0565\u0576\u057f\u0580\u0578\u0576"}},{key:"Malatia-Sebastia",label:{en:"Malatia-Sebastia",ru:"\u041c\u0430\u043b\u0430\u0442\u0438\u044f-\u054d\u0435\u0431\u0430\u0441\u0442\u0438\u044f",hy:"\u0544\u0561\u056c\u0561\u0569\u056b\u0561-\u054d\u0565\u0562\u0561\u057d\u057f\u056b\u0561"}},{key:"Nor Nork",label:{en:"Nor Nork",ru:"\u041d\u043e\u0440-\u041d\u043e\u0440\u043a",hy:"\u0546\u0578\u0580 \u0546\u0578\u0580\u0584"}},{key:"Nork-Marash",label:{en:"Nork-Marash",ru:"\u041d\u043e\u0440\u043a-\u041c\u0430\u0440\u0430\u0448",hy:"\u0546\u0578\u0580\u0584-\u0544\u0561\u0580\u0561\u0577"}},{key:"Nubarashen",label:{en:"Nubarashen",ru:"\u041d\u0443\u0431\u0430\u0440\u0430\u0448\u0435\u043d",hy:"\u0546\u0578\u0582\u0562\u0561\u0580\u0561\u0577\u0565\u0576"}},{key:"Shengavit",label:{en:"Shengavit",ru:"\u0547\u0435\u043d\u0563\u0430\u0432\u0438\u0442",hy:"\u0547\u0565\u0576\u0563\u0561\u057e\u056b\u0569"}},{key:"Arabkir",label:{en:"Arabkir",ru:"\u0410\u0440\u0430\u0431\u043a\u0438\u0440",hy:"\u0531\u0580\u0561\u0562\u056f\u056b\u0580"}}]},Aragatsotn:{label:{en:"Aragatsotn",ru:"\u0410\u0440\u0430\u0433\u0430\u0446\u043e\u0442\u043d",hy:"\u0531\u0580\u0561\u0563\u0561\u056e\u0578\u057f\u0576"},towns:[{key:"Ashtarak",label:{en:"Ashtarak",ru:"\u0410\u0448\u0442\u0430\u0440\u0430\u043a",hy:"\u0531\u0577\u057f\u0561\u0580\u0561\u056f"}},{key:"Aparan",label:{en:"Aparan",ru:"\u0410\u043f\u0430\u0440\u0430\u043d",hy:"\u0531\u057a\u0561\u0580\u0561\u0576"}},{key:"Talin",label:{en:"Talin",ru:"\u0422\u0430\u043b\u0438\u043d",hy:"\u0539\u0561\u056c\u056b\u0576"}},{key:"Oshakan",label:{en:"Oshakan",ru:"\u041e\u0448\u0430\u043a\u0430\u043d",hy:"\u0555\u0577\u0561\u056f\u0561\u0576"}},{key:"Tsaghkahovit",label:{en:"Tsaghkahovit",ru:"\u0426\u0430\u0445\u043a\u0430\u043e\u0432\u0438\u0442",hy:"\u053e\u0561\u0572\u056f\u0561\u0570\u0578\u057e\u056b\u057f"}}]},Ararat:{label:{en:"Ararat",ru:"\u0410\u0440\u0430\u0440\u0430\u0442",hy:"\u0531\u0580\u0561\u0580\u0561\u057f"},towns:[{key:"Artashat",label:{en:"Artashat",ru:"\u0410\u0440\u0442\u0430\u0448\u0430\u0442",hy:"\u0531\u0580\u057f\u0561\u0577\u0561\u057f"}},{key:"Masis",label:{en:"Masis",ru:"\u041c\u0430\u0441\u0438\u0441",hy:"\u0544\u0561\u057d\u056b\u057d"}},{key:"Vedi",label:{en:"Vedi",ru:"\u0412\u0435\u0434\u0438",hy:"\u054e\u0565\u0564\u056b"}},{key:"Ararat",label:{en:"Ararat",ru:"\u0410\u0440\u0430\u0440\u0430\u0442",hy:"\u0531\u0580\u0561\u0580\u0561\u057f"}},{key:"Lusarat",label:{en:"Lusarat",ru:"\u041b\u0443\u0441\u0430\u0440\u0430\u0442",hy:"\u053c\u0578\u0582\u057d\u0561\u057c\u0561\u057f"}}]},Armavir:{label:{en:"Armavir",ru:"\u0410\u0440\u043c\u0430\u0432\u0438\u0440",hy:"\u0531\u0580\u0574\u0561\u057e\u056b\u0580"},towns:[{key:"Armavir",label:{en:"Armavir",ru:"\u0410\u0440\u043c\u0430\u0432\u0438\u0440",hy:"\u0531\u0580\u0574\u0561\u057e\u056b\u0580"}},{key:"Echmiadzin",label:{en:"Vagharshapat (Etchmiadzin)",ru:"\u0412\u0430\u0433\u0430\u0440\u0448\u0430\u043f\u0430\u0442 (\u042d\u0447\u043c\u0438\u0430\u0434\u0437\u0438\u043d)",hy:"\u054e\u0561\u0572\u0561\u0580\u0577\u0561\u057a\u0561\u057f (\u0537\u057b\u0574\u056b\u0561\u056e\u056b\u0576)"}},{key:"Metsamor",label:{en:"Metsamor",ru:"\u041c\u0435\u0446\u0430\u043c\u043e\u0440",hy:"\u0544\u0565\u056e\u0561\u0574\u0578\u0580"}},{key:"Baghramyan",label:{en:"Baghramyan",ru:"\u0411\u0430\u0433\u0440\u0430\u043c\u044f\u043d",hy:"\u0532\u0561\u0572\u0580\u0561\u0574\u0575\u0561\u0576"}}]},Gegharkunik:{label:{en:"Gegharkunik",ru:"\u0413\u0435\u0433\u0430\u0440\u043a\u0443\u043d\u0438\u043a",hy:"\u0533\u0565\u0572\u0561\u0580\u0584\u0578\u0582\u0576\u056b\u0584"},towns:[{key:"Gavar",label:{en:"Gavar",ru:"\u0413\u0430\u0432\u0430\u0440",hy:"\u0533\u0561\u057e\u0561\u057c"}},{key:"Sevan",label:{en:"Sevan",ru:"\u0421\u0435\u0432\u0430\u043d",hy:"\u054d\u0587\u0561\u0576"}},{key:"Vardenis",label:{en:"Vardenis",ru:"\u0412\u0430\u0440\u0434\u0435\u043d\u0438\u0441",hy:"\u054e\u0561\u0580\u0564\u0565\u0576\u056b\u057d"}},{key:"Martuni",label:{en:"Martuni",ru:"\u041c\u0430\u0440\u0442\u0443\u043d\u0438",hy:"\u0544\u0561\u0580\u057f\u0578\u0582\u0576\u056b"}},{key:"Chambarak",label:{en:"Chambarak",ru:"\u0427\u0430\u043c\u0431\u0430\u0440\u0430\u043a",hy:"\u0549\u0561\u0574\u0562\u0561\u0580\u0561\u056f"}}]},Lori:{label:{en:"Lori",ru:"\u041b\u043e\u0440\u0438",hy:"\u053c\u0578\u057c\u056b"},towns:[{key:"Vanadzor",label:{en:"Vanadzor",ru:"\u0412\u0430\u043d\u0430\u0434\u0437\u043e\u0440",hy:"\u054e\u0561\u0576\u0561\u0571\u0578\u0580"}},{key:"Alaverdi",label:{en:"Alaverdi",ru:"\u0410\u043b\u0430\u0432\u0435\u0440\u0434\u0438",hy:"\u0531\u056c\u0561\u057e\u0565\u0580\u0564\u056b"}},{key:"Stepanavan",label:{en:"Stepanavan",ru:"\u0421\u0442\u0435\u043f\u0430\u043d\u0430\u0432\u0430\u043d",hy:"\u054d\u057f\u0565\u0583\u0561\u0576\u0561\u057e\u0561\u0576"}},{key:"Spitak",label:{en:"Spitak",ru:"\u0421\u043f\u0438\u0442\u0430\u043a",hy:"\u054d\u057a\u056b\u057f\u0561\u056f"}},{key:"Tashir",label:{en:"Tashir",ru:"\u0422\u0430\u0448\u0438\u0440",hy:"\u054f\u0561\u0577\u056b\u0580"}}]},Kotayk:{label:{en:"Kotayk",ru:"\u041a\u043e\u0442\u0430\u0439\u043a",hy:"\u053f\u0578\u057f\u0561\u0575\u0584"},towns:[{key:"Abovyan",label:{en:"Abovyan",ru:"\u0410\u0431\u043e\u0432\u044f\u043d",hy:"\u0531\u0562\u0578\u057e\u0575\u0561\u0576"}},{key:"Hrazdan",label:{en:"Hrazdan",ru:"\u0420\u0430\u0437\u0434\u0430\u043d",hy:"\u0540\u0580\u0561\u0566\u0564\u0561\u0576"}},{key:"Charentsavan",label:{en:"Charentsavan",ru:"\u0427\u0430\u0440\u0435\u043d\u0446\u0430\u0432\u0430\u043d",hy:"\u0549\u0561\u0580\u0565\u0576\u0581\u0561\u057e\u0561\u0576"}},{key:"Byureghavan",label:{en:"Byureghavan",ru:"\u0411\u044e\u0440\u0435\u0433\u0430\u0432\u0430\u043d",hy:"\u0532\u0575\u0578\u0582\u0580\u0565\u0572\u0561\u057e\u0561\u0576"}},{key:"Tsaghkadzor",label:{en:"Tsaghkadzor",ru:"\u0426\u0430\u0445\u043a\u0430\u0434\u0437\u043e\u0440",hy:"\u053e\u0561\u0572\u056f\u0561\u0571\u0578\u0580"}}]},Shirak:{label:{en:"Shirak",ru:"\u0547\u0438\u0440\u0430\u043a",hy:"\u0547\u056b\u0580\u0561\u056f"},towns:[{key:"Gyumri",label:{en:"Gyumri",ru:"\u0413\u044e\u043c\u0440\u0438",hy:"\u0533\u0575\u0578\u0582\u0574\u0580\u056b"}},{key:"Artik",label:{en:"Artik",ru:"\u0410\u0440\u0442\u0438\u043a",hy:"\u0531\u0580\u0569\u056b\u056f"}},{key:"Akhuryan",label:{en:"Akhuryan",ru:"\u0410\u0445\u0443\u0440\u044f\u043d",hy:"\u0531\u056d\u0578\u0582\u0580\u0575\u0561\u0576"}},{key:"Maralik",label:{en:"Maralik",ru:"\u041c\u0430\u0440\u0430\u043b\u0438\u043a",hy:"\u0544\u0561\u0580\u0561\u056c\u056b\u056f"}}]},Syunik:{label:{en:"Syunik",ru:"\u0421\u044e\u043d\u0438\u043a",hy:"\u054d\u0575\u0578\u0582\u0576\u056b\u0584"},towns:[{key:"Kapan",label:{en:"Kapan",ru:"\u041a\u0430\u043f\u0430\u043d",hy:"\u053f\u0561\u057a\u0561\u0576"}},{key:"Goris",label:{en:"Goris",ru:"\u0413\u043e\u0440\u0438\u0441",hy:"\u0533\u0578\u0580\u056b\u057d"}},{key:"Sisian",label:{en:"Sisian",ru:"\u0421\u0438\u0441\u0438\u0430\u043d",hy:"\u054d\u056b\u057d\u056b\u0561\u0576"}},{key:"Meghri",label:{en:"Meghri",ru:"\u041c\u0435\u0433\u0440\u0438",hy:"\u0544\u0565\u0572\u0580\u056b"}},{key:"Agarak",label:{en:"Agarak",ru:"\u0410\u0433\u0430\u0440\u0430\u043a",hy:"\u0531\u0563\u0561\u0580\u0561\u056f"}}]},VayotsDzor:{label:{en:"Vayots Dzor",ru:"\u0412\u0430\u0439\u043e\u0446 \u0414\u0437\u043e\u0440",hy:"\u054e\u0561\u0575\u0578\u0581 \u0571\u0578\u0580"},towns:[{key:"Yeghegnadzor",label:{en:"Yeghegnadzor",ru:"\u0415\u0445\u0435\u0433\u043d\u0430\u0434\u0437\u043e\u0440",hy:"\u0535\u0572\u0565\u0563\u0576\u0561\u0571\u0578\u0580"}},{key:"Vayk",label:{en:"Vayk",ru:"\u0412\u0430\u0439\u043a",hy:"\u054e\u0561\u0575\u0584"}},{key:"Jermuk",label:{en:"Jermuk",ru:"\u0414\u0436\u0435\u0440\u043c\u0443\u043a",hy:"\u054b\u0565\u0580\u0574\u0578\u0582\u056f"}}]},Tavush:{label:{en:"Tavush",ru:"\u0422\u0430\u0432\u0443\u0448",hy:"\u054f\u0561\u057e\u0578\u0582\u0577"},towns:[{key:"Ijevan",label:{en:"Ijevan",ru:"\u0418\u0434\u0436\u0435\u0432\u0430\u043d",hy:"\u053b\u057b\u0587\u0561\u0576"}},{key:"Dilijan",label:{en:"Dilijan",ru:"\u0414\u0438\u043b\u0438\u0436\u0430\u043d",hy:"\u0534\u056b\u056c\u056b\u057b\u0561\u0576"}},{key:"Berd",label:{en:"Berd",ru:"\u0411\u0435\u0440\u0434",hy:"\u0532\u0565\u0580\u0564"}},{key:"Noyemberyan",label:{en:"Noyemberyan",ru:"\u041d\u043e\u0435\u043c\u0431\u0435\u0440\u044f\u043d",hy:"\u0546\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u0575\u0561\u0576"}}]}},PE=Object.keys(AE),IE=(e,t)=>{var n,r;return(null===(n=AE[e])||void 0===n||null===(r=n.label)||void 0===r?void 0:r[t])||e},LE={en:{heroTitle:"Search Your Next Home",heroSubtitle:"",forRent:"For Rent",forSale:"For Sale",propertyLabel:"Search",keywordsPlaceholder:"Search...",regionLabel:"Region",districtsLabel:"Districts",townsLabel:"Towns/Villages",propertyType:"Property Type",apartment:"Apartment",house:"House",villa:"Commercial Space",land:"Land",dealType:"Deal Type",advanceFilter:"Advance Filter",searchBtn:"Search Property",callUs:"\ud83d\udcde Call Us:",openTelegram:"Open Telegram Chat",statsTitle:"Our Statistics",housesSold:"Houses Sold",homesRented:"Homes Rented",happyClients:"Happy Clients",managedProperties:"Managed Properties",clear:"Clear",apply:"OK"},ru:{heroTitle:"\u041d\u0430\u0439\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u043d\u043e\u0432\u044b\u0439 \u0434\u043e\u043c",heroSubtitle:"",forRent:"\u0410\u0440\u0435\u043d\u0434\u0430",forSale:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430",propertyLabel:"\u041f\u043e\u0438\u0441\u043a",keywordsPlaceholder:"\u0418\u0441\u043a\u0430\u0442\u044c...",regionLabel:"\u041e\u0431\u043b\u0430\u0441\u0442\u044c",districtsLabel:"\u0420\u0430\u0439\u043e\u043d\u044b",townsLabel:"\u0413\u043e\u0440\u043e\u0434\u0430/\u0441\u0451\u043b\u0430",propertyType:"\u0422\u0438\u043f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438",apartment:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",house:"\u0414\u043e\u043c",villa:"\u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0435",land:"\u0417\u0435\u043c\u043b\u044f",dealType:"\u0422\u0438\u043f \u0441\u0434\u0435\u043b\u043a\u0438",advanceFilter:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0439 \u0444\u0438\u043b\u044c\u0442\u0440",searchBtn:"\u0418\u0441\u043a\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u044b",callUs:"\ud83d\udcde \u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u0435 \u043d\u0430\u043c:",openTelegram:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0447\u0430\u0442 \u0432 Telegram",statsTitle:"\u041d\u0430\u0448\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",housesSold:"\u041f\u0440\u043e\u0434\u0430\u043d\u043e \u0434\u043e\u043c\u043e\u0432",homesRented:"\u0421\u0434\u0430\u043d\u043e \u0432 \u0430\u0440\u0435\u043d\u0434\u0443",happyClients:"\u0414\u043e\u0432\u043e\u043b\u044c\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b",managedProperties:"\u041e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0438",clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",apply:"\u041e\u041a"},hy:{heroTitle:"\u0533\u057f\u0565\u055b\u0584 \u0541\u0565\u0580 \u0570\u0561\u057b\u0578\u0580\u0564 \u057f\u0578\u0582\u0576\u0568",heroSubtitle:"",forRent:"\u054e\u0561\u0580\u0571\u0578\u057e",forSale:"\u054e\u0561\u0573\u0561\u057c\u0584",propertyLabel:"\u0548\u0580\u0578\u0576\u0578\u0582\u0574",keywordsPlaceholder:"\u0548\u0580\u0578\u0576\u0565\u056c...",regionLabel:"\u0544\u0561\u0580\u0566",districtsLabel:"\u054e\u0561\u0580\u0579\u0561\u056f\u0561\u0576 \u0577\u0580\u057b\u0561\u0576\u0576\u0565\u0580",townsLabel:"\u0554\u0561\u0572\u0561\u0584\u0576\u0565\u0580/\u0563\u0575\u0578\u0582\u0572\u0565\u0580",propertyType:"\u0533\u0578\u0582\u0575\u0584\u056b \u057f\u0565\u057d\u0561\u056f",apartment:"\u0532\u0576\u0561\u056f\u0561\u0580\u0561\u0576",house:"\u054f\u0578\u0582\u0576",villa:"\u053f\u0578\u0574\u0565\u0580\u0581\u056b\u0578\u0576 \u057f\u0561\u0580\u0561\u056e\u0584",land:"\u0540\u0578\u0572",dealType:"\u0533\u0578\u0580\u056e\u0561\u0580\u0584\u056b \u057f\u0565\u057d\u0561\u056f",advanceFilter:"\u053c\u0580\u0561\u0581\u0578\u0582\u0581\u056b\u0579 \u0586\u056b\u056c\u057f\u0580",searchBtn:"\u0553\u0576\u057f\u0580\u0565\u056c \u0563\u0578\u0582\u0575\u0584",callUs:"\ud83d\udcde \u0536\u0561\u0576\u0563\u0561\u0570\u0561\u0580\u0565\u0584 \u0574\u0565\u0566\u055d",openTelegram:"\u0532\u0561\u0581\u0565\u056c Telegram \u0579\u0561\u057f\u0568",statsTitle:"\u0544\u0565\u0580 \u057e\u056b\u0573\u0561\u056f\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0568",housesSold:"\u054e\u0561\u0573\u0561\u057c\u057e\u0561\u056e \u057f\u0576\u0565\u0580",homesRented:"\u054f\u0580\u057e\u0561\u056e \u057e\u0561\u0580\u0571\u0578\u057e",happyClients:"\u0533\u0578\u0570 \u0570\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u0576\u0565\u0580",managedProperties:"\u053f\u0561\u057c\u0561\u057e\u0561\u0580\u057e\u0578\u0572 \u0563\u0578\u0582\u0575\u0584\u0565\u0580",clear:"\u0544\u0561\u0584\u0580\u0565\u056c",apply:"\u053c\u0561\u057e"}},NE=vi.div(QS||(QS=t(["\n  height: 100vh;\n  color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  padding: 0 20px;\n  position: relative;\n\n  ","\n"])),e=>{let{$withBackground:n}=e;return n&&pi(YS||(YS=t(["\n    background-image: url('https://images.unsplash.com/photo-1501183638710-841dd1904471');\n    background-size: cover;\n    background-position: center;\n\n    &::before {\n      content: '';\n      position: absolute;\n      inset: 0;\n      background-color: rgba(0, 0, 0, 0.5);\n      z-index: 0;\n    }\n\n    > * { position: relative; z-index: 1; }\n  "])))}),OE=vi.div(XS||(XS=t(['\n  display: flex;\n  gap: 30px;\n  margin-top: 20px;\n  font-weight: bold;\n\n  span {\n    cursor: pointer;\n    color: white;\n    position: relative;\n    padding-bottom: 4px;\n    transition: color 0.3s;\n\n    &.active { color: #f0ae00; }\n    &.active::after {\n      content: "";\n      position: absolute;\n      bottom: -4px; left: 0;\n      width: 100%; height: 2px;\n      background-color: #f0ae00;\n    }\n  }\n']))),jE=vi.div(JS||(JS=t(["\n  background: white;\n  padding: 20px;\n  border-radius: 10px;\n  display: flex;\n  align-items: flex-start;\n  gap: 12px; /* \u0431\u044b\u043b\u043e 15px \u2014 \u0447\u0443\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u0435\u0435 */\n  box-shadow: 0 4px 10px rgba(0,0,0,0.1);\n  width: min(1100px, calc(100% - 48px));\n  margin: 20px auto 0;\n\n  /* \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u044c (\u0434\u043b\u044f \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0445/\u0443\u0437\u043a\u0438\u0445) */\n  flex-wrap: wrap;\n\n  /* \u043d\u0430 \u0434\u0435\u0441\u043a\u0442\u043e\u043f\u0435 \u2014 \u0412\u0421\u0401 \u0432 \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u043a\u0443 */\n  @media (min-width: 1024px){\n    flex-wrap: nowrap;\n  }\n\n  justify-content: center;\n  position: relative;\n  z-index: 1;\n"]))),RE=vi.div(eE||(eE=t(["\n  display: flex;\n  flex-direction: column;\n  position: relative; /* \u0434\u043b\u044f dropdown */\n  min-width: 140px;   /* \u0431\u044b\u043b\u043e 180px */\n  flex: 1 1 140px;    /* \u043c\u043e\u0436\u043d\u043e \u0443\u0436\u0438\u043c\u0430\u0442\u044c\u0441\u044f/\u0440\u0430\u0441\u0442\u0438 \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 \u0441\u0442\u0440\u043e\u043a\u0438 */\n"]))),ME=vi.label(tE||(tE=t(["\n  color: #8E90A6; font-size: 12px; margin-bottom: 4px;\n"]))),DE=vi.input(nE||(nE=t(["\n  border: none; outline: none; padding: 8px 12px; background: #fff; color: #1A3D4D; font-size: 14px;\n"]))),zE=vi.select(rE||(rE=t(["\n  border: none; outline: none; padding: 8px 12px; background: #fff; color: #1A3D4D; font-size: 14px;\n"]))),FE=vi(RE)(iE||(iE=t(["\n  flex: 0 0 auto;          /* \u043d\u0435 \u0440\u0430\u0441\u0442\u044f\u0433\u0438\u0432\u0430\u0442\u044c, \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u044b\u043c */\n  justify-content: flex-start;\n"]))),BE=vi(ME)(oE||(oE=t([" visibility: hidden; "]))),UE=vi.div(aE||(aE=t([" display: flex; flex-direction: column; gap: 10px; margin-top: 8px; "]))),VE=vi.label(sE||(sE=t(["\n  display: flex; align-items: center; gap: 12px; font-size: 16px; font-weight: 500; color: #555; cursor: pointer;\n  input[type=\"checkbox\"]{\n    width:20px;height:20px;appearance:none;border:2px solid #ccc;border-radius:2px;background:#fff;position:relative;transition:.2s;\n    &:checked{background:#f0ae00;border-color:#f0ae00;}\n    &:checked::after{content:'';position:absolute;top:3px;left:6px;width:5px;height:10px;border:solid #fff;border-width:0 2px 2px 0;transform:rotate(45deg);}\n  }\n"]))),HE=vi.button(lE||(lE=t(["\n  display:flex; align-items:center; border:none; background:none; color:#1A3D4D;\n  font-size:14px; cursor:pointer; padding:8px 12px; white-space:nowrap;\n"]))),qE=vi.button(cE||(cE=t(["\n  padding:10px 20px; background:#f0ae00; color:#fff; border:none; border-radius:4px; font-weight:bold; white-space:nowrap;\n"]))),WE=vi.div(uE||(uE=t(["\n  max-height: ",";\n  opacity: ",";\n  overflow: hidden;\n  transition: max-height .6s ease, opacity .4s ease;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: 768px){ display:none; }\n"])),e=>{let{$visible:t}=e;return t?"1500px":"0"},e=>{let{$visible:t}=e;return t?"1":"0"}),KE=vi.div(hE||(hE=t(["\n  width: 100%;\n  max-width: 760px; /* \u0431\u044b\u043b\u043e 1100px */\n  padding: 8px 0 0;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),ZE=vi.div(dE||(dE=t(["\n  display: flex;\n  justify-content: flex-end;\n"]))),GE=vi.button(fE||(fE=t(["\n  padding: 6px 10px;\n  background: #f3f4f6;\n  border: 1px solid #e5e7eb;\n  color: #111;\n  border-radius: 6px;\n  cursor: pointer;\n"]))),$E=vi.div(pE||(pE=t(["\n  display:none;\n  @media (max-width:768px){\n    display:",";\n    position:fixed; inset:0; background:transparent; z-index:9;\n  }\n"])),e=>{let{$open:t}=e;return t?"block":"none"}),QE=vi.div(mE||(mE=t(["\n  display:none;\n\n  @media (max-width:768px){\n    display:",";\n    position:fixed; left:0; right:0; bottom:0;\n    width:100%;\n    max-height:72vh;\n    background:#fff;\n    z-index:10;\n    border-radius:16px 16px 0 0;\n    box-shadow: 0 -8px 24px rgba(0,0,0,.15);\n    padding:12px 16px max(16px, env(safe-area-inset-bottom));\n    overflow-y:auto;\n    overscroll-behavior: contain;\n    -webkit-overflow-scrolling: touch;\n    flex-direction:column;\n  }\n"])),e=>{let{$open:t}=e;return t?"flex":"none"}),YE=vi.div(gE||(gE=t(["\n  width:44px; height:4px; border-radius:2px; background:#E5E7EB; margin:4px auto 10px;\n"]))),XE=vi.div(vE||(vE=t(["\n  display:flex; gap:12px; margin-top:12px;\n  button{ flex:1; }\n"]))),JE=vi.button(yE||(yE=t(["\n  display:flex; align-items:center; justify-content:space-between;\n  padding:8px 12px; background:#fff; color:#1A3D4D; font-size:14px;\n  border:none; outline:none; cursor:pointer;\n  min-width:140px;            /* \u0431\u044b\u043b\u043e 180px */\n  border-radius:4px;\n  box-shadow: inset 0 0 0 1px rgba(0,0,0,.08);\n  &:after{ content:'\u25be'; margin-left:12px; opacity:.7; }\n"]))),ek=vi.div(bE||(bE=t(["\n  position:absolute; top: calc(100% + 6px); left: 0;\n  width: min(360px, 90vw);\n  max-height: 260px;\n  background:#fff; border-radius:8px;\n  box-shadow: 0 12px 28px rgba(0,0,0,.12), 0 2px 6px rgba(0,0,0,.08);\n  padding:10px;\n  overflow:auto;\n  z-index: 20;\n"]))),tk=vi.div(_E||(_E=t(["\n  display:flex; gap:8px; margin-top:8px;\n  button{ flex:1; padding:8px 10px; border-radius:6px; cursor:pointer; }\n  .apply{ background:#f0ae00; color:#fff; border:none; }\n  .clear{ background:#f3f4f6; border:1px solid #e5e7eb; color:#111; }\n"]))),nk=vi.section(wE||(wE=t([" max-width:1100px; margin:40px auto 0; padding:0 20px; "]))),rk=vi.h3(xE||(xE=t([" text-align:center; color:#1A3D4D; font-size:28px; margin:0 0 16px; "]))),ik=vi.div(SE||(SE=t(["\n  display:grid; grid-template-columns:repeat(4, minmax(160px,1fr)); gap:16px;\n  @media (max-width:900px){ grid-template-columns:repeat(2,1fr); }\n  @media (max-width:520px){ grid-template-columns:1fr; }\n"]))),ok=vi.div(EE||(EE=t([" background:#f0f4f7; border-radius:10px; padding:20px; text-align:center; "]))),ak=vi.div(kE||(kE=t([" font-size:32px; font-weight:800; color:#f0ae00; margin-bottom:8px; "]))),sk=vi.div(CE||(CE=t([" font-size:16px; color:#1A3D4D; "]))),lk=vi.div(TE||(TE=t(["\n  background:#f9f9f9; padding:30px; text-align:center; margin-top:40px; font-size:16px; color:#1A3D4D;\n  h3{ margin-bottom:10px; white-space: nowrap; }\n  a{ color:#f0ae00; text-decoration:none; font-weight:bold; }\n  @media (max-width:420px){ h3{ font-size:18px; } }\n"]))),ck=e=>{var t;let{propertiesRef:n}=e;const{propertiesRef:i}=null!==(t=r.useContext(ge))&&void 0!==t?t:{},o=n||i,[a,s]=(0,r.useState)("sale"),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)([]),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(!1),y=(0,r.useRef)(null),b=(0,r.useRef)(null),[_,w]=(0,r.useState)(document.documentElement.lang||localStorage.getItem("lang")||"hy");(0,r.useEffect)(()=>{const e=document.documentElement,t=new MutationObserver(t=>{for(const n of t)"attributes"===n.type&&"lang"===n.attributeName&&w(e.lang||"hy")});return t.observe(e,{attributes:!0}),e.lang||(e.lang=localStorage.getItem("lang")||"hy"),()=>t.disconnect()},[]),(0,r.useEffect)(()=>{const e=()=>{const e=localStorage.getItem("lang")||"hy";e!==_&&w(e)};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[_]);const x=(0,r.useMemo)(()=>LE[_]||LE.hy,[_]);(0,r.useEffect)(()=>{if(window.matchMedia("(max-width: 768px)").matches&&l){const e=document.body.style.overflow;document.body.dataset.prevOverflow=e||"",document.body.style.overflow="hidden"}else document.body.style.overflow=document.body.dataset.prevOverflow||"";return()=>{document.body.style.overflow=document.body.dataset.prevOverflow||""}},[l]),(0,r.useEffect)(()=>{const e=e=>{l&&(window.matchMedia("(max-width:768px)").matches||b.current&&!b.current.contains(e.target)&&c(!1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&c(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);const S=(0,r.useMemo)(()=>{var e;if(!u)return[];const t=(null===(e=AE[u])||void 0===e?void 0:e.towns)||[];return t.length?"string"===typeof t[0]?t.map(e=>({key:e,label:e})):t.map(e=>{var t;return{key:e.key,label:(null===(t=e.label)||void 0===t?void 0:t[_])||e.key}}):[]},[u,_]),E=(0,r.useMemo)(()=>{if(!u)return"";if(!d.length)return"Yerevan"===u?x.districtsLabel:x.townsLabel;const e=d.map(e=>((e,t,n)=>{var r,i;const o=(null===(r=AE[e])||void 0===r?void 0:r.towns)||[];if(!o.length)return t;if("string"===typeof o[0])return t;const a=o.find(e=>e.key===t);return(null===a||void 0===a||null===(i=a.label)||void 0===i?void 0:i[n])||t})(u,e,_));return e.length<=2?e.join(", "):"".concat(e.slice(0,2).join(", ")," +").concat(e.length-2)},[u,d,_,x]),k=()=>{null!==o&&void 0!==o&&o.current&&o.current.scrollIntoView({behavior:"smooth",block:"start"})};return(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsxs)(NE,{$withBackground:!0,children:[(0,xa.jsx)("h1",{children:x.heroTitle}),x.heroSubtitle&&(0,xa.jsx)("p",{children:x.heroSubtitle}),(0,xa.jsxs)(OE,{children:[(0,xa.jsx)("span",{className:"sale"===a?"active":"",onClick:()=>s("sale"),children:x.forSale}),(0,xa.jsx)("span",{className:"rent"===a?"active":"",onClick:()=>s("rent"),children:x.forRent})]}),(0,xa.jsxs)("div",{ref:b,style:{width:"100%"},children:[(0,xa.jsxs)(jE,{children:[(0,xa.jsxs)(RE,{children:[(0,xa.jsx)(ME,{children:x.propertyLabel}),(0,xa.jsx)(DE,{placeholder:x.keywordsPlaceholder,value:p,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&k()}})]}),(0,xa.jsxs)(RE,{children:[(0,xa.jsx)(ME,{children:x.regionLabel}),(0,xa.jsxs)(zE,{value:u,onChange:e=>{h(e.target.value),f([]),v(!1)},children:[(0,xa.jsx)("option",{value:"",children:x.regionLabel}),PE.map(e=>(0,xa.jsx)("option",{value:e,children:IE(e,_)},e))]})]}),u&&(0,xa.jsxs)(RE,{ref:y,children:[(0,xa.jsx)(ME,{children:"Yerevan"===u?x.districtsLabel:x.townsLabel}),(0,xa.jsx)(JE,{type:"button",onClick:()=>v(e=>!e),children:(0,xa.jsx)("span",{children:E})}),g&&(0,xa.jsxs)(ek,{children:[(0,xa.jsx)("div",{style:{fontSize:12,color:"#8E90A6",margin:"0 0 6px"},children:"Yerevan"===u?x.districtsLabel:x.townsLabel}),(0,xa.jsx)(UE,{style:{marginTop:0},children:S.map(e=>{let{key:t,label:n}=e;return(0,xa.jsxs)(VE,{children:[(0,xa.jsx)("input",{type:"checkbox",checked:d.includes(t),onChange:()=>{return e=t,void f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e}}),n]},t)})}),(0,xa.jsxs)(tk,{children:[(0,xa.jsx)("button",{type:"button",className:"clear",onClick:()=>f([]),children:x.clear}),(0,xa.jsx)("button",{type:"button",className:"apply",onClick:()=>v(!1),children:x.apply})]})]})]}),(0,xa.jsxs)(RE,{children:[(0,xa.jsx)(ME,{children:x.propertyType}),(0,xa.jsxs)(zE,{children:[(0,xa.jsx)("option",{children:x.apartment}),(0,xa.jsx)("option",{children:x.house}),(0,xa.jsx)("option",{children:x.villa}),(0,xa.jsx)("option",{children:x.land})]})]}),(0,xa.jsxs)(RE,{children:[(0,xa.jsx)(ME,{children:x.dealType}),(0,xa.jsxs)(zE,{value:a,onChange:e=>s(e.target.value),children:[(0,xa.jsx)("option",{value:"sale",children:x.forSale}),(0,xa.jsx)("option",{value:"rent",children:x.forRent})]})]}),(0,xa.jsxs)(FE,{children:[(0,xa.jsx)(BE,{children:"_"}),(0,xa.jsxs)(HE,{onClick:()=>c(e=>!e),"aria-expanded":l,"aria-controls":"desktop-advanced-filters",children:["\u2630\xa0",x.advanceFilter]})]}),(0,xa.jsxs)(FE,{children:[(0,xa.jsx)(BE,{children:"_"}),(0,xa.jsx)(qE,{onClick:k,children:x.searchBtn})]})]}),(0,xa.jsx)(WE,{$visible:l,id:"desktop-advanced-filters",children:(0,xa.jsxs)(KE,{children:[(0,xa.jsx)(ZE,{children:(0,xa.jsx)(GE,{type:"button",onClick:()=>c(!1),children:"\u2715 Close"})}),(0,xa.jsx)($S,{})]})})]}),(0,xa.jsx)($E,{$open:l,onClick:()=>c(!1)}),(0,xa.jsxs)(QE,{$open:l,onClick:e=>e.stopPropagation(),children:[(0,xa.jsx)(YE,{}),(0,xa.jsx)($S,{}),(0,xa.jsxs)(XE,{children:[(0,xa.jsx)(qE,{onClick:()=>{c(!1),k()},children:x.searchBtn}),(0,xa.jsx)("button",{style:{border:"1px solid #e5e7eb",background:"#fff",color:"#1A3D4D",borderRadius:4,fontWeight:600},onClick:()=>c(!1),children:"Close"})]})]})]}),(0,xa.jsx)("div",{id:"properties","data-scroll":"properties",ref:o,style:{scrollMarginTop:"120px"},children:(0,xa.jsx)(Dx,{filterText:p})}),(0,xa.jsxs)(nk,{children:[(0,xa.jsx)(rk,{children:x.statsTitle}),(0,xa.jsxs)(ik,{children:[(0,xa.jsxs)(ok,{children:[(0,xa.jsx)(ak,{children:"320+"}),(0,xa.jsx)(sk,{children:x.housesSold})]}),(0,xa.jsxs)(ok,{children:[(0,xa.jsx)(ak,{children:"210+"}),(0,xa.jsx)(sk,{children:x.homesRented})]}),(0,xa.jsxs)(ok,{children:[(0,xa.jsx)(ak,{children:"500+"}),(0,xa.jsx)(sk,{children:x.happyClients})]}),(0,xa.jsxs)(ok,{children:[(0,xa.jsx)(ak,{children:"75+"}),(0,xa.jsx)(sk,{children:x.managedProperties})]})]})]}),(0,xa.jsxs)(lk,{children:[(0,xa.jsxs)("h3",{children:[x.callUs," +374 94444940"]}),(0,xa.jsxs)("p",{children:["\ud83d\udcac Live Chat: ",(0,xa.jsx)("a",{href:"https://t.me/your_support_bot",target:"_blank",rel:"noopener noreferrer",children:x.openTelegram})]})]})]})};var uk,hk,dk,fk,pk,mk,gk,vk,yk;const bk=vi.div(uk||(uk=t(["\n  max-width: 900px;\n  margin: 80px auto;\n  padding: 40px 20px;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n  line-height: 1.6;\n  color: #333;\n"]))),_k=vi.div(hk||(hk=t(["\n  margin-bottom: 32px;\n"]))),wk=vi.h2(dk||(dk=t(["\n  font-size: 28px;\n  margin-bottom: 16px;\n  color: #1A3D4D;\n"]))),xk=vi.h3(fk||(fk=t(["\n  font-size: 22px;\n  margin-bottom: 12px;\n  color: #1A3D4D;\n"]))),Sk=vi.ul(pk||(pk=t(['\n  list-style: none;\n  padding-left: 0;\n  margin-top: 12px;\n\n  li {\n    margin-bottom: 8px;\n    &:before { content: "\u2705 "; }\n  }\n']))),Ek=vi.div(mk||(mk=t(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 20px;\n  margin-top: 20px;\n"]))),kk=vi.div(gk||(gk=t(["\n  flex: 1;\n  min-width: 180px;\n  background: #f0f4f7;\n  padding: 20px;\n  border-radius: 10px;\n  text-align: center;\n"]))),Ck=vi.div(vk||(vk=t(["\n  font-size: 32px;\n  font-weight: bold;\n  color: #f0ae00;\n  margin-bottom: 8px;\n"]))),Tk=vi.div(yk||(yk=t(["\n  font-size: 16px;\n  color: #1A3D4D;\n"]))),Ak={en:{title:"About Us",intro:"At Residence, we believe that finding the perfect home is more than a transaction \u2014 it's a life-changing experience. Since our foundation, we have been committed to redefining the way people approach real estate by combining personalized service, deep market expertise, and innovative solutions tailored to every client\u2019s needs.",whoTitle:"Who We Are",who:"Residence is a full-service real estate company specializing in residential and commercial properties, offering buying, selling, and rental services as well as investment consulting and legal assistance. With a handpicked team of experienced agents, legal experts, and customer care specialists, we guide our clients through every step of their real estate journey with clarity and confidence.",visionTitle:"Our Vision",vision:"To become the most trusted name in real estate by delivering unmatched quality, transparency, and a human-centered approach \u2014 making every real estate experience effortless and empowering.",missionTitle:"Our Mission",missionPoints:["To help individuals and families find not just a property, but a place to belong.","To support investors and developers with accurate data, market insights, and professional guidance.","To uphold the highest ethical standards in all our transactions and communications."],offerTitle:"What We Offer",offerList:["Extensive portfolio of verified properties","Customized property search based on your goals","End-to-end legal and administrative support","Assistance with mortgage and financing","After-sales services and property management options"],whyTitle:"Why Choose Residence?",whyP1:"We go beyond traditional real estate practices. At Residence, you\u2019re not just a client \u2014 you're a partner. Whether you're buying your first apartment, relocating, investing in rental property, or selling a family home, we take the time to understand your story and provide expert solutions tailored to your future.",whyP2:"With a reputation built on trust, integrity, and results, Residence has become a go-to name for individuals and businesses seeking a seamless and rewarding real estate experience.",statsTitle:"Our Statistics",statSold:"Houses Sold",statRented:"Homes Rented",statHappy:"Happy Clients",statManaged:"Managed Properties"},ru:{title:"\u041e \u043d\u0430\u0441",intro:"\u0412 Residence \u043c\u044b \u0441\u0447\u0438\u0442\u0430\u0435\u043c, \u0447\u0442\u043e \u043f\u043e\u0438\u0441\u043a \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0430 \u2014 \u044d\u0442\u043e \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0441\u0434\u0435\u043b\u043a\u0430; \u044d\u0442\u043e \u043e\u043f\u044b\u0442, \u043c\u0435\u043d\u044f\u044e\u0449\u0438\u0439 \u0436\u0438\u0437\u043d\u044c. \u0421 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u043c\u044b \u0441\u0442\u0440\u0435\u043c\u0438\u043c\u0441\u044f \u043f\u0435\u0440\u0435\u043e\u0441\u043c\u044b\u0441\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u0445\u043e\u0434 \u043a \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u0441\u043e\u0447\u0435\u0442\u0430\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441, \u0433\u043b\u0443\u0431\u043e\u043a\u0443\u044e \u044d\u043a\u0441\u043f\u0435\u0440\u0442\u0438\u0437\u0443 \u0440\u044b\u043d\u043a\u0430 \u0438 \u0438\u043d\u043d\u043e\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u044f, \u0430\u0434\u0430\u043f\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u0434 \u043f\u043e\u0442\u0440\u0435\u0431\u043d\u043e\u0441\u0442\u0438 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430.",whoTitle:"\u041a\u0442\u043e \u043c\u044b",who:"Residence \u2014 \u0430\u0433\u0435\u043d\u0442\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430, \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044e\u0449\u0435\u0435\u0441\u044f \u043d\u0430 \u0436\u0438\u043b\u043e\u0439 \u0438 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0439 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438. \u041c\u044b \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u0443\u0441\u043b\u0443\u0433\u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0438, \u043f\u0440\u043e\u0434\u0430\u0436\u0438 \u0438 \u0430\u0440\u0435\u043d\u0434\u044b, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435. \u0421 \u043e\u0442\u043e\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 \u043e\u043f\u044b\u0442\u043d\u044b\u0445 \u0430\u0433\u0435\u043d\u0442\u043e\u0432, \u044e\u0440\u0438\u0441\u0442\u043e\u0432 \u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u043e\u0432 \u043f\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u043c\u0443 \u0441\u0435\u0440\u0432\u0438\u0441\u0443 \u043c\u044b \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0430\u0435\u043c \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u043a\u0430\u0436\u0434\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u0438\u0445 \u043f\u0443\u0442\u0438 \u0441 \u044f\u0441\u043d\u043e\u0441\u0442\u044c\u044e \u0438 \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u044c\u044e.",visionTitle:"\u041d\u0430\u0448\u0435 \u0432\u0438\u0434\u0435\u043d\u0438\u0435",vision:"\u0421\u0442\u0430\u0442\u044c \u0441\u0430\u043c\u044b\u043c \u043d\u0430\u0434\u0451\u0436\u043d\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0440\u044b\u043d\u043a\u0435 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044f \u043d\u0435\u043f\u0440\u0435\u0432\u0437\u043e\u0439\u0434\u0451\u043d\u043d\u043e\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e, \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c \u0438 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u043e-\u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u2014 \u0434\u0435\u043b\u0430\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u043e\u043f\u044b\u0442 \u0441 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043f\u0440\u043e\u0441\u0442\u044b\u043c \u0438 \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u043c.",missionTitle:"\u041d\u0430\u0448\u0430 \u043c\u0438\u0441\u0441\u0438\u044f",missionPoints:["\u041f\u043e\u043c\u043e\u0433\u0430\u0442\u044c \u043b\u044e\u0434\u044f\u043c \u0438 \u0441\u0435\u043c\u044c\u044f\u043c \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0431\u044a\u0435\u043a\u0442, \u0430 \u043c\u0435\u0441\u0442\u043e, \u0433\u0434\u0435 \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043e\u043c\u0430.","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0438\u043d\u0432\u0435\u0441\u0442\u043e\u0440\u043e\u0432 \u0438 \u0434\u0435\u0432\u0435\u043b\u043e\u043f\u0435\u0440\u043e\u0432 \u0442\u043e\u0447\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438, \u0440\u044b\u043d\u043e\u0447\u043d\u043e\u0439 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u044f\u043c\u0438.","\u0421\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c \u0432\u044b\u0441\u043e\u0447\u0430\u0439\u0448\u0438\u0435 \u044d\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u044b \u0432\u043e \u0432\u0441\u0435\u0445 \u043d\u0430\u0448\u0438\u0445 \u0441\u0434\u0435\u043b\u043a\u0430\u0445 \u0438 \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u044f\u0445."],offerTitle:"\u0427\u0442\u043e \u043c\u044b \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c",offerList:["\u0411\u043e\u043b\u044c\u0448\u043e\u0435 \u043f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432","\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0434\u0431\u043e\u0440 \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u043e\u0434 \u0432\u0430\u0448\u0438 \u0446\u0435\u043b\u0438","\u041f\u043e\u043b\u043d\u043e\u0435 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0438 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435","\u041f\u043e\u043c\u043e\u0449\u044c \u0441 \u0438\u043f\u043e\u0442\u0435\u043a\u043e\u0439 \u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c","\u041f\u043e\u0441\u043b\u0435\u043f\u0440\u043e\u0434\u0430\u0436\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0438\u0441 \u0438 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c\u044e"],whyTitle:"\u041f\u043e\u0447\u0435\u043c\u0443 \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442 Residence?",whyP1:"\u041c\u044b \u0432\u044b\u0445\u043e\u0434\u0438\u043c \u0437\u0430 \u0440\u0430\u043c\u043a\u0438 \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043f\u0440\u0430\u043a\u0442\u0438\u043a. \u0412 Residence \u0432\u044b \u2014 \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043a\u043b\u0438\u0435\u043d\u0442, \u0432\u044b \u2014 \u043f\u0430\u0440\u0442\u043d\u0451\u0440. \u041f\u043e\u043a\u0443\u043f\u0430\u0435\u0442\u0435 \u043f\u0435\u0440\u0432\u0443\u044e \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0443, \u043f\u0435\u0440\u0435\u0435\u0437\u0436\u0430\u0435\u0442\u0435, \u0438\u043d\u0432\u0435\u0441\u0442\u0438\u0440\u0443\u0435\u0442\u0435 \u0432 \u0430\u0440\u0435\u043d\u0434\u0443 \u0438\u043b\u0438 \u043f\u0440\u043e\u0434\u0430\u0451\u0442\u0435 \u0441\u0435\u043c\u0435\u0439\u043d\u044b\u0439 \u0434\u043e\u043c \u2014 \u043c\u044b \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u043c \u0432\u0430\u0448\u0443 \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0438 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u043c \u0440\u0435\u0448\u0435\u043d\u0438\u044f, \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435.",whyP2:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0440\u0435\u043f\u0443\u0442\u0430\u0446\u0438\u0438, \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043d\u0430 \u0434\u043e\u0432\u0435\u0440\u0438\u0438, \u0447\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u0438 \u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u0445, Residence \u0441\u0442\u0430\u043b \u043d\u0430\u0434\u0451\u0436\u043d\u044b\u043c \u0432\u044b\u0431\u043e\u0440\u043e\u043c \u0434\u043b\u044f \u0447\u0430\u0441\u0442\u043d\u044b\u0445 \u0438 \u043a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u0430\u0436\u0435\u043d \u043a\u043e\u043c\u0444\u043e\u0440\u0442\u043d\u044b\u0439 \u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043e\u043f\u044b\u0442.",statsTitle:"\u041d\u0430\u0448\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",statSold:"\u041f\u0440\u043e\u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u043c\u043e\u0432",statRented:"\u0421\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432",statHappy:"\u0414\u043e\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",statManaged:"\u041e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043f\u043e\u0434 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c"},hy:{title:"\u0544\u0565\u0580 \u0574\u0561\u057d\u056b\u0576",intro:"Residence-\u0578\u0582\u0574 \u057e\u057d\u057f\u0561\u0570 \u0565\u0576\u0584, \u0578\u0580 \u056b\u0564\u0565\u0561\u056c\u0561\u056f\u0561\u0576 \u057f\u0578\u0582\u0576 \u0563\u057f\u0576\u0565\u056c\u0568 \u057a\u0561\u0580\u0566\u0561\u057a\u0565\u057d \u0563\u0578\u0580\u056e\u0561\u0580\u0584 \u0579\u0567\u2024 \u0564\u0561 \u056f\u0575\u0561\u0576\u0584\u056b \u0583\u0578\u0583\u0578\u056d\u0578\u0572 \u0583\u0578\u0580\u0571 \u0567\u0589 \u054d\u056f\u0566\u0562\u056b\u0581 \u056b \u057e\u0565\u0580 \u0574\u0565\u0576\u0584 \u0571\u0563\u057f\u0578\u0582\u0574 \u0565\u0576\u0584 \u057e\u0565\u0580\u0561\u0576\u0561\u0575\u0565\u056c \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584\u056b \u0578\u056c\u0578\u0580\u057f\u056b \u0574\u0578\u057f\u0565\u0581\u0578\u0582\u0574\u0576\u0565\u0580\u0568\u055d \u0570\u0561\u0574\u0561\u0564\u0580\u0565\u056c\u0578\u057e \u0561\u0576\u0570\u0561\u057f\u0561\u056f\u0561\u0576 \u057d\u057a\u0561\u057d\u0561\u0580\u056f\u0578\u0582\u0574, \u0577\u0578\u0582\u056f\u0561\u0575\u056b \u056d\u0578\u0580\u0584\u0561\u0575\u056b\u0576 \u0583\u0578\u0580\u0571\u0561\u0563\u056b\u057f\u0578\u0582\u0569\u0575\u0578\u0582\u0576 \u0587 \u0575\u0578\u0582\u0580\u0561\u0584\u0561\u0576\u0579\u0575\u0578\u0582\u0580 \u0570\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u056b \u056f\u0561\u0580\u056b\u0584\u0576\u0565\u0580\u056b\u0576 \u0570\u0561\u0574\u0561\u057a\u0561\u057f\u0561\u057d\u056d\u0561\u0576 \u0576\u0578\u0580\u0561\u0580\u0561\u0580\u0561\u056f\u0561\u0576 \u056c\u0578\u0582\u056e\u0578\u0582\u0574\u0576\u0565\u0580\u0589",whoTitle:"\u0544\u0565\u0576\u0584 \u0578\u057e \u0565\u0576\u0584",who:"Residence-\u0568 \u0561\u0574\u0562\u0578\u0572\u057b\u0561\u056f\u0561\u0576 \u056e\u0561\u057c\u0561\u0575\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580\u0578\u057e \u0563\u0578\u0580\u056e\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576 \u0567, \u0578\u0580\u0568 \u0574\u0561\u057d\u0576\u0561\u0563\u056b\u057f\u0561\u0576\u0578\u0582\u0574 \u0567 \u0562\u0576\u0561\u056f\u0565\u056c\u056b \u0587 \u0561\u057c\u0565\u0582\u057f\u0580\u0561\u0575\u056b\u0576 \u0563\u0578\u0582\u0575\u0584\u0565\u0580\u0578\u0582\u0574\u0589 \u0544\u0565\u0576\u0584 \u0561\u057c\u0561\u057b\u0561\u0580\u056f\u0578\u0582\u0574 \u0565\u0576\u0584 \u0563\u0576\u0578\u0582\u0574, \u057e\u0561\u0573\u0561\u057c\u0584 \u0587 \u057e\u0561\u0580\u0571\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576, \u056b\u0576\u0579\u057a\u0565\u057d \u0576\u0561\u0587 \u0576\u0565\u0580\u0564\u0580\u0578\u0582\u0574\u0561\u0575\u056b\u0576 \u056d\u0578\u0580\u0570\u0580\u0564\u0561\u057f\u057e\u0578\u0582\u0569\u0575\u0578\u0582\u0576 \u0587 \u056b\u0580\u0561\u057e\u0561\u056f\u0561\u0576 \u0561\u057b\u0561\u056f\u0581\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0589 \u0553\u0578\u0580\u0571\u0561\u057c\u0578\u0582 \u0563\u0578\u0580\u056e\u0561\u056f\u0561\u056c\u0576\u0565\u0580\u056b, \u056b\u0580\u0561\u057e\u0561\u0562\u0561\u0576\u0576\u0565\u0580\u056b \u0587 \u0570\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u0576\u0565\u0580\u056b \u057d\u057a\u0561\u057d\u0561\u0580\u056f\u0574\u0561\u0576 \u0574\u0561\u057d\u0576\u0561\u0563\u0565\u057f\u0576\u0565\u0580\u056b \u0569\u056b\u0574\u0578\u057e \u0574\u0565\u0576\u0584 \u0578\u0582\u0572\u0565\u056f\u0581\u0578\u0582\u0574 \u0565\u0576\u0584 \u0570\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u0576\u0565\u0580\u056b\u0576 \u0561\u0574\u0565\u0576 \u0584\u0561\u0575\u056c\u0578\u0582\u0574\u055d \u057a\u0561\u0580\u0566 \u0578\u0582 \u057e\u057d\u057f\u0561\u0570\u0565\u056c\u056b\u0589",visionTitle:"\u054f\u0565\u057d\u056c\u0561\u056f\u0561\u0576\u0568",vision:"\u0534\u0561\u057c\u0576\u0561\u056c \u0561\u0574\u0565\u0576\u0561\u0570\u0578\u0582\u057d\u0561\u056c\u056b \u0561\u0576\u0578\u0582\u0576\u0568 \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584\u056b \u0578\u056c\u0578\u0580\u057f\u0578\u0582\u0574\u055d \u0561\u057a\u0561\u0570\u0578\u057e\u0565\u056c\u0578\u057e \u0561\u0576\u0566\u056b\u057b\u0578\u0582\u0574 \u0578\u0580\u0561\u056f, \u0569\u0561\u0583\u0561\u0576\u0581\u056b\u056f\u0578\u0582\u0569\u0575\u0578\u0582\u0576 \u0587 \u0574\u0561\u0580\u0564\u0561\u056f\u0565\u0576\u057f\u0580\u0578\u0576 \u0574\u0578\u057f\u0565\u0581\u0578\u0582\u0574\u055d \u0564\u0561\u0580\u0571\u0576\u0565\u056c\u0578\u057e \u0575\u0578\u0582\u0580\u0561\u0584\u0561\u0576\u0579\u0575\u0578\u0582\u0580 \u0583\u0578\u0580\u0571 \u0570\u0576\u0561\u0580\u0561\u057e\u0578\u0580\u056b\u0576\u057d \u0570\u0565\u0577\u057f \u0587 \u057e\u057d\u057f\u0561\u0570\u0565\u056c\u056b\u0589",missionTitle:"\u0531\u057c\u0561\u0584\u0565\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0568",missionPoints:["\u0555\u0563\u0576\u0565\u056c \u0561\u0576\u0570\u0561\u057f\u0576\u0565\u0580\u056b\u0576 \u0587 \u0568\u0576\u057f\u0561\u0576\u056b\u0584\u0576\u0565\u0580\u056b\u0576 \u0563\u057f\u0576\u0565\u056c \u0578\u0579 \u0574\u056b\u0561\u0575\u0576 \u0563\u0578\u0582\u0575\u0584, \u0561\u0575\u056c \u0576\u0561\u0587 \u057f\u0578\u0582\u0576\u0589","\u0531\u057b\u0561\u056f\u0581\u0565\u056c \u0576\u0565\u0580\u0564\u0580\u0578\u0572\u0576\u0565\u0580\u056b\u0576 \u0587 \u0574\u0577\u0561\u056f\u0578\u0572\u0576\u0565\u0580\u056b\u0576 \u0573\u0577\u0563\u0580\u056b\u057f \u057f\u057e\u0575\u0561\u056c\u0576\u0565\u0580\u0578\u057e, \u0577\u0578\u0582\u056f\u0561\u0575\u056b \u057a\u0561\u057f\u056f\u0565\u0580\u0561\u0581\u0578\u0582\u0574\u0576\u0565\u0580\u0578\u057e \u0578\u0582 \u0574\u0561\u057d\u0576\u0561\u0563\u056b\u057f\u0561\u056f\u0561\u0576 \u056d\u0578\u0580\u0570\u0580\u0564\u0561\u057f\u057e\u0578\u0582\u0569\u0575\u0561\u0574\u0562\u0589","\u054a\u0561\u0570\u057a\u0561\u0576\u0565\u056c \u0561\u0574\u0565\u0576\u0561\u0562\u0561\u0580\u0571\u0580 \u0567\u0569\u056b\u056f\u0561\u056f\u0561\u0576 \u0579\u0561\u0583\u0561\u0576\u056b\u0577\u0576\u0565\u0580\u0568 \u0562\u0578\u056c\u0578\u0580 \u0563\u0578\u0580\u056e\u0561\u0580\u0584\u0576\u0565\u0580\u0578\u0582\u0574 \u0587 \u0570\u0561\u0572\u0578\u0580\u0564\u0561\u056f\u0581\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0578\u0582\u0574\u0589"],offerTitle:"\u053b\u0576\u0579 \u0565\u0576\u0584 \u0561\u057c\u0561\u057b\u0561\u0580\u056f\u0578\u0582\u0574",offerList:["\u054d\u057f\u0578\u0582\u0563\u057e\u0561\u056e \u0563\u0578\u0582\u0575\u0584\u0565\u0580\u056b \u056c\u0561\u0575\u0576 \u0568\u0576\u057f\u0580\u0561\u0576\u056b","\u0531\u0576\u0570\u0561\u057f\u0561\u056f\u0561\u0576\u0561\u0581\u057e\u0561\u056e \u0578\u0580\u0578\u0576\u0578\u0582\u0574\u055d \u0571\u0565\u0580 \u0576\u057a\u0561\u057f\u0561\u056f\u0576\u0565\u0580\u056b\u0576 \u0570\u0561\u0574\u0561\u057a\u0561\u057f\u0561\u057d\u056d\u0561\u0576","\u053c\u056b\u0561\u0580\u056a\u0565\u0584 \u056b\u0580\u0561\u057e\u0561\u056f\u0561\u0576 \u0587 \u057e\u0561\u0580\u0579\u0561\u056f\u0561\u0576 \u0561\u057b\u0561\u056f\u0581\u0578\u0582\u0569\u0575\u0578\u0582\u0576","\u0555\u0563\u0576\u0578\u0582\u0569\u0575\u0578\u0582\u0576 \u0570\u056b\u057a\u0578\u0569\u0565\u0584\u056b \u0587 \u0586\u056b\u0576\u0561\u0576\u057d\u0561\u057e\u0578\u0580\u0574\u0561\u0576 \u0570\u0561\u0580\u0581\u0565\u0580\u0578\u0582\u0574","\u054e\u0561\u0573\u0561\u057c\u0584\u056b\u0581 \u0570\u0565\u057f\u0578 \u057d\u057a\u0561\u057d\u0561\u0580\u056f\u0578\u0582\u0574 \u0587 \u0563\u0578\u0582\u0575\u0584\u056b \u056f\u0561\u057c\u0561\u057e\u0561\u0580\u0574\u0561\u0576 \u057f\u0561\u0580\u0562\u0565\u0580\u0561\u056f\u0576\u0565\u0580"],whyTitle:"\u053b\u0576\u0579\u0578\u0582 \u0568\u0576\u057f\u0580\u0565\u056c Residence-\u0568",whyP1:"\u0544\u0565\u0576\u0584 \u0561\u0576\u0581\u0576\u0578\u0582\u0574 \u0565\u0576\u0584 \u0561\u057e\u0561\u0576\u0564\u0561\u056f\u0561\u0576 \u0574\u0578\u057f\u0565\u0581\u0578\u0582\u0574\u056b\u0581 \u0561\u0575\u0576 \u056f\u0578\u0572\u0574\u0589 Residence-\u0578\u0582\u0574 \u0564\u0578\u0582\u0584 \u057a\u0561\u0580\u0566\u0561\u057a\u0565\u057d \u0570\u0561\u0573\u0561\u056d\u0578\u0580\u0564 \u0579\u0567\u0584\u055d \u0564\u0578\u0582\u0584 \u0563\u0578\u0580\u056e\u0568\u0576\u056f\u0565\u0580 \u0565\u0584\u0589 \u0531\u0576\u056f\u0561\u056d \u0576\u0580\u0561\u0576\u056b\u0581\u055d \u0561\u057c\u0561\u057b\u056b\u0576 \u0562\u0576\u0561\u056f\u0561\u0580\u0561\u0576\u0576 \u0565\u0584 \u0563\u0576\u0578\u0582\u0574, \u0583\u0578\u056d\u057e\u0578\u0582\u0574 \u0565\u0584, \u0576\u0565\u0580\u0564\u0580\u0578\u0582\u0574 \u0565\u0584 \u056f\u0561\u057f\u0561\u0580\u0578\u0582\u0574 \u056f\u0561\u0574 \u057e\u0561\u0573\u0561\u057c\u0578\u0582\u0574 \u0565\u0584 \u0568\u0576\u057f\u0561\u0576\u0565\u056f\u0561\u0576 \u057f\u0578\u0582\u0576\u0568, \u0574\u0565\u0576\u0584 \u0570\u0561\u057d\u056f\u0561\u0576\u0578\u0582\u0574 \u0565\u0576\u0584 \u0571\u0565\u0580 \u057a\u0561\u057f\u0574\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0568 \u0587 \u0561\u057c\u0561\u057b\u0561\u0580\u056f\u0578\u0582\u0574 \u0565\u0576\u0584 \u0561\u057a\u0561\u0563\u0561\u0575\u056b\u0576 \u0570\u0561\u0574\u0568\u0576\u0569\u0561\u0581 \u056c\u0578\u0582\u056e\u0578\u0582\u0574\u0576\u0565\u0580\u0589",whyP2:"\u054e\u057d\u057f\u0561\u0570\u0578\u0582\u0569\u0575\u0561\u0576, \u0561\u0566\u0576\u057e\u0578\u0582\u0569\u0575\u0561\u0576 \u0587 \u0561\u0580\u0564\u0575\u0578\u0582\u0576\u0584\u056b \u057e\u0580\u0561 \u0570\u056b\u0574\u0576\u057e\u0561\u056e \u0574\u0565\u0580 \u0561\u0576\u0578\u0582\u0576\u0568 Residence-\u0568 \u0564\u0561\u0580\u0571\u0580\u0565\u056c \u0567 \u057e\u057d\u057f\u0561\u0570\u0565\u056c\u056b \u0568\u0576\u057f\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576 \u0576\u0580\u0561\u0576\u0581 \u0570\u0561\u0574\u0561\u0580, \u0578\u057e\u0584\u0565\u0580 \u0581\u0561\u0576\u056f\u0561\u0576\u0578\u0582\u0574 \u0565\u0576 \u0570\u0561\u0580\u0569 \u0587 \u0561\u0580\u0564\u0575\u0578\u0582\u0576\u0561\u057e\u0565\u057f \u0583\u0578\u0580\u0571 \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584\u056b \u0578\u056c\u0578\u0580\u057f\u0578\u0582\u0574\u0589",statsTitle:"\u0544\u0565\u0580 \u057e\u056b\u0573\u0561\u056f\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0568",statSold:"\u054e\u0561\u0573\u0561\u057c\u057e\u0561\u056e \u057f\u0576\u0565\u0580",statRented:"\u054e\u0561\u0580\u0571\u0561\u056f\u0561\u056c\u057e\u0561\u056e \u0563\u0578\u0582\u0575\u0584",statHappy:"\u0532\u0561\u057e\u0561\u056f\u0561\u0576\u0561\u0581\u0561\u056e \u0570\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u0576\u0565\u0580",statManaged:"\u053f\u0561\u057c\u0561\u057e\u0561\u0580\u057e\u0578\u0572 \u0563\u0578\u0582\u0575\u0584"}},Pk=()=>{const[e,t]=(0,r.useState)(document.documentElement.lang||localStorage.getItem("lang")||"en");(0,r.useEffect)(()=>{const e=document.documentElement,n=new MutationObserver(n=>{for(const r of n)"attributes"===r.type&&"lang"===r.attributeName&&t(e.lang||"en")});return n.observe(e,{attributes:!0}),()=>n.disconnect()},[]);const n=Ak[e]||Ak.en;return(0,xa.jsxs)(bk,{children:[(0,xa.jsxs)(_k,{children:[(0,xa.jsx)(wk,{children:n.title}),(0,xa.jsx)("p",{children:n.intro})]}),(0,xa.jsxs)(_k,{children:[(0,xa.jsx)(xk,{children:n.whoTitle}),(0,xa.jsx)("p",{children:n.who})]}),(0,xa.jsxs)(_k,{children:[(0,xa.jsx)(xk,{children:n.visionTitle}),(0,xa.jsx)("p",{children:n.vision})]}),(0,xa.jsxs)(_k,{children:[(0,xa.jsx)(xk,{children:n.missionTitle}),n.missionPoints.map((e,t)=>(0,xa.jsx)("p",{children:e},t))]}),(0,xa.jsxs)(_k,{children:[(0,xa.jsx)(xk,{children:n.offerTitle}),(0,xa.jsx)(Sk,{children:n.offerList.map((e,t)=>(0,xa.jsx)("li",{children:e},t))})]}),(0,xa.jsxs)(_k,{children:[(0,xa.jsx)(xk,{children:n.whyTitle}),(0,xa.jsx)("p",{children:n.whyP1}),(0,xa.jsx)("p",{children:n.whyP2})]}),(0,xa.jsxs)(_k,{children:[(0,xa.jsx)(xk,{children:n.statsTitle}),(0,xa.jsxs)(Ek,{children:[(0,xa.jsxs)(kk,{children:[(0,xa.jsx)(Ck,{children:"320+"}),(0,xa.jsx)(Tk,{children:n.statSold})]}),(0,xa.jsxs)(kk,{children:[(0,xa.jsx)(Ck,{children:"210+"}),(0,xa.jsx)(Tk,{children:n.statRented})]}),(0,xa.jsxs)(kk,{children:[(0,xa.jsx)(Ck,{children:"500+"}),(0,xa.jsx)(Tk,{children:n.statHappy})]}),(0,xa.jsxs)(kk,{children:[(0,xa.jsx)(Ck,{children:"75+"}),(0,xa.jsx)(Tk,{children:n.statManaged})]})]})]})]})};var Ik,Lk,Nk,Ok,jk,Rk,Mk,Dk,zk,Fk,Bk,Uk,Vk,Hk,qk,Wk,Kk;const{API_BASE:Zk,WS_BASE:Gk,WS_PATH:$k}=(()=>{const e="undefined"!==typeof window?window:{},t=e.location||{origin:""},n=/^(localhost|127\.0\.0\.1)$/.test(t.hostname||""),r=t.origin||"http://localhost:3000",i=n?r.replace(":3000",":4000"):r,o=(e.__PULSE_API_BASE||"").replace(/\/$/,"")||i||"http://localhost:4000",a=(e.__PULSE_WS_BASE||"").replace(/\/$/,"")||i||"http://localhost:4000",s=e.__PULSE_WS_PATH||"/socket.io";try{console.log("[CHAT] API_BASE=",o,"WS_BASE=",a,"WS_PATH=",s)}catch(l){}return{API_BASE:o,WS_BASE:a,WS_PATH:s}})(),Qk={en:{title:"Contact Us",call:"\ud83d\udcde Call Us",email:"pulserealty.official@gmail.com",address:"62 Hanrapetutyan St, Yerevan, Armenia",typeHere:"Type your message...",send:"Send",hello:"Hi! How can we help you today?",thanks:"Thanks for your message! We\u2019ll get back to you shortly.",telDisplay:"+374 94 444 940",telHref:"tel:+37494444940",mapsQuery:"62 Hanrapetutyan St, Yerevan, Armenia",admin:"Admin",you:"You",chatTitle:"Online Chat"},ru:{title:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438",call:"\ud83d\udcde \u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c",email:"pulserealty.official@gmail.com",address:"\u0410\u0440\u043c\u0435\u043d\u0438\u044f, \u0415\u0440\u0435\u0432\u0430\u043d, \u0443\u043b. \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438, 62",typeHere:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u2026",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",hello:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0427\u0435\u043c \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043c\u043e\u0447\u044c?",thanks:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435! \u041c\u044b \u0441\u043a\u043e\u0440\u043e \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438.",telDisplay:"+374 94 444 940",telHref:"tel:+37494444940",mapsQuery:"\u0443\u043b. \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0438 62, \u0415\u0440\u0435\u0432\u0430\u043d, \u0410\u0440\u043c\u0435\u043d\u0438\u044f",admin:"\u0410\u0434\u043c\u0438\u043d",you:"\u0412\u044b",chatTitle:"\u041e\u043d\u043b\u0430\u0439\u043d-\u0447\u0430\u0442"},hy:{title:"\u053f\u0561\u057a \u0574\u0565\u0566 \u0570\u0565\u057f",call:"\ud83d\udcde \u0536\u0561\u0576\u0563\u0561\u0570\u0561\u0580\u0565\u056c",email:"pulserealty.official@gmail.com",address:"\u0540\u0561\u0576\u0580\u0561\u057a\u0565\u057f\u0578\u0582\u0569\u0575\u0561\u0576 \u0583\u0578\u0572\u0578\u0581, 62, \u0535\u0580\u0587\u0561\u0576, \u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576",typeHere:"\u0533\u0580\u0565\u0584 \u0571\u0565\u0580 \u0570\u0561\u0572\u0578\u0580\u0564\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0568\u2026",send:"\u0548\u0582\u0572\u0561\u0580\u056f\u0565\u056c",hello:"\u0532\u0561\u0580\u0587! \u053b\u0576\u0579\u057a\u0565\u055e\u057d \u056f\u0561\u0580\u0578\u0572 \u0565\u0576\u0584 \u0585\u0563\u0576\u0565\u056c \u0571\u0565\u0566:",thanks:"\u0547\u0576\u0578\u0580\u0570\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576 \u0571\u0565\u0580 \u0570\u0561\u0572\u0578\u0580\u0564\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0561\u0576 \u0570\u0561\u0574\u0561\u0580, \u0577\u0578\u0582\u057f\u0578\u057e \u056f\u056f\u0561\u057a\u057e\u0565\u0576\u0584 \u0571\u0565\u0566 \u0570\u0565\u057f\u0589",telDisplay:"+374 94 444 940",telHref:"tel:+37494444940",mapsQuery:"\u0540\u0561\u0576\u0580\u0561\u057a\u0565\u057f\u0578\u0582\u0569\u0575\u0561\u0576 \u0583\u0578\u0572\u0578\u0581 62, \u0535\u0580\u0587\u0561\u0576, \u0540\u0561\u0575\u0561\u057d\u057f\u0561\u0576",admin:"\u0531\u0564\u0574\u056b\u0576",you:"\u0534\u0578\u0582\u0584",chatTitle:"\u0531\u057c\u0581\u0561\u0576\u0581-\u0579\u0561\u057f"}},Yk=()=>document.documentElement.lang||localStorage.getItem("lang")||"hy",Xk=vi.div(Ik||(Ik=t(["\n  padding: calc(var(--header-h, 90px) + 20px) 20px 40px;\n  max-width: 1200px;\n  margin: 0 auto;\n"]))),Jk=vi.h2(Lk||(Lk=t(["\n  text-align: center;\n  color: #f0ae00;\n  margin-bottom: 40px;\n"]))),eC=vi.div(Nk||(Nk=t(["\n  display: flex;\n  gap: 40px;\n  flex-wrap: wrap;\n  justify-content: center;\n  @media (max-width: 768px) { flex-direction: column; }\n"]))),tC=vi.div(Ok||(Ok=t(["\n  flex: 1;\n  min-width: 280px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  color: #f0ae00;\n"]))),nC=vi.div(jk||(jk=t(["\n  background: rgba(255, 255, 255, 0.60);\n  backdrop-filter: blur(10px) saturate(140%);\n  -webkit-backdrop-filter: blur(10px) saturate(140%);\n  border: 1px solid rgba(255, 255, 255, 0.45);\n  border-radius: 14px;\n  padding: 18px 22px;\n"]))),rC=vi.div(Rk||(Rk=t(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: clamp(16px, 1.9vw, 20px);\n  line-height: 1.35;\n  color: #1A3D4D;\n  svg { color: inherit; flex: 0 0 auto; }\n"]))),iC=vi.a(Mk||(Mk=t(["\n  color: inherit;\n  text-decoration: none;\n  &:hover { text-decoration: underline; }\n"]))),oC=vi.div(Dk||(Dk=t(["\n  display: flex;\n  gap: 16px;\n  margin-top: 10px;\n  a { color: #f0ae00; font-size: 20px; transition: transform .2s;\n      &:hover { transform: scale(1.2); color: #e6a700; } }\n"]))),aC=vi.a(zk||(zk=t(["\n  display: inline-block;\n  text-align: center;\n  background-color: #f0ae00;\n  color: white;\n  padding: 10px 20px;\n  border-radius: 6px;\n  text-decoration: none;\n  font-weight: bold;\n  transition: background-color .3s;\n  &:hover { background-color: #e6a700; }\n"]))),sC=vi.div(Fk||(Fk=t(["\n  flex: 1;\n  min-width: 360px;\n  max-width: 100%;\n  border: 1px solid #ccc;\n  border-radius: 10px;\n  height: 480px;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n"]))),lC=vi.div(Bk||(Bk=t(["\n  padding: 10px 14px;\n  background: #f0ae00;\n  color: #fff;\n  font-weight: 800;\n  border-radius: 10px 10px 0 0;\n"]))),cC=vi.div(Uk||(Uk=t(["\n  flex: 1; overflow-y: auto; padding: 12px; gap: 6px; display: flex; flex-direction: column;\n  background: #fafafa;\n"]))),uC=vi.div(Vk||(Vk=t(["\n  align-self: ",";\n  background: ",";\n  color: #222;\n  border-radius: 12px;\n  padding: 8px 10px;\n  max-width: 75%;\n  box-shadow: 0 1px 3px rgba(0,0,0,.06);\n"])),e=>{let{$mine:t}=e;return t?"flex-end":"flex-start"},e=>{let{$mine:t}=e;return t?"#e8f4ff":"#fff"}),hC=vi.div(Hk||(Hk=t(["\n  font-size: 11px; color:#999; margin-bottom: 2px;\n"]))),dC=vi.form(qk||(qk=t(["\n  display:flex; gap:8px; padding:10px; border-top:1px solid #eee; background:#fff; border-radius: 0 0 10px 10px;\n"]))),fC=vi.input(Wk||(Wk=t(["\n  flex: 1; padding: 10px; border-radius: 6px; border: 1px solid #ccc;\n"]))),pC=vi.button(Kk||(Kk=t(["\n  padding: 10px 16px; background-color: #f0ae00; color: white;\n  border: none; border-radius: 6px; font-weight: bold; cursor: pointer;\n  &:hover { background-color: #e6a700; }\n"])));function mC(){if(window.__pulseClientSock)return window.__pulseClientSock;const e=da("".concat(Gk,"/chat"),{path:$k,transports:["websocket","polling"],withCredentials:!0,autoConnect:!0,reconnection:!0});return e.on("connect_error",e=>console.warn("WS connect error:",(null===e||void 0===e?void 0:e.message)||e)),window.__pulseClientSock=e,e}const gC=()=>{const[e,t]=(0,r.useState)(Yk()),n=Qk[e]||Qk.hy;(0,r.useEffect)(()=>{const e=document.documentElement,n=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"lang"===e.attributeName&&t(Yk())})});return n.observe(e,{attributes:!0}),()=>n.disconnect()},[]);const[i,o]=(0,r.useState)([]),[a,s]=(0,r.useState)(""),l=(0,r.useRef)(null),c=(0,r.useRef)(new Set),u=(0,r.useRef)("");(0,r.useEffect)(()=>{var e;const t=(null===(e=document.querySelector("header"))||void 0===e?void 0:e.offsetHeight)||90;document.documentElement.style.setProperty("--header-h","".concat(t,"px"));const n=()=>{var e;const t=(null===(e=document.querySelector("header"))||void 0===e?void 0:e.offsetHeight)||90;document.documentElement.style.setProperty("--header-h","".concat(t,"px"))};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),document.documentElement.style.removeProperty("--header-h")}},[]);const h=(0,r.useMemo)(()=>async()=>{let e=localStorage.getItem("pulse:chat:threadId")||localStorage.getItem("pulse:chat:tid")||localStorage.getItem("chat:threadId")||"";if(!e){const t=(()=>{try{return JSON.parse(localStorage.getItem("pulse_user")||"null")||{}}catch(e){return{}}})(),n=await async function(e,t){const n=await fetch("".concat(Zk).concat(e),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t||{})});if(!n.ok)throw new Error("POST ".concat(e," ").concat(n.status));return n.json()}("/api/chat/start",t);e=(null===n||void 0===n?void 0:n.threadId)||"",e&&(localStorage.setItem("pulse:chat:threadId",e),localStorage.setItem("pulse:chat:tid",e),localStorage.setItem("chat:threadId",e))}return u.current=e,e},[]);(0,r.useEffect)(()=>{let e=()=>{};return(async()=>{const t=await h();if(!t)return;try{const e=await async function(e){const t=await fetch("".concat(Zk).concat(e),{cache:"no-store"});if(!t.ok)throw new Error("GET ".concat(e," ").concat(t.status));return t.json()}("/api/chat/".concat(t,"/messages")),n=(Array.isArray(null===e||void 0===e?void 0:e.items)?e.items:e)||[],r=c.current;n.forEach(e=>{const t="".concat(e.id||"","|").concat(e.ts||"","|").concat(e.sender,"|").concat(e.text);r.add(t)}),o(n),queueMicrotask(()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.scrollTo({top:1e9,behavior:"auto"})})}catch(i){}const n=mC();n.emit("join",{role:"user",threadId:t}),n.emit("read",{threadId:t,side:"user"});const r=e=>{if(null===e||void 0===e||!e.threadId||e.threadId!==t)return;const n="".concat(e.id||"","|").concat(e.ts||"","|").concat(e.sender,"|").concat(e.text),r=c.current;r.has(n)||(r.add(n),o(t=>{const n=t.filter(t=>!(null!==t&&void 0!==t&&t._temp&&t.sender===e.sender&&t.text===e.text));return[...n,e]}),queueMicrotask(()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.scrollTo({top:1e9,behavior:"smooth"})}))};n.on("message",r),e=()=>n.off("message",r)})(),()=>e()},[h]);return(0,xa.jsxs)(Xk,{children:[(0,xa.jsx)(Jk,{children:n.title}),(0,xa.jsxs)(eC,{children:[(0,xa.jsxs)(tC,{children:[(0,xa.jsx)(aC,{href:n.telHref,"aria-label":"".concat(n.call," ").concat(n.telDisplay),children:n.call}),(0,xa.jsxs)(nC,{children:[(0,xa.jsxs)(rC,{children:[(0,xa.jsx)(zi,{}),(0,xa.jsx)(iC,{href:"mailto:".concat(n.email),children:n.email})]}),(0,xa.jsxs)(rC,{style:{marginTop:10},children:[(0,xa.jsx)(Fi,{}),(0,xa.jsx)(iC,{href:"https://www.google.com/maps?q=".concat(encodeURIComponent(n.mapsQuery)),target:"_blank",rel:"noopener noreferrer",children:n.address})]})]}),(0,xa.jsxs)(oC,{children:[(0,xa.jsx)("a",{href:"https://www.facebook.com/share/1FWngzVzdx/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",title:"Facebook",children:(0,xa.jsx)(Ii,{})}),(0,xa.jsx)("a",{href:"https://t.me/Pulse_realty",target:"_blank",rel:"noopener noreferrer",title:"Telegram",children:(0,xa.jsx)(Ni,{})}),(0,xa.jsx)("a",{href:"https://www.instagram.com/pulse_realty?igsh=MTRucWprdXIydGdwcQ==",target:"_blank",rel:"noopener noreferrer",title:"Instagram",children:(0,xa.jsx)(Li,{})})]})]}),(0,xa.jsxs)(sC,{children:[(0,xa.jsx)(lC,{children:n.chatTitle}),(0,xa.jsxs)(cC,{ref:l,children:[0===i.length&&(0,xa.jsx)(uC,{$mine:!1,children:(0,xa.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:n.hello})}),i.map(e=>(0,xa.jsxs)(uC,{$mine:"user"===e.sender,children:[(0,xa.jsx)(hC,{children:"admin"===e.sender?n.admin:n.you}),(0,xa.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e.text})]},e.id||"".concat(e.ts,"-").concat(e.sender,"-").concat(e.text)))]}),(0,xa.jsxs)(dC,{onSubmit:async e=>{var t;null===e||void 0===e||null===(t=e.preventDefault)||void 0===t||t.call(e);const n=String(a||"").trim(),r=u.current;if(!n||!r)return;const i={id:"c-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2)),sender:"user",text:n,ts:Date.now(),threadId:r,_temp:!0};o(e=>[...e,i]),queueMicrotask(()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.scrollTo({top:1e9,behavior:"smooth"})});try{mC().emit("message",{threadId:r,text:n,sender:"user"})}catch(c){}s("")},children:[(0,xa.jsx)(fC,{value:a,onChange:e=>s(e.target.value),placeholder:n.typeHere}),(0,xa.jsx)(pC,{type:"submit",children:n.send})]})]})]})]})},vC=()=>(0,xa.jsxs)("div",{style:{padding:"40px 20px"},children:[(0,xa.jsx)("h2",{style:{textAlign:"center",marginBottom:"20px"},children:"All Properties"}),(0,xa.jsx)(Dx,{})]}),yC=[{id:1,title:"\u0544\u0578\u0576\u0569\u0565 \u0544\u0565\u056c\u0584\u0578\u0576\u0575\u0561\u0576 \u0583., \u0535\u0580\u0587\u0561\u0576",image:"https://images.unsplash.com/photo-1570129477492-45c003edd2be",type:"Apartment",status:"For Sale",beds:2,baths:2,area:"800 sqft",price:4600,description:"\u0535\u0580\u0587\u0561\u0576\u056b \u056f\u0565\u0576\u057f\u0580\u0578\u0576\u0578\u0582\u0574 \u0563\u057f\u0576\u057e\u0578\u0572 \u056a\u0561\u0574\u0561\u0576\u0561\u056f\u0561\u056f\u056b\u0581 \u0576\u0578\u0580\u0561\u056f\u0561\u057c\u0578\u0582\u0575\u0581, \u0570\u0561\u0580\u0574\u0561\u0580\u0561\u057e\u0565\u057f \u0587 \u056c\u0578\u0582\u057d\u0561\u057e\u0578\u0580 \u0574\u0578\u0582\u057f\u0584\u0565\u0580\u0578\u057e\u0589",lat:40.1986,lng:44.517,pano:"https://pannellum.org/images/alma.jpg"},{id:2,title:"\u0534\u0561\u056c\u0574\u0561 \u0533\u0561\u0580\u0564\u0565\u0576, \u0535\u0580\u0587\u0561\u0576",image:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c",type:"Villa",status:"For Rent",beds:5,baths:5,area:"1400 sqft",price:9900,description:"\u0547\u0584\u0565\u0572 \u057e\u056b\u056c\u056c\u0561 \u0534\u0561\u056c\u0574\u0561 \u0533\u0561\u0580\u0564\u0565\u0576 \u0569\u0561\u0572\u0561\u0574\u0561\u057d\u0578\u0582\u0574\u055d \u0570\u0561\u0580\u0574\u0561\u0580 \u0567 \u0568\u0576\u057f\u0561\u0576\u056b\u0584\u0576\u0565\u0580\u056b \u0570\u0561\u0574\u0561\u0580\u0589",lat:40.1809,lng:44.4807,pano:"https://pannellum.org/images/alma.jpg"},{id:3,title:"\u0531\u0580\u056b\u0576 \u0532\u0565\u0580\u0564 \u0583., \u0533\u0575\u0578\u0582\u0574\u0580\u056b",image:"https://images.pexels.com/photos/106399/pexels-photo-106399.jpeg",type:"House",status:"For Sale",beds:4,baths:3,area:"1200 sqft",price:7200,description:"\u0540\u0561\u0580\u0574\u0561\u0580\u0561\u057e\u0565\u057f \u057f\u0578\u0582\u0576 \u0533\u0575\u0578\u0582\u0574\u0580\u056b\u0578\u0582\u0574\u055d \u0568\u0576\u057f\u0561\u0576\u0565\u056f\u0561\u0576 \u0562\u0576\u0561\u056f\u0578\u0582\u0569\u0575\u0561\u0576 \u0570\u0561\u0574\u0561\u0580\u0589",lat:40.7896,lng:43.8476,pano:"https://pannellum.org/images/alma.jpg"},{id:4,title:"\u0531\u0562\u0578\u057e\u0575\u0561\u0576 2-\u0580\u0564 \u0576\u0580\u0562., \u054e\u0561\u0576\u0561\u0571\u0578\u0580",image:"https://images.unsplash.com/photo-1554995207-c18c203602cb",type:"Apartment",status:"For Rent",beds:2,baths:1,area:"700 sqft",price:3200,description:"\u0532\u0561\u0580\u0565\u056f\u0561\u0580\u0563 \u0562\u0576\u0561\u056f\u0561\u0580\u0561\u0576 \u054e\u0561\u0576\u0561\u0571\u0578\u0580\u056b \u056f\u0565\u0576\u057f\u0580\u0578\u0576\u0578\u0582\u0574\u0589",lat:40.8127,lng:44.4886,pano:"https://pannellum.org/images/alma.jpg"},{id:5,title:"\u0540\u0561\u0572\u0569\u0561\u0576\u0561\u056f \u0569\u0561\u0572., \u0535\u0580\u0587\u0561\u0576",image:"https://images.unsplash.com/photo-1523217582562-09d0def993a6",type:"Villa",status:"For Sale",beds:3,baths:2,area:"1100 sqft",price:6500,description:"\u054e\u056b\u056c\u056c\u0561 \u0540\u0561\u0572\u0569\u0561\u0576\u0561\u056f \u0569\u0561\u0572\u0561\u0574\u0561\u057d\u0578\u0582\u0574\u055d \u056f\u0561\u0576\u0561\u0579 \u057f\u0561\u0580\u0561\u056e\u0584\u0576\u0565\u0580\u0578\u057e \u0577\u0580\u057b\u0561\u057a\u0561\u057f\u057e\u0561\u056e\u0589",lat:40.2075,lng:44.4853,pano:"https://pannellum.org/images/alma.jpg"},{id:6,title:"\u0531\u0576\u0564\u0580\u0561\u0576\u056b\u056f\u056b \u0583., \u0531\u0580\u0574\u0561\u057e\u056b\u0580",image:"https://images.pexels.com/photos/1571460/pexels-photo-1571460.jpeg",type:"House",status:"For Rent",beds:3,baths:2,area:"900 sqft",price:4e3,description:"\u0546\u0578\u0580\u0578\u0563\u057e\u0561\u056e \u057f\u0578\u0582\u0576 \u0531\u0580\u0574\u0561\u057e\u056b\u0580\u0578\u0582\u0574\u055d \u0574\u0578\u057f \u0561\u057c\u0565\u0582\u057f\u0580\u056b \u056f\u0565\u0576\u057f\u0580\u0578\u0576\u0576\u0565\u0580\u056b\u0576\u0589",lat:40.15,lng:44.0385,pano:"https://pannellum.org/images/alma.jpg"}];var bC,_C,wC,xC,SC,EC,kC,CC,TC,AC;const PC=vi.div(bC||(bC=t(["\n  position: fixed;\n  right: 16px;\n  /* bottom \u0437\u0430\u0434\u0430\u0451\u043c \u0438\u043d\u043b\u0430\u0439\u043d\u043e\u043c \u0447\u0435\u0440\u0435\u0437 style */\n  width: min(360px, 92vw);\n  height: 440px;\n  display: flex;\n  flex-direction: column;\n  background: #fff;\n  border-radius: 12px;\n  box-shadow: 0 12px 40px rgba(0,0,0,.18);\n  overflow: hidden;\n  z-index: 2147483647;\n  pointer-events: auto;\n"]))),IC=vi.div(_C||(_C=t(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n  background: #f0ae00;\n  color: #fff;\n  padding: 10px 14px;\n  font-weight: 800;\n  font-size: 14px;\n"]))),LC=vi.button(wC||(wC=t(["\n  border: none;\n  background: rgba(255,255,255,.15);\n  color: #fff;\n  border-radius: 8px;\n  padding: 4px 8px;\n  font-weight: 900;\n  cursor: pointer;\n  line-height: 1;\n  &:hover { background: rgba(255,255,255,.25); }\n"]))),NC=vi.div(xC||(xC=t(["\n  flex: 1;\n  overflow: auto;\n  padding: 12px;\n  background: #f7f8fb;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),OC=vi.div(SC||(SC=t(["\n  display: flex;\n  justify-content: ",";\n"])),e=>e.$mine?"flex-end":"flex-start"),jC=vi.div(EC||(EC=t(["\n  max-width: 78%;\n  padding: 8px 12px;\n  border-radius: 12px;\n  background: ",";\n  color: #0f172a;\n  box-shadow: 0 1px 3px rgba(0,0,0,.08);\n  white-space: pre-wrap;\n"])),e=>e.$mine?"#e8f4ff":"#fff"),RC=vi.div(kC||(kC=t(["\n  font-size: 11px;\n  color: #64748b;\n  margin: 0 4px 2px;\n  text-align: ",";\n"])),e=>e.$mine?"right":"left"),MC=vi.form(CC||(CC=t(["\n  display: flex;\n  gap: 8px;\n  padding: 10px;\n  border-top: 1px solid #e5e7eb;\n  background: #fff;\n"]))),DC=vi.input(TC||(TC=t(["\n  flex: 1;\n  padding: 10px 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 10px;\n  outline: none;\n  &:focus { border-color: #94a3b8; }\n"]))),zC=vi.button(AC||(AC=t(["\n  border: none;\n  background: #f0ae00;\n  color: #fff;\n  font-weight: 800;\n  padding: 10px 14px;\n  border-radius: 10px;\n  cursor: pointer;\n  &:disabled { opacity: .5; cursor: default; }\n"]))),FC={hy:{title:"\u0531\u057c\u0581\u0561\u0576\u0581-\u0579\u0561\u057f",you:"\u0534\u0578\u0582\u0584",admin:"\u0531\u0564\u0574\u056b\u0576",ph:"\u0533\u0580\u0565\u0584 \u0570\u0561\u0572\u0578\u0580\u0564\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0568\u2026",send:"\u0548\u0582\u0572\u0561\u0580\u056f\u0565\u056c",close:"\u0553\u0561\u056f\u0565\u056c"},ru:{title:"\u041e\u043d\u043b\u0430\u0439\u043d-\u0447\u0430\u0442",you:"\u0412\u044b",admin:"\u0410\u0434\u043c\u0438\u043d",ph:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u2026",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},en:{title:"Online Chat",you:"You",admin:"Admin",ph:"Type a message\u2026",send:"Send",close:"Close"}};function BC(e){let{messages:t=[],input:n="",setInput:i=()=>{},onSend:o=()=>{},onClose:a=()=>{}}=e;const s=(0,r.useMemo)(()=>FC[document.documentElement.lang||localStorage.getItem("lang")||"hy"]||FC.hy,[]),l=function(){const[e,t]=(0,r.useState)(16);return(0,r.useEffect)(()=>{const e=()=>{let e=16;const n=Array.from(document.querySelectorAll("footer, [data-fixed-footer], .footer, .site-footer"));for(const t of n){const n=getComputedStyle(t);if("fixed"!==n.position&&"sticky"!==n.position)continue;const r=t.getBoundingClientRect();Math.abs(window.innerHeight-r.bottom)<2&&(e=Math.max(e,16+Math.ceil(r.height)))}t(e)};e();let n=null;try{"undefined"!==typeof ResizeObserver&&(n=new ResizeObserver(e),document.querySelectorAll("footer, [data-fixed-footer], .footer, .site-footer").forEach(e=>{try{n.observe(e)}catch(t){}}))}catch(r){}return window.addEventListener("resize",e),window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e);try{n&&n.disconnect()}catch(t){}}},[]),e}(),c=Array.isArray(t)?t.map(e=>"string"===typeof e?{text:e}:e||{}):[],u=(0,xa.jsxs)(PC,{style:{bottom:"calc(".concat(l,"px + env(safe-area-inset-bottom, 0px))")},children:[(0,xa.jsxs)(IC,{children:[(0,xa.jsx)("span",{children:s.title}),(0,xa.jsx)(LC,{onClick:a,"aria-label":s.close,children:"\xd7"})]}),(0,xa.jsx)(NC,{children:c.map((e,t)=>{const n="user"===e.sender||"user"===e.from,r=n?s.you:s.admin;return(0,xa.jsxs)("div",{children:[(0,xa.jsx)(RC,{$mine:n,children:r}),(0,xa.jsx)(OC,{$mine:n,children:(0,xa.jsx)(jC,{$mine:n,children:e.text})})]},e.id||"".concat(t,"-").concat(e.ts||""))})}),(0,xa.jsxs)(MC,{onSubmit:e=>{e.preventDefault();const t=String(n||"").trim();t&&o(t)},children:[(0,xa.jsx)(DC,{placeholder:s.ph,value:n,onChange:e=>i(e.target.value)}),(0,xa.jsx)(zC,{type:"submit",disabled:!String(n||"").trim(),children:s.send})]})]});return(0,aS.createPortal)(u,document.body)}const UC=(0,r.createContext)(null);function VC(){const e=(0,r.use)(UC);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var HC=n(228),qC=n.n(HC);const WC=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function KC(e,t){let{bounds:n,boundsOptions:i,center:a,children:s,className:l,id:c,placeholder:h,style:d,whenReady:f,zoom:p}=e,m=o(e,WC);const[g]=(0,r.useState)({className:l,id:c,style:d}),[v,y]=(0,r.useState)(null),b=(0,r.useRef)(void 0);(0,r.useImperativeHandle)(t,()=>{var e;return null!==(e=null===v||void 0===v?void 0:v.map)&&void 0!==e?e:null},[v]);const _=(0,r.useCallback)(e=>{if(null!==e&&!b.current){const t=new HC.Map(e,m);b.current=t,null!=a&&null!=p?t.setView(a,p):null!=n&&t.fitBounds(n,i),null!=f&&t.whenReady(f),y(function(e){return Object.freeze({__version:1,map:e})}(t))}},[]);(0,r.useEffect)(()=>()=>{null===v||void 0===v||v.map.remove()},[v]);const w=v?r.createElement(UC,{value:v},s):null!==h&&void 0!==h?h:null;return r.createElement("div",u(u({},g),{},{ref:_}),w)}const ZC=(0,r.forwardRef)(KC);function GC(e,t){const n=(0,r.useRef)(t);(0,r.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function $C(e,t){const n=(0,r.useRef)(void 0);(0,r.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function QC(e,t){var n;const r=null!==(n=e.pane)&&void 0!==n?n:t.pane;return r?u(u({},e),{},{pane:r}):e}function YC(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function XC(e,t){return null==t?function(t,n){const i=(0,r.useRef)(void 0);return i.current||(i.current=e(t,n)),i}:function(n,i){const o=(0,r.useRef)(void 0);o.current||(o.current=e(n,i));const a=(0,r.useRef)(n),{instance:s}=o.current;return(0,r.useEffect)(function(){a.current!==n&&(t(s,n,a.current),a.current=n)},[s,n,t]),o}}function JC(e){return function(t){const n=VC(),i=e(QC(t,n),n);return GC(n.map,t.attribution),$C(i.current,t.eventHandlers),function(e,t){(0,r.useEffect)(function(){var n;return(null!==(n=t.layerContainer)&&void 0!==n?n:t.map).addLayer(e.instance),function(){var n;null===(n=t.layerContainer)||void 0===n||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}(i.current,n),i}}const eT=["url"],tT=(nT=function(e,t){let{url:n}=e,r=o(e,eT);return YC(new HC.TileLayer(n,QC(r,t)),t)},rT=function(e,t,n){!function(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}(e,t,n);const{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)},function(e){function t(t,n){const{instance:i}=e(t).current;return(0,r.useImperativeHandle)(n,()=>i),null}return(0,r.forwardRef)(t)}(JC(XC(nT,rT))));var nT,rT;const iT=["position"],oT=function(e,t){return function(e){function t(t,n){const{instance:i,context:o}=e(t).current;(0,r.useImperativeHandle)(n,()=>i);const{children:a}=t;return null==a?null:r.createElement(UC,{value:o},a)}return(0,r.forwardRef)(t)}(JC(XC(e,t)))}(function(e,t){let{position:n}=e,r=o(e,iT);const i=new HC.Marker(n,r);return YC(i,(a=t,s={overlayContainer:i},Object.freeze(u(u({},a),s))));var a,s},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),aT=function(e,t){const n=function(e,t){return function(n,r){const i=VC(),o=e(QC(n,i),i);return GC(i.map,n.attribution),$C(o.current,n.eventHandlers),t(o.current,i,n,r),o}}(XC(e),t);return function(e){function t(t,n){const[i,o]=(0,r.useState)(!1),{instance:a}=e(t,o).current;(0,r.useImperativeHandle)(n,()=>a),(0,r.useEffect)(function(){i&&a.update()},[a,i,t.children]);const s=a._contentNode;return s?(0,aS.createPortal)(t.children,s):null}return(0,r.forwardRef)(t)}(n)}(function(e,t){return YC(new HC.Popup(e,t.overlayContainer),t)},function(e,t,n,i){let{position:o}=n;(0,r.useEffect)(function(){const{instance:n}=e;function r(e){e.popup===n&&(n.update(),i(!0))}function a(e){e.popup===n&&i(!1)}return t.map.on({popupopen:r,popupclose:a}),null==t.overlayContainer?(null!=o&&n.setLatLng(o),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){var e;t.map.off({popupopen:r,popupclose:a}),null===(e=t.overlayContainer)||void 0===e||e.unbindPopup(),t.map.removeLayer(n)}},[e,t,i,o])});var sT,lT,cT,uT,hT;const dT=vi.div(sT||(sT=t(["\n  position: fixed; inset: 0; z-index: 3000;\n  background: rgba(0,0,0,.9);\n  display: ",";\n  align-items: center; justify-content: center;\n"])),e=>e.$open?"flex":"none"),fT=vi.div(lT||(lT=t(["\n  position: relative;\n  width: min(96vw, 1200px);\n  height: min(90vh, 720px);\n  border-radius: 12px;\n  overflow: hidden;\n  background: #000;\n  box-shadow: 0 10px 30px rgba(0,0,0,.5);\n"]))),pT=vi.button(cT||(cT=t(["\n  position: absolute; top: 10px; right: 10px;\n  width: 40px; height: 40px; border-radius: 10px;\n  border: none; background: rgba(17,24,39,.6); color: #fff;\n  font-size: 20px; font-weight: 700; cursor: pointer;\n"]))),mT=vi.button(uT||(uT=t(["\n  position: absolute; top: 50%; transform: translateY(-50%);\n  width: 44px; height: 44px; border-radius: 9999px;\n  border: 1px solid rgba(255,255,255,.3);\n  background: rgba(0,0,0,.35); color:#fff; font-size: 24px; cursor: pointer;\n  ","\n"])),e=>e.$left?"left: 10px;":"right: 10px;"),gT=vi.div(hT||(hT=t(["\n  position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%);\n  background: rgba(17,24,39,.6); color:#fff; padding: 6px 10px; border-radius: 999px;\n  font-weight: 700; font-size: 13px;\n"])));function vT(e){let{isOpen:t,onClose:n,images:i}=e;const o=(0,r.useMemo)(()=>i?Array.isArray(i)?i.filter(Boolean):[String(i)]:[],[i]),[a,s]=(0,r.useState)(0);(0,r.useEffect)(()=>{s(0)},[t]);const l=o[a]||"",c=(0,r.useRef)(null),u=(0,r.useRef)(null);if((0,r.useEffect)(()=>{const e=document.documentElement;return e.style.overflow=t?"hidden":"",()=>{e.style.overflow=""}},[t]),(0,r.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"===e.key&&(null===n||void 0===n||n())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,n]),(0,r.useEffect)(()=>{if(!t||!l)return;const{pannellum:e}=window||{},n=c.current;if(!n)return;if(n.innerHTML="",!e||"function"!==typeof e.viewer){const e=new Image;return e.src=l,e.alt="360 preview",e.style.width="100%",e.style.height="100%",e.style.objectFit="contain",void n.appendChild(e)}let r=null;try{r=e.viewer(n,{type:"equirectangular",panorama:l,autoLoad:!0,showZoomCtrl:!0,compass:!1,hfov:100,autoRotate:-2})}catch(o){}const i=new ResizeObserver(()=>{try{var e,t;null===(e=r)||void 0===e||null===(t=e.resize)||void 0===t||t.call(e)}catch(n){}});return u.current&&i.observe(u.current),()=>{try{var e,t;null===(e=r)||void 0===e||null===(t=e.destroy)||void 0===t||t.call(e)}catch(n){}i.disconnect()}},[t,l]),!t)return(0,xa.jsx)(dT,{$open:!1});return(0,xa.jsx)(dT,{$open:!0,onClick:n,children:(0,xa.jsxs)(fT,{ref:u,onClick:e=>e.stopPropagation(),children:[(0,xa.jsx)("div",{ref:c,style:{width:"100%",height:"100%"}}),(0,xa.jsx)(pT,{onClick:n,"aria-label":"Close",children:"\u2715"}),o.length>1&&(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsx)(mT,{$left:!0,onClick:()=>s(e=>(e-1+o.length)%o.length),"aria-label":"Prev",children:"\u2039"}),(0,xa.jsx)(mT,{onClick:()=>s(e=>(e+1)%o.length),"aria-label":"Next",children:"\u203a"}),(0,xa.jsxs)(gT,{children:[a+1," / ",o.length]})]})]})})}function yT(){const e={"\u0430":"a","\u0441":"c","\u0435":"e","\u043e":"o","\u0440":"p","\u0445":"x","\u043a":"k","\u0443":"y","\u043c":"m","\u0442":"t","\u043d":"h","\u0432":"v","\u0410":"A","\u0421":"C","\u0415":"E","\u041e":"O","\u0420":"P","\u0425":"X","\u041a":"K","\u0423":"Y","\u041c":"M","\u0422":"T","\u041d":"H","\u0412":"V"};return String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/./g,t=>{var n;return null!==(n=e[t])&&void 0!==n?n:t})}function bT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{const t=new URL(String(e));t.hostname=yT(t.hostname);return!/^(localhost|127\.0\.0\.1)$/i.test(t.hostname)||t.port&&"3000"!==t.port||(t.port="4000"),t.toString().replace(/\/$/,"")}catch(t){return e.replace(/\/$/,"")}}const{API_BASE:_T,WS_BASE:wT,WS_PATH:xT}=(()=>{const e="undefined"!==typeof window?window:{},t=e.location||{origin:"http://localhost:3000"},n=String(t.origin||"http://localhost:3000"),r=new URL(n);r.hostname=yT(r.hostname);const i=/^(localhost|127\.0\.0\.1)$/i.test(r.hostname)?"".concat(r.protocol,"//localhost:4000"):"".concat(r.protocol,"//").concat(r.host),o=e.__PULSE_API_BASE||i||"http://localhost:4000",a=e.__PULSE_WS_BASE||i||"http://localhost:4000",s=e.__PULSE_WS_PATH||"/socket.io",l=bT(o),c=bT(a);try{console.log("[chatClient] API_BASE=",l,"WS_BASE=",c,"WS_PATH=",s)}catch(u){}return{API_BASE:l,WS_BASE:c,WS_PATH:s}})(),ST=["pulse:chat:threadId","pulse:chat:tid","chat:threadId"];function ET(){try{for(const e of ST){const t=localStorage.getItem(e);if(t)return t}}catch(e){}return""}function kT(e){try{for(const t of ST)localStorage.setItem(t,String(e||""))}catch(t){}}async function CT(e,t){const n=await fetch("".concat(_T).concat(e),{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify(t||{})}),r=await n.text();if(!n.ok)throw new Error("".concat(n.status," ").concat(e,": ").concat(r||""));return r?JSON.parse(r):null}let TT;const AT=new Set;let PT=!1;function IT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&TT&&TT.emit("join",{role:"user",threadId:e,userMeta:t})}function LT(){return TT||(TT=da("".concat(wT,"/chat"),{path:xT,transports:["websocket","polling"],withCredentials:!0,autoConnect:!0,reconnection:!0}),TT&&!PT&&(PT=!0,TT.on("connect_error",e=>console.warn("[chatClient] WS connect error:",(null===e||void 0===e?void 0:e.message)||e)),TT.on("connect",()=>{const e=ET();e&&IT(e)}),TT.on("message",e=>{const t=ET();if(!e||!e.text)return;if(e.threadId&&t&&String(e.threadId)!==String(t))return;const n="".concat(e.threadId||"","|").concat(e.sender||"","|").concat(e.text),r=Date.now();TT._seen=TT._seen||{},r-(TT._seen[n]||0)<1500||(TT._seen[n]=r,AT.forEach(t=>{try{t(e)}catch(n){}}))})),TT)}async function NT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ET();if(!t){const n=await CT("/api/chat/start",e||{});t=(null===n||void 0===n?void 0:n.threadId)||"",t&&kT(t)}return LT(),IT(t,e),t}const OT={API_BASE:_T,WS_BASE:wT,WS_PATH:xT,connect:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await NT(e)},getThreadId:ET,getOrCreateThread:NT,onMessage:function(e){return AT.add(e),()=>AT.delete(e)},sendMessage:async function(e){let{text:t}=e;const n=String(t||"").trim();if(!n)return;let r=ET();if(!r){const e=await CT("/api/chat/start",{});r=(null===e||void 0===e?void 0:e.threadId)||"",r&&kT(r)}if(!r)return;const i=LT();let o=!1;const a=setTimeout(async()=>{if(!o)try{await CT("/api/chat/message",{threadId:r,text:n,sender:"user"})}catch(VO){console.warn("[chatClient] HTTP fallback failed:",(null===VO||void 0===VO?void 0:VO.message)||VO)}},1500);try{i.emit("message",{threadId:r,text:n,sender:"user"},e=>{o=!!e,o&&clearTimeout(a)})}catch(s){}},markRead:function(e){const t=e||ET();t&&LT().emit("read",{threadId:t,side:"user"})},fetchHistory:async function(e){const t=e||ET();if(!t)return[];const n=await async function(e){const t=await fetch("".concat(_T).concat(e),{cache:"no-store",headers:{"cache-control":"no-cache",pragma:"no-cache"},credentials:"include"}),n=await t.text();if(!t.ok)throw new Error("".concat(t.status," ").concat(e,": ").concat(n||""));return n?JSON.parse(n):null}("/api/chat/".concat(t,"/messages"));return Array.isArray(null===n||void 0===n?void 0:n.items)?n.items:Array.isArray(n)?n:[]}};var jT,RT,MT,DT,zT,FT,BT,UT,VT,HT,qT,WT,KT,ZT,GT,$T,QT,YT,XT,JT,eA,tA,nA,rA,iA,oA,aA,sA,lA,cA,uA,hA,dA,fA,pA,mA,gA,vA,yA,bA,_A,wA,xA,SA,EA,kA,CA,TA,AA,PA,IA,LA,NA,OA,jA,RA,MA,DA,zA,FA,BA,UA,VA,HA,qA,WA,KA,ZA;const GA=qC().icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),$A="pulse:properties",QA={en:{beds:"Beds",baths:"Baths",converting:"Converting...",convFailed:"Conversion failed",callUs:"\ud83d\udcde Call Us",onlineChat:"\ud83d\udcac Online Chat",namePh:"Your full name...",emailPh:"Your email...",phonePh:"Your phone for callback...",send:"Send",needNamePhone:"Please enter your full name and phone number.",thanksContact:(e,t,n)=>"Thanks ".concat(e,", we will contact you").concat(t?" at ".concat(t):""," or call you at ").concat(n),amenitiesTitle:"Amenities",actions:{call:"\ud83d\udcde Call",request:"\ud83d\udcf2 Request a Callback",other:"\ud83d\udd0e View Other Options"},location:"Location",recommended:"Recommended Properties",panoramaTitle:"360\xb0 View",modal:{title:"Request a Callback",namePh:"Your name...",phonePh:"Your phone number...",cancel:"Cancel",send:"Send",need:"Please enter your name and phone.",thanks:(e,t)=>"Thanks ".concat(e,"! We will call you at ").concat(t,".")},notFound:"Property not found.",chatHello:"Hi! How can we help you?",area:"",amenList:["Air Conditioning","Spa & Massage","Gym","Swimming Pool","Alarm","Alarm","Central Heating","Central Heating","Internet","Laundry Room","Pets Allowed","Pets Allowed","Window Covering","Free WiFi","Car Parking"]},ru:{beds:"\u0421\u043f\u0430\u043b\u044c\u043d\u0438",baths:"\u0412\u0430\u043d\u043d\u044b\u0435",converting:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f...",convFailed:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u0438",callUs:"\ud83d\udcde \u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c",onlineChat:"\ud83d\udcac \u041e\u043d\u043b\u0430\u0439\u043d-\u0447\u0430\u0442",namePh:"\u0412\u0430\u0448\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f...",emailPh:"\u0412\u0430\u0448 email...",phonePh:"\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u0434\u043b\u044f \u0437\u0432\u043e\u043d\u043a\u0430...",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",needNamePhone:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d.",thanksContact:(e,t,n)=>"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, ".concat(e,", \u043c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438").concat(t?" \u043f\u043e ".concat(t):""," \u0438\u043b\u0438 \u043f\u043e\u0437\u0432\u043e\u043d\u0438\u043c \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 ").concat(n),amenitiesTitle:"\u0423\u0434\u043e\u0431\u0441\u0442\u0432\u0430",actions:{call:"\ud83d\udcde \u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c",request:"\ud83d\udcf2 \u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u0432\u043e\u043d\u043e\u043a",other:"\ud83d\udd0e \u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b"},location:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f",recommended:"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b",panoramaTitle:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 360\xb0",modal:{title:"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u0432\u043e\u043d\u043e\u043a",namePh:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f...",phonePh:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430...",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",need:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043c\u044f \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d.",thanks:(e,t)=>"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, ".concat(e,"! \u041c\u044b \u043f\u0435\u0440\u0435\u0437\u0432\u043e\u043d\u0438\u043c \u043d\u0430 ").concat(t,".")},notFound:"\u041e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d.",chatHello:"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435! \u0427\u0435\u043c \u043c\u043e\u0436\u0435\u043c \u043f\u043e\u043c\u043e\u0447\u044c?",area:"",amenList:["\u041a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440","\u0421\u043f\u0430 \u0438 \u043c\u0430\u0441\u0441\u0430\u0436","\u0422\u0440\u0435\u043d\u0430\u0436\u0451\u0440\u043d\u044b\u0439 \u0437\u0430\u043b","\u0411\u0430\u0441\u0441\u0435\u0439\u043d","\u0421\u0438\u0433\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","\u0421\u0438\u0433\u043d\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f","\u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0442\u043e\u043f\u043b\u0435\u043d\u0438\u0435","\u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0442\u043e\u043f\u043b\u0435\u043d\u0438\u0435","\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442","\u041f\u0440\u0430\u0447\u0435\u0447\u043d\u0430\u044f","\u041c\u043e\u0436\u043d\u043e \u0441 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c\u0438","\u041c\u043e\u0436\u043d\u043e \u0441 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c\u0438","\u0428\u0442\u043e\u0440\u044b","\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 Wi-Fi","\u041f\u0430\u0440\u043a\u043e\u0432\u043a\u0430"]},hy:{beds:"\u054d\u0565\u0576\u0575\u0561\u056f",baths:"\u054d\u0430\u043d\u0570\u0561\u0576\u0563\u0578\u0582\u0575\u0581",converting:"\u0553\u0578\u056d\u0561\u0580\u056f\u0578\u0582\u0574...",convFailed:"\u0553\u0578\u056d\u0561\u0580\u056f\u0565\u056c \u0579\u0570\u0561\u057b\u0578\u0572\u057e\u0565\u0581",callUs:"\ud83d\udcde \u0536\u0561\u0576\u0563\u0561\u0570\u0561\u0580\u0565\u0584",onlineChat:"\ud83d\udcac \u0531\u057c\u0581\u0561\u0576\u0581 \u0579\u0561\u057f",namePh:"\u0541\u0565\u0580 \u0561\u0576\u0578\u0582\u0576\u0568 \u0587 \u0561\u0566\u0563\u0561\u0576\u0578\u0582\u0576\u0568...",emailPh:"\u0541\u0565\u0580 \u0567\u056c. \u0583\u0578\u057d\u057f\u0568...",phonePh:"\u0541\u0565\u0580 \u0570\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580\u0568...",send:"\u0548\u0582\u0572\u0561\u0580\u056f\u0565\u056c",needNamePhone:"\u053d\u0576\u0564\u0580\u0578\u0582\u0574 \u0565\u0576\u0584 \u0563\u0580\u0565\u056c \u0561\u0576\u0578\u0582\u0576\u0568 \u0587 \u0570\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580\u0568\u0589",thanksContact:(e,t,n)=>"\u0547\u0576\u0578\u0580\u0570\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576, ".concat(e,", \u0574\u0565\u0576\u0584 \u056f\u0561\u057a \u056f\u0570\u0561\u057d\u057f\u0561\u057f\u0565\u0576\u0584").concat(t?" ".concat(t," \u0570\u0561\u057d\u0581\u0565\u0578\u057e"):""," \u056f\u0561\u0574 \u056f\u0566\u0561\u0576\u0563\u0561\u0570\u0561\u0580\u0565\u0576\u0584 ").concat(n," \u0570\u0561\u0574\u0561\u0580\u0578\u057e"),amenitiesTitle:"\u0540\u0561\u0580\u0574\u0561\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580",actions:{call:"\ud83d\udcde \u0536\u0561\u0576\u0563",request:"\ud83d\udcf2 \u054a\u0561\u057f\u057e\u056b\u0580\u0565\u056c \u0566\u0561\u0576\u0563",other:"\ud83d\udd0e \u054f\u0565\u057d\u0576\u0565\u056c \u0561\u0575\u056c \u057f\u0561\u0580\u0562\u0565\u0580\u0561\u056f\u0576\u0565\u0580"},location:"\u0533\u057f\u0576\u057e\u0565\u056c\u0578\u0582 \u057e\u0561\u0575\u0580\u0568",recommended:"\u0531\u057c\u0561\u057b\u0561\u0580\u056f\u057e\u0578\u0572 \u0563\u0578\u0582\u0575\u0584\u0565\u0580",panoramaTitle:"360\xb0 \u057f\u0565\u057d\u0584",modal:{title:"\u054a\u0561\u057f\u057e\u056b\u0580\u0565\u056c \u0566\u0561\u0576\u0563",namePh:"\u0541\u0565\u0580 \u0561\u0576\u0578\u0582\u0576\u0568...",phonePh:"\u0541\u0565\u0580 \u0570\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580\u0568...",cancel:"\u0549\u0565\u0572\u0561\u0580\u056f\u0565\u056c",send:"\u0548\u0582\u0572\u0561\u0580\u056f\u0565\u056c",need:"\u053d\u0576\u0564\u0580\u0578\u0582\u0574 \u0565\u0576\u0584 \u0563\u0580\u0565\u056c \u0561\u0576\u0578\u0582\u0576 \u0587 \u0570\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580\u0589",thanks:(e,t)=>"\u0547\u0576\u0578\u0580\u0570\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576, ".concat(e,"! \u0544\u0565\u0576\u0584 \u056f\u0566\u0561\u0576\u0563\u0561\u0570\u0561\u0580\u0565\u0576\u0584 ").concat(t," \u0570\u0561\u0574\u0561\u0580\u0578\u057e\u0589")},notFound:"\u0533\u0578\u0582\u0575\u0584\u0568 \u0579\u056b \u0563\u057f\u0576\u057e\u0565\u056c\u0589",chatHello:"\u0532\u0561\u0580\u0587, \u056b\u0576\u0579\u057a\u0565\u055e\u057d \u056f\u0561\u0580\u0578\u0572 \u0565\u0576\u0584 \u0585\u0563\u0576\u0565\u056c:",area:"",amenList:["\u0555\u0564\u0578\u0580\u0561\u056f\u056b\u0579","\u054d\u057a\u0561 \u0587 \u0574\u0565\u0580\u057d\u0578\u0582\u0574","\u054d\u057a\u0578\u0580\u057f\u0564\u0561\u0570\u056c\u056b\u0573","\u053c\u0578\u0572\u0561\u057e\u0561\u0566\u0561\u0576","\u0531\u0570\u0561\u0566\u0561\u0576\u0563\u0574\u0561\u0576 \u0570\u0561\u0574\u0561\u056f\u0561\u0580\u0563","\u0531\u0570\u0561\u0566\u0561\u0576\u0563\u0574\u0561\u0576 \u0570\u0561\u0574\u0561\u056f\u0561\u0580\u0563","\u053f\u0565\u0576\u057f\u0580\u0578\u0576\u0561\u056f\u0561\u0576 \u057b\u0565\u057c\u0578\u0582\u0581\u0578\u0582\u0574","\u053f\u0565\u0576\u057f\u0580\u0578\u0576\u0561\u056f\u0561\u0576 \u057b\u0565\u057c\u0578\u0582\u0581\u0578\u0582\u0574","\u053b\u0576\u057f\u0565\u0580\u0576\u0565\u057f","\u053c\u057e\u0561\u0581\u0584\u0561\u057f\u0578\u0582\u0576","\u0539\u0578\u0582\u0575\u056c\u0561\u057f\u0580\u057e\u0578\u0582\u0574 \u0565\u0576 \u056f\u0565\u0576\u0564\u0561\u0576\u056b\u0576\u0565\u0580","\u0539\u0578\u0582\u0575\u056c\u0561\u057f\u0580\u057e\u0578\u0582\u0574 \u0565\u0576 \u056f\u0565\u0576\u0564\u0561\u0576\u056b\u0576\u0565\u0580","\u054a\u0561\u057f\u0578\u0582\u0570\u0561\u0576\u056b \u057e\u0561\u0580\u0561\u0563\u0578\u0582\u0575\u0580\u0576\u0565\u0580","\u0531\u0576\u057e\u0573\u0561\u0580 Wi-Fi","\u0531\u057e\u057f\u0578\u056f\u0561\u0575\u0561\u0576\u0561\u057f\u0565\u0572\u056b"]}},YA=vi.div(jT||(jT=t(["\n  background:#fff;\n  color:#1A3D4D;\n  min-height:100vh;\n  padding:40px 24px;\n  overflow-x:hidden;\n  @media (max-width:560px){ padding:24px 16px 32px; }\n  *, *::before, *::after { box-sizing:border-box; }\n"]))),XA=vi.div(RT||(RT=t(['\n  max-width:1100px;\n  margin:0 auto;\n  display:grid;\n  grid-template-columns:1fr 380px;\n  grid-template-areas:"top side" "extras side";\n  gap:40px;\n  @media (max-width:1024px){ grid-template-columns:1fr 340px; }\n  @media (max-width:900px){\n    grid-template-columns:1fr;\n    grid-template-areas:"top" "side" "extras";\n    gap:24px;\n  }\n']))),JA=vi.div(MT||(MT=t(["grid-area:top; min-width:0;"]))),eP=vi.div(DT||(DT=t(["grid-area:extras; min-width:0;"]))),tP=vi.div(zT||(zT=t(["\n  grid-area:side;\n  width:100%;\n  max-width:100%;\n  border:1px solid #eee; padding:20px; border-radius:10px;\n  box-shadow:0 4px 12px rgba(0,0,0,.05);\n  display:flex; flex-direction:column; gap:20px;\n  box-sizing:border-box;\n  min-width:0;\n"]))),nP=vi.img(FT||(FT=t(["\n  width:100%;\n  display:block;\n  border-radius:12px;\n  margin-bottom:12px;\n  aspect-ratio:16/9;\n  object-fit:cover;\n  object-position:center;\n  max-height:48vh;\n  cursor:zoom-in;\n  @media (max-width:600px){\n    aspect-ratio:4/3;\n    max-height:unset;\n  }\n"]))),rP=vi.h2(BT||(BT=t(["\n  font-size:clamp(18px, 4.6vw, 28px);\n  line-height:1.2;\n  margin:10px 0 8px;\n"]))),iP=vi.div(UT||(UT=t(["\n  display:flex; gap:24px; font-size:16px; margin-bottom:20px; color:#555;\n  @media (max-width:560px){ flex-wrap:wrap; gap:10px 16px; font-size:14px; }\n"]))),oP=vi.div(VT||(VT=t(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 16px;\n  margin-bottom: 20px;\n\n  @media (max-width: 560px) {\n    align-items: flex-start;\n    flex-direction: column;\n    gap: 12px;\n  }\n"]))),aP=vi.button(HT||(HT=t(["\n  padding: 10px 14px;\n  background: #1A3D4D;\n  color: #fff;\n  border: none;\n  border-radius: 6px;\n  font-weight: 700;\n  cursor: pointer;\n  white-space: nowrap;\n  &:hover { background: #16323f; }\n"]))),sP=vi.div(qT||(qT=t(["display:flex; align-items:center; gap:8px;"]))),lP=vi.div(WT||(WT=t(["\n  color:#555; font-size:16px; line-height:1.6;\n  display:flex; flex-direction:column; gap:12px;\n"]))),cP=vi.p(KT||(KT=t(["margin:0; white-space:pre-line;"]))),uP=vi.ul(ZT||(ZT=t(["\n  margin:0; padding:0 0 0 18px; list-style:disc;\n  display:flex; flex-direction:column; gap:6px;\n"]))),hP=vi.li(GT||(GT=t(["margin:0;"]))),dP=vi.div($T||($T=t(["border:1px solid #eef0f3; border-radius:12px; padding:20px; margin-top:20px;"]))),fP=vi.h3(QT||(QT=t(["font-size:18px; font-weight:700; color:#1A3D4D; margin-bottom:16px;"]))),pP=vi.ul(YT||(YT=t(["\n  list-style:none; padding:0; margin:0;\n  display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:12px 24px;\n  @media (max-width:900px){ grid-template-columns:repeat(2,1fr); }\n  @media (max-width:560px){ grid-template-columns:1fr; }\n"]))),mP=vi.li(XT||(XT=t(["display:flex; align-items:center; gap:10px; color:#6b7280; font-size:16px;"]))),gP=vi.span(JT||(JT=t(["\n  display:inline-flex; align-items:center; justify-content:center; width:22px; height:22px;\n  border-radius:9999px; background:#e8f8ef; color:#28a745; flex:0 0 auto;\n"]))),vP=vi.div(eA||(eA=t(["display:flex; gap:12px; flex-wrap:wrap; @media (max-width:560px){ flex-direction:column; }"]))),yP=vi.button(tA||(tA=t(["\n  padding:12px 16px; background-color:",";\n  color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer; display:inline-flex; align-items:center; justify-content:center;\n  &:hover{ background-color:","; }\n"])),e=>e.$green?"#28a745":"#f0ae00",e=>e.$green?"#23913c":"#e6a700"),bP=vi.div(nA||(nA=t(["position:fixed; inset:0; z-index:1000; background:rgba(0,0,0,.4); display:flex; align-items:center; justify-content:center;"]))),_P=vi.div(rA||(rA=t(["background:#fff; width:90%; max-width:420px; border-radius:12px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.15);"]))),wP=vi.h4(iA||(iA=t(["margin:0 0 12px 0; color:#1A3D4D;"]))),xP=vi.div(oA||(oA=t(["display:flex; gap:10px; justify-content:flex-end; margin-top:12px;"]))),SP=vi.button(aA||(aA=t(["padding:10px 16px; background:transparent; border:1px solid #ccc; color:#1A3D4D; border-radius:6px; cursor:pointer;"]))),EP=vi.div(sA||(sA=t(["height:360px; border-radius:12px; overflow:hidden; .leaflet-container{height:360px; width:100%;}"]))),kP=vi.div(lA||(lA=t([" position:relative; "]))),CP=vi.div(cA||(cA=t([" overflow:hidden; width:100%; border-radius:10px; "]))),TP=vi.div(uA||(uA=t([" display:flex; transition:transform .45s ease; will-change:transform; width:100%; "]))),AP=vi.div(hA||(hA=t([" min-width:100%; padding:4px 0; "]))),PP=vi.div(dA||(dA=t(["\n  display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:20px;\n  @media (max-width:900px){ grid-template-columns:repeat(2, minmax(0,1fr)); }\n  @media (max-width:560px){ grid-template-columns:1fr; }\n"]))),IP=vi.div(fA||(fA=t(["border:1px solid #eee; border-radius:12px; overflow:hidden; background:#fff; box-shadow:0 0 12px rgba(0,0,0,.05); cursor:pointer; transition:.3s; &:hover{ transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,.15); }"]))),LP=vi.img(pA||(pA=t(["width:100%; height:160px; object-fit:cover;"]))),NP=vi.div(mA||(mA=t(["padding:14px;"]))),OP=vi.div(gA||(gA=t(["display:flex; justify-content:space-between; color:#666; margin:8px 0; font-size:14px;"]))),jP=vi.div(vA||(vA=t(["color:#28a745; font-weight:700; font-size:18px;"]))),RP=vi.button(yA||(yA=t(["\n  position:absolute; top:50%; transform:translateY(-50%);\n  border:1px solid #e5e7eb; background:#fff; width:44px; height:44px; border-radius:9999px;\n  box-shadow:0 8px 20px rgba(0,0,0,.12); cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:22px; z-index:5;\n"]))),MP=vi(RP)(bA||(bA=t(["left:8px;"]))),DP=vi(RP)(_A||(_A=t(["right:8px;"]))),zP=vi.div(wA||(wA=t(["font-size:24px; color:#f0ae00; font-weight:bold;"]))),FP=vi.select(xA||(xA=t(["margin-left:12px; padding:4px;"]))),BP=vi.a(SA||(SA=t(["\n  display:block; width:100%;\n  padding:10px 16px; background:#28a745; color:#fff; text-align:center; border-radius:6px; font-weight:bold; text-decoration:none;\n  &:hover{background:#23913c}\n"]))),UP=vi.button(EA||(EA=t(["\n  display:block; width:100%;\n  padding:10px 16px; background:#f0ae00; color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer;\n"]))),VP=vi.input(kA||(kA=t(["padding:10px; border-radius:6px; border:1px solid #ccc; width:100%;"]))),HP=vi.button(CA||(CA=t(["margin-top:8px; padding:10px 16px; background:#f0ae00; color:#fff; border:none; border-radius:6px; font-weight:bold; cursor:pointer; width:100%; &:hover{background:#e6a700}"]))),qP=vi.div(TA||(TA=t(["\n  display:flex;\n  gap:8px;\n  overflow-x:auto;\n  padding:6px 2px 8px;\n  margin-bottom:18px;\n  -webkit-overflow-scrolling:touch;\n  scrollbar-width:thin;\n"]))),WP=vi.button(AA||(AA=t(["\n  border:none; padding:0;\n  width:72px; height:54px;\n  border-radius:8px; overflow:hidden; cursor:pointer; flex:0 0 auto; opacity:.9;\n  img{ width:100%; height:100%; object-fit:cover; display:block; }\n  &.active{ outline:2px solid #f0ae00; opacity:1; }\n"]))),KP=vi.div(PA||(PA=t(["\n  position:fixed; inset:0; z-index:2000;\n  background:rgba(0,0,0,.9);\n  display:flex; align-items:center; justify-content:center;\n"]))),ZP=vi.img(IA||(IA=t(["\n  max-width:90vw; max-height:85vh; object-fit:contain; border-radius:8px;\n"]))),GP=vi.button(LA||(LA=t(["\n  position:fixed; top:50%; transform:translateY(-50%);\n  width:44px; height:44px; border-radius:9999px;\n  border:1px solid rgba(255,255,255,.3); background:rgba(0,0,0,.35);\n  color:#fff; font-size:24px; cursor:pointer; z-index:2100;\n"]))),$P=vi(GP)(NA||(NA=t(["left:12px;"]))),QP=vi(GP)(OA||(OA=t(["right:12px;"]))),YP=vi.button(jA||(jA=t(["\n  position:fixed; top:12px; right:12px; z-index:2100;\n  width:40px; height:40px; border-radius:9999px;\n  border:1px solid rgba(255,255,255,.3); background:rgba(0,0,0,.35);\n  color:#fff; font-size:22px; cursor:pointer;\n"]))),XP=vi.div(RA||(RA=t(["\n  height: 420px;\n  border-radius: 12px;\n  overflow: hidden;\n  background: #000;\n  .pnlm-container, .pnlm-render-container { height: 100% !important; }\n  @media (max-width: 600px){ height: 300px; }\n"]))),JP=(vi.button(MA||(MA=t(["\n  padding: 8px 14px;\n  background:#1A3D4D;\n  color:#fff;\n  border:none;\n  border-radius:6px;\n  font-weight:700;\n  cursor:pointer;\n  transition: background-color .2s;\n  &:hover{ background:#16323f; }\n"]))),vi.div(DA||(DA=t(["\n  position: fixed; inset: 0; z-index: 3000;\n  background: rgba(0,0,0,.9);\n  display: flex; align-items: center; justify-content: center;\n"])))),eI=vi.div(zA||(zA=t(["\n  width: min(100vw, 100%);\n  height: min(100vh, 100%);\n"]))),tI=vi.button(FA||(FA=t(["\n  position: fixed;\n  top: calc(env(safe-area-inset-top, 0px) + 12px);\n  right: calc(env(safe-area-inset-right, 0px) + 12px);\n  width: 44px;\n  height: 44px;\n  border: none;\n  border-radius: 10px;\n  z-index: 9999;\n  background: rgba(17, 24, 39, 0.6);\n  color: #fff;\n  box-shadow: 0 4px 12px rgba(0,0,0,.35);\n  backdrop-filter: blur(6px);\n  display: flex; align-items: center; justify-content: center;\n  font-size: 20px; line-height: 1; font-weight: 700; cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n"]))),nI=vi.div(BA||(BA=t(["\n  border: 1px solid #eef0f3;\n  border-radius: 12px;\n  padding: 16px;\n  background: #fff;\n  overflow: hidden;            /* \u0447\u0442\u043e\u0431\u044b \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0432\u044b\u043b\u0435\u0437\u0430\u043b\u043e */\n"]))),rI=vi.div(UA||(UA=t(["\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr)); /* \u043a\u043b\u044e\u0447\u0435\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 */\n  gap: 12px;\n"]))),iI=vi.label(VA||(VA=t(["\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  min-width: 0;                /* \u0432\u0430\u0436\u043do \u0434\u043b\u044f \u0433\u0440\u0438\u0434\u043e\u0432 */\n"]))),oI=vi.input(HA||(HA=t(["\n  display: block;\n  width: 100%;\n  box-sizing: border-box;      /* \u0447\u0442\u043e\u0431\u044b padding/\u0431\u043e\u0440\u0434\u0435\u0440 \u043d\u0435 \u043b\u043e\u043c\u0430\u043b \u0448\u0438\u0440\u0438\u043d\u0443 */\n  padding: 10px 12px;\n  border: 1px solid #d1d5db;\n  border-radius: 8px;\n  font-size: 14px;\n  color: #1A3D4D;\n  outline: none;\n"]))),aI=(vi.div(qA||(qA=t(["\n  margin-top: 8px;\n  color: #1A3D4D;\n  font-weight: 700;\n"]))),vi.div(WA||(WA=t(["\n  margin-top: 6px;\n  color: #6b7280;\n  font-size: 13px;\n"])))),sI=vi.button(KA||(KA=t(["\n  margin-top: 12px;\n  width: 100%;\n  padding: 12px 16px;\n  background: #f0ae00;\n  color: #111;\n  border: none;\n  border-radius: 8px;\n  font-weight: 800;\n  cursor: default;\n  &:hover { background: #e6a700; }\n  &:disabled { opacity: 1; }   /* \u0447\u0442\u043e\u0431\u044b disabled \u043d\u0435 \u0442\u0443\u0441\u043a\u043d\u0435\u043b */\n"]))),lI=vi.h3(ZA||(ZA=t(["\n  margin: 0 0 10px 0;\n  font-size: 16px;\n  font-weight: 800;\n  color: #1A3D4D;\n"]))),cI=()=>document.documentElement.lang||localStorage.getItem("lang")||"hy";function uI(e){const t=String(e||"").replace(/\r/g,"");if(!t.trim())return null;return t.split(/\n{2,}/).map((e,t)=>{const n=e.split("\n").map(e=>e.trim()).filter(Boolean);return n.length>0&&n.every(e=>/^[\u2022\-\u2013\u2014]/.test(e))?(0,xa.jsx)(uP,{children:n.map((e,t)=>(0,xa.jsx)(hP,{children:e.replace(/^[\u2022\-\u2013\u2014]\s*/,"")},t))},"b-".concat(t)):(0,xa.jsx)(cP,{children:n.join("\n")},"p-".concat(t))})}const hI=()=>{var e,t,n,i,o,a;const{id:s}=ve(),l=me(),[c,h]=(0,r.useState)(cI());function d(){var e;try{const e=JSON.parse(localStorage.getItem("pulse_user")||"null");if(e&&(e.name||e.email||e.phone))return{user:{name:e.name||"",email:e.email||"",phone:e.phone||""}}}catch(n){}const t=((null===(e=document.querySelector(".header-username"))||void 0===e?void 0:e.textContent)||"").trim();return t?{user:{name:t}}:{}}(0,r.useEffect)(()=>{const e=document.documentElement,t=new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"lang"===e.attributeName&&h(cI())})});return t.observe(e,{attributes:!0}),()=>t.disconnect()},[]);const f=QA[c]||QA.hy,[p,m]=(0,r.useState)(()=>{try{return JSON.parse(localStorage.getItem($A)||"[]")}catch(e){return[]}}),[g,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=!0;const t=Yw();t&&"function"===typeof t.then?t.then(t=>{e&&(m(Array.isArray(t)?t:[]),v(!0))}):(m(Array.isArray(t)?t:[]),v(!0));const n=()=>{try{const e=JSON.parse(localStorage.getItem($A)||"[]");m(Array.isArray(e)?e:[])}catch(e){}};return window.addEventListener("pulse:properties-changed",n),window.addEventListener("storage",n),()=>{e=!1,window.removeEventListener("pulse:properties-changed",n),window.removeEventListener("storage",n)}},[]);const y=(0,r.useMemo)(()=>{const e=new Map;return(Array.isArray(yC)?yC:[]).forEach(t=>t&&e.set(String(t.id),t)),(Array.isArray(p)?p:[]).forEach(t=>{if(!t)return;const n=String(t.id),r=e.get(n)||{};e.set(n,u(u({},r),t))}),[...e.values()]},[p]),b=(0,r.useMemo)(()=>(Array.isArray(y)?y:[]).find(e=>String(null===e||void 0===e?void 0:e.id)===String(s)),[y,s]),_=(0,r.useMemo)(()=>(null===b||void 0===b?void 0:b.title)||"",[null===b||void 0===b?void 0:b.title]),w=(0,r.useCallback)(async()=>{const e=OT.getThreadId();if(e)try{const t=await OT.fetchHistory(e);ue((Array.isArray(t)?t:[]).map(t=>({from:t.sender||"user",sender:t.sender||"user",text:t.text,ts:t.ts&&t.ts._seconds?1e3*t.ts._seconds:t.ts||Date.now(),threadId:e})))}catch(VO){console.warn("chat history load failed",VO)}},[]),x=(0,r.useMemo)(()=>{const e=Array.isArray(null===b||void 0===b?void 0:b.amenities)?b.amenities.filter(Boolean):[];return e.length?e:Array.isArray(f.amenList)?f.amenList:[]},[null===b||void 0===b?void 0:b.amenities,f.amenList]);(0,r.useEffect)(()=>{window.scrollTo(0,0)},[s]);const[S,E]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const t=await Xw(s);if(!e)return;E(Array.isArray(t)?t.filter(Boolean):[])}catch(t){E([])}})(),()=>{e=!1}},[s]);const k=(0,r.useMemo)(()=>{const e=[],t=new Set,n=n=>{"string"===typeof n&&n&&!t.has(n)&&(t.add(n),e.push(n))};return null!==b&&void 0!==b&&b.image&&n(b.image),(Array.isArray(S)?S:[]).forEach(n),e},[null===b||void 0===b?void 0:b.image,S]),[C,T]=(0,r.useState)(!1),[A,P]=(0,r.useState)(0),[I,L]=(0,r.useState)(!1);(0,r.useEffect)(()=>P(0),[s]),(0,r.useEffect)(()=>P(0),[k.length]);const N=Number(null===b||void 0===b?void 0:b.lat)||40.1772,O=Number(null===b||void 0===b?void 0:b.lng)||44.50349,j=(0,r.useMemo)(()=>{if(!b)return[];const e=(Array.isArray(y)?y:[]).filter(e=>e&&e.id!==b.id);return[...e.filter(e=>(null===e||void 0===e?void 0:e.type)===b.type),...e.filter(e=>(null===e||void 0===e?void 0:e.type)!==b.type)]},[y,b]),[R,M]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=!0;(async()=>{try{const t=rx(s);e&&M(Array.isArray(t)?t:[]);const n=await async function(e){try{const t=Tb(Fy(Ww,Kw,String(e),"panoramas"),Lb("idx","asc"));return(await Hb(t)).docs.map(e=>{var t;return null===(t=e.data())||void 0===t?void 0:t.src}).filter(Boolean)}catch(t){return[]}}(s);e&&(!t||0===t.length)&&Array.isArray(n)&&n.length&&M(n)}catch(t){}})();const t=e=>{var t;const n=null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.propertyId;if(!n||String(n)===String(s))try{M(rx(s)||[])}catch(r){}};return window.addEventListener("pulse:panos-changed",t),()=>{e=!1,window.removeEventListener("pulse:panos-changed",t)}},[s]);const D=(0,r.useMemo)(()=>({1755528464698:["https://pannellum.org/images/alma.jpg","https://pannellum.org/images/bma-1.jpg","https://pannellum.org/images/bma-2.jpg"]}),[]),z=(0,r.useMemo)(()=>["https://pannellum.org/images/alma.jpg"],[]),F=(0,r.useMemo)(()=>{const e=[];Array.isArray(R)&&R.length&&e.push(...R),Array.isArray(null===b||void 0===b?void 0:b.panos)&&e.push(...b.panos);const t=(null===b||void 0===b?void 0:b.pano)||(null===b||void 0===b?void 0:b.panorama)||(null===b||void 0===b?void 0:b.panoramaUrl)||(null===b||void 0===b?void 0:b.panorama360);t&&e.push(t);const n=null===D||void 0===D?void 0:D[String(null===b||void 0===b?void 0:b.id)];Array.isArray(n)&&e.push(...n);const r=e.filter(Boolean);return r.length?r:z},[R,b,D,z]),B=F.length>0,[U,V]=(0,r.useState)(0);(0,r.useEffect)(()=>V(0),[s]);const H=F[U]||"",q=(0,r.useRef)(null),W=(0,r.useRef)(null),[K,Z]=(0,r.useState)(!1),G=(0,r.useRef)(null),$=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!H)return;const{pannellum:e}=window||{};if(null===e||void 0===e||!e.viewer)return;let t=null;const n=q.current;return n&&(n.innerHTML="",t=e.viewer(n,{type:"equirectangular",panorama:H,autoLoad:!0,showZoomCtrl:!0,compass:!1,hfov:100,autoRotate:-2})),()=>{try{var e,n;null===(e=t)||void 0===e||null===(n=e.destroy)||void 0===n||n.call(e)}catch(r){}}},[H]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&Z(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),(0,r.useEffect)(()=>{const e=document.documentElement;var t,n;K?(e.style.overflow="hidden",setTimeout(()=>{var e,t;return null===(e=$.current)||void 0===e||null===(t=e.requestFullscreen)||void 0===t?void 0:t.call(e).catch(()=>{})},0)):(e.style.overflow="",document.fullscreenElement&&(null===(t=(n=document).exitFullscreen)||void 0===t||t.call(n)))},[K]),(0,r.useEffect)(()=>{if(!K||!H)return;const{pannellum:e}=window||{};if(null===e||void 0===e||!e.viewer)return;let t=null;const n=G.current;if(n){n.innerHTML="",t=e.viewer(n,{type:"equirectangular",panorama:H,autoLoad:!0,showZoomCtrl:!0,compass:!1,hfov:95,autoRotate:-2});const r=()=>{try{var e;null===(e=t)||void 0===e||e.resize()}catch(n){}};return setTimeout(r,100),window.addEventListener("resize",r),document.addEventListener("fullscreenchange",r),()=>{try{var e,n;null===(e=t)||void 0===e||null===(n=e.destroy)||void 0===n||n.call(e)}catch(i){}window.removeEventListener("resize",r),document.removeEventListener("fullscreenchange",r)}}},[K,H]);const Q=Math.max(1,Math.ceil((Array.isArray(j)?j.length:0)/3)),[Y,X]=(0,r.useState)(0);(0,r.useEffect)(()=>X(0),[s]);const[J,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)(""),[re,ie]=(0,r.useState)(""),[oe,ae]=(0,r.useState)(!1),[se,le]=(0,r.useState)(""),[ce,ue]=(0,r.useState)([]),[he,de]=(0,r.useState)("USD"),[fe,pe]=(0,r.useState)(null),[ge,ye]=(0,r.useState)(!1),[be,_e]=(0,r.useState)(null),we=/(apartment|flat|\u0562\u0576\u0561\u056f\u0561\u0580\u0561\u0576|\u043a\u0432\u0430\u0440\u0442\u0438\u0440\u0430)/i.test(String((null===b||void 0===b?void 0:b.type)||"")),xe=/(sale|sell|\u057e\u0561\u0573\u0561\u057c|\u043f\u0440\u043e\u0434\u0430\u0436\u0430)/i.test(String((null===b||void 0===b?void 0:b.status)||(null===b||void 0===b?void 0:b.dealType)||"")),Se=we&&xe,[Ee,ke]=(0,r.useState)(!1),[Ce,Te]=(0,r.useState)(""),[Ae,Pe]=(0,r.useState)(""),Ie=ge||be?0:Number((null!==fe&&void 0!==fe?fe:null===b||void 0===b?void 0:b.price)||0),[Le,Ne]=(0,r.useState)(()=>Ie||0),[Oe,je]=(0,r.useState)(0),[Re,Me]=(0,r.useState)(20),[De,ze]=(0,r.useState)(12.5);(0,r.useEffect)(()=>{Ne(Ie)},[Ie]);const Fe=(0,r.useMemo)(()=>{const e=Math.max(0,Number(Le||0)-Number(Oe||0)),t=Math.max(1,12*Number(Re||0)),n=Math.max(0,Number(De||0))/100/12;if(!isFinite(e)||!isFinite(t)||!isFinite(n))return 0;if(0===n)return e/t;const r=Math.pow(1+n,t);return e*n*r/(r-1)},[Le,Oe,Re,De]);(0,r.useEffect)(()=>{if(!b||!b.price)return pe(null),void _e(null);if("USD"===he)return pe(null),void _e(null);let e=!1;return(async()=>{ye(!0);try{const t="usd",n=await fetch("https://latest.currency-api.pages.dev/v1/currencies/usd.json");if(!n.ok)throw new Error("net");const r=await n.json(),i=(r&&r[t]||{})[he.toLowerCase()];if(!i)throw new Error("no-rate");const o=Number(b.price||0)*Number(i),a="AMD"===he?Math.round(o):Number(o.toFixed(2));e||(pe(String(a)),_e(null))}catch(t){e||(pe(null),_e("fail"))}finally{e||ye(!1)}})(),()=>{e=!0}},[he,null===b||void 0===b?void 0:b.price]),(0,r.useEffect)(()=>{(async()=>{const e={source:"details",propertyId:s,page:window.location.href,title:_},t=d(),n=u(u({},e),t);await OT.connect(n)})()},[s,_]),(0,r.useEffect)(()=>{oe&&(async()=>{await w(),OT.markRead(OT.getThreadId())})()},[oe,w]),(0,r.useEffect)(()=>{const e=OT.onMessage(e=>{if(!e||!e.text)return;const t={threadId:e.threadId,sender:"admin"===e.sender?"admin":"user",text:String(e.text||""),ts:"number"===typeof e.ts?e.ts:e.ts&&e.ts._seconds?1e3*e.ts._seconds:Date.now()};ue(e=>{const n=e[e.length-1];return n&&n.sender===t.sender&&n.text===t.text&&Math.abs((t.ts||0)-(n.ts||0))<1200?e:[...e,t]})});return()=>{try{e()}catch(t){}}},[s]);if(!g&&!b)return(0,xa.jsx)(YA,{children:(0,xa.jsx)("p",{children:"\u0532\u0565\u057c\u0576\u0578\u0582\u0574\u2026"})});if(!b)return(0,xa.jsx)(YA,{children:(0,xa.jsx)("p",{children:f.notFound})});const Be=null!==(e=null!==(t=b.area)&&void 0!==t?t:b.sqft)&&void 0!==e?e:"";return(0,xa.jsxs)(YA,{children:[(0,xa.jsxs)(XA,{children:[(0,xa.jsxs)(JA,{children:[(()=>{const e=k[Math.min(A,Math.max(k.length-1,0))]||(null===b||void 0===b?void 0:b.image)||"https://via.placeholder.com/1200x800?text=Photo";return(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsx)(nP,{src:e,alt:b.title||"photo",onClick:()=>L(!0)}),k.length>1&&(0,xa.jsx)(qP,{children:k.map((e,t)=>(0,xa.jsx)(WP,{onClick:()=>P(t),className:t===A?"active":"","aria-label":"photo ".concat(t+1),children:(0,xa.jsx)("img",{src:e,alt:"thumb-".concat(t)})},t))})]})})(),(0,xa.jsx)(rP,{children:b.title}),(0,xa.jsxs)(oP,{children:[(0,xa.jsxs)(iP,{children:[(0,xa.jsxs)(sP,{children:[(0,xa.jsx)(Ri,{})," ",b.beds," ",f.beds]}),(0,xa.jsxs)(sP,{children:[(0,xa.jsx)(ji,{})," ",b.baths," ",f.baths]}),(0,xa.jsxs)(sP,{children:[(0,xa.jsx)(Ui,{})," ",Be||"\u2014",f.area]}),(0,xa.jsxs)(sP,{children:[(0,xa.jsx)(Mi,{})," ",null!==(n=null!==(i=null!==(o=null!==(a=b.floor)&&void 0!==a?a:b.level)&&void 0!==o?o:b.floorNumber)&&void 0!==i?i:b.storey)&&void 0!==n?n:"\u2014"]})]}),B&&(0,xa.jsx)(aP,{onClick:()=>T(!0),children:"360\xb0"})]}),(0,xa.jsx)(lP,{children:uI(b.description)})]}),(0,xa.jsxs)(tP,{children:[(0,xa.jsxs)(zP,{children:[ge&&f.converting,be&&f.convFailed,!ge&&!be&&(0,xa.jsxs)(xa.Fragment,{children:[(fe&&Number(fe)||Number(b.price||0)).toLocaleString()," ",he]}),(0,xa.jsx)(FP,{value:he,onChange:e=>de(e.target.value),children:["USD","AMD","EUR","RUB"].map(e=>(0,xa.jsx)("option",{value:e,children:e},e))})]}),(0,xa.jsx)(BP,{href:"tel:+37477447599",children:f.callUs}),(0,xa.jsx)(UP,{onClick:()=>ae(!0),children:f.onlineChat}),(0,xa.jsxs)("div",{children:[(0,xa.jsx)(VP,{placeholder:f.namePh,value:te,onChange:e=>ne(e.target.value),required:!0}),(0,xa.jsx)(VP,{type:"email",placeholder:f.emailPh,value:re,onChange:e=>ie(e.target.value),style:{marginTop:8}}),(0,xa.jsx)(VP,{placeholder:f.phonePh,value:J,onChange:e=>ee(e.target.value),style:{marginTop:8},required:!0}),(0,xa.jsx)(HP,{onClick:async()=>{if(te.trim()&&J.trim())try{const e=await fetch("".concat(OT.API_BASE,"/api/customers"),{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({name:te.trim(),email:(re||"").trim(),phone:J.trim(),propertyId:s,note:"Details form \u2022 ".concat(window.location.href," \u2022 ").concat(_||"").trim()})}),t=await e.json().catch(()=>({}));if(!e.ok||null===t||void 0===t||!t.ok)throw console.warn("POST /api/customers failed:",e.status,t),new Error((null===t||void 0===t?void 0:t.error)||"HTTP ".concat(e.status));alert(f.thanksContact(te,re,J)),ne(""),ie(""),ee("")}catch(VO){console.error("customers send error:",VO);alert("ru"===c?"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.":"en"===c?"Failed to send. Please try again.":"\u0549\u0570\u0561\u057b\u0578\u0572\u057e\u0565\u0581 \u0578\u0582\u0572\u0561\u0580\u056f\u0565\u056c\u0589 \u0553\u0578\u0580\u0571\u0565\u0584 \u056f\u0580\u056f\u056b\u0576\u0589")}else alert(f.needNamePhone)},children:f.send})]}),Se&&(0,xa.jsxs)(nI,{children:[(0,xa.jsx)(lI,{children:"\u053b\u057a\u0578\u057f\u0565\u056f\u0561\u0575\u056b \u0570\u0561\u0577\u057e\u056b\u0579"}),(0,xa.jsxs)(rI,{children:[(0,xa.jsxs)(iI,{children:[(0,xa.jsxs)("span",{children:["\u0533\u0578\u0582\u0575\u0584\u056b \u0561\u0580\u056a\u0565\u0584 / \u054e\u0561\u0580\u056f\u056b \u0563\u0578\u0582\u0574\u0561\u0580 (",he,")"]}),(0,xa.jsx)(oI,{type:"number",min:"0",step:"0.01",value:Le,onChange:e=>Ne(Number(e.target.value))})]}),(0,xa.jsxs)(iI,{children:[(0,xa.jsxs)("span",{children:["\u054d\u056f\u0566\u0562\u0576\u0561\u056f\u0561\u0576 \u0574\u0578\u0582\u056e\u0578\u0582\u0574 (",he,")"]}),(0,xa.jsx)(oI,{type:"number",min:"0",step:"0.01",value:Oe,onChange:e=>je(Number(e.target.value))})]}),(0,xa.jsxs)(iI,{children:[(0,xa.jsx)("span",{children:"\u054f\u0587\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576 (\u057f\u0561\u0580\u056b)"}),(0,xa.jsx)(oI,{type:"number",min:"1",step:"1",value:Re,onChange:e=>Me(Number(e.target.value))})]}),(0,xa.jsxs)(iI,{children:[(0,xa.jsx)("span",{children:"\u054f\u0578\u056f\u0578\u057d\u0561\u0564\u0580\u0578\u0582\u0575\u0584 (% \u057f\u0561\u0580\u0565\u056f\u0561\u0576)"}),(0,xa.jsx)(oI,{type:"number",min:"0",step:"0.1",value:De,onChange:e=>ze(Number(e.target.value))})]})]}),(0,xa.jsxs)(sI,{type:"button",disabled:!0,children:["\u0531\u0574\u057d\u0561\u056f\u0561\u0576 \u057e\u0573\u0561\u0580\u0578\u0582\u0574\u055d ",(e=>{const t=Number(e||0);return("AMD"===he?Math.round(t):Math.round(100*t)/100).toLocaleString()+" "+he})(Fe)]}),(0,xa.jsx)(aI,{children:"\u054d\u0561 \u0576\u0561\u056d\u0576\u0561\u056f\u0561\u0576 \u0570\u0561\u0577\u057e\u0561\u0580\u056f \u0567 \u0587 \u056f\u0561\u0580\u0578\u0572 \u0567 \u057f\u0561\u0580\u0562\u0565\u0580\u057e\u0565\u056c \u0562\u0561\u0576\u056f\u056b \u057a\u0561\u0575\u0574\u0561\u0576\u0576\u0565\u0580\u056b\u0581\u0589"})]})]}),(0,xa.jsxs)(eP,{children:[(0,xa.jsxs)(dP,{children:[(0,xa.jsx)(fP,{children:f.amenitiesTitle}),(0,xa.jsx)(pP,{children:x.map((e,t)=>(0,xa.jsxs)(mP,{children:[(0,xa.jsx)(gP,{children:(0,xa.jsx)(Di,{size:12})}),e]},"".concat(e,"-").concat(t)))})]}),(0,xa.jsx)(dP,{children:(0,xa.jsxs)(vP,{children:[(0,xa.jsx)(yP,{as:"a",href:"tel:+37477447599",$green:!0,children:f.actions.call}),(0,xa.jsx)(yP,{type:"button",onClick:()=>ke(!0),children:f.actions.request}),(0,xa.jsx)(yP,{type:"button",onClick:()=>l("/"),children:f.actions.other})]})}),B&&(0,xa.jsxs)(dP,{ref:W,children:[(0,xa.jsxs)(fP,{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.panoramaTitle,(0,xa.jsx)("button",{onClick:()=>Z(!0),"aria-label":"Open 360 in fullscreen",style:{border:"none",background:"#16323f",color:"#fff",borderRadius:8,padding:"6px 8px",cursor:"pointer"},children:"\u26f6"})]}),(0,xa.jsx)(XP,{ref:q,"aria-label":"360 panorama viewer"}),F.length>1&&(0,xa.jsx)("div",{style:{display:"flex",gap:8,marginTop:10,flexWrap:"wrap"},children:F.map((e,t)=>(0,xa.jsx)("button",{onClick:()=>V(t),style:{padding:"6px 10px",borderRadius:8,border:t===U?"2px solid #f0ae00":"1px solid #d1d5db",background:t===U?"#fff7e6":"#fff",fontWeight:700,cursor:"pointer"},"aria-label":"Switch to 360 #".concat(t+1),title:"360 #".concat(t+1),children:t+1},t))})]}),(0,xa.jsxs)(dP,{children:[(0,xa.jsx)(fP,{children:f.location}),(0,xa.jsx)(EP,{children:(0,xa.jsxs)(ZC,{center:[N,O],zoom:14,scrollWheelZoom:!1,children:[(0,xa.jsx)(tT,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),(0,xa.jsx)(oT,{position:[N,O],icon:GA,children:(0,xa.jsx)(aT,{children:b.title})})]})})]}),Array.isArray(j)&&j.length>0&&(0,xa.jsxs)(dP,{children:[(0,xa.jsx)(fP,{children:f.recommended}),(0,xa.jsxs)(kP,{children:[(0,xa.jsx)(CP,{children:(0,xa.jsx)(TP,{style:{transform:"translateX(-".concat(100*Y,"%)")},children:Array.from({length:Q}).map((e,t)=>{const n=3*t,r=j.slice(n,n+3);return(0,xa.jsx)(AP,{children:(0,xa.jsx)(PP,{children:r.map(e=>{var t,n;return(0,xa.jsx)("div",{onClick:()=>l("/property/".concat(e.id)),role:"button",children:(0,xa.jsxs)(IP,{children:[(0,xa.jsx)(LP,{src:Array.isArray(e.images)?e.images[0]:e.image||"",alt:e.title}),(0,xa.jsxs)(NP,{children:[(0,xa.jsx)("h4",{style:{margin:0},children:e.title}),(0,xa.jsxs)(OP,{children:[(0,xa.jsxs)("span",{children:[(0,xa.jsx)(Ri,{})," ",e.beds," ",f.beds]}),(0,xa.jsxs)("span",{children:[(0,xa.jsx)(ji,{})," ",e.baths," ",f.baths]}),(0,xa.jsxs)("span",{children:[(0,xa.jsx)(Ui,{})," ",null!==(t=null!==(n=e.area)&&void 0!==n?n:e.sqft)&&void 0!==t?t:"\u2014"]})]}),(0,xa.jsxs)(jP,{children:["$",Number(e.price||0).toLocaleString()]})]})]})},e.id)})})},t)})})}),Q>1&&(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsx)(MP,{onClick:()=>X(e=>(e-1+Q)%Q),"aria-label":"Previous",children:"\u2039"}),(0,xa.jsx)(DP,{onClick:()=>X(e=>(e+1)%Q),"aria-label":"Next",children:"\u203a"})]})]})]})]})]}),(0,xa.jsx)(vT,{isOpen:C,onClose:()=>T(!1),images:F}),K&&(0,xa.jsxs)(JP,{onClick:()=>Z(!1),children:[(0,xa.jsx)(tI,{onClick:e=>{e.stopPropagation(),Z(!1)},children:"\u2715"}),(0,xa.jsx)(eI,{ref:$,onClick:e=>e.stopPropagation(),children:(0,xa.jsx)("div",{ref:G,style:{width:"100%",height:"100%"}})})]}),I&&k.length>0&&(0,xa.jsxs)(KP,{onClick:()=>L(!1),children:[(0,xa.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,xa.jsx)(ZP,{src:k[Math.min(A,k.length-1)],alt:"photo"})}),k.length>1&&(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsx)($P,{"aria-label":"Prev",onClick:e=>{e.stopPropagation(),P(e=>(e-1+k.length)%k.length)},children:"\u2039"}),(0,xa.jsx)(QP,{"aria-label":"Next",onClick:e=>{e.stopPropagation(),P(e=>(e+1)%k.length)},children:"\u203a"})]}),(0,xa.jsx)(YP,{"aria-label":"Close",onClick:e=>{e.stopPropagation(),L(!1)},children:"\xd7"})]}),Ee&&(0,xa.jsx)(bP,{onClick:()=>ke(!1),children:(0,xa.jsxs)(_P,{onClick:e=>e.stopPropagation(),children:[(0,xa.jsx)(wP,{children:f.modal.title}),(0,xa.jsx)(VP,{placeholder:f.modal.namePh,value:Ce,onChange:e=>Te(e.target.value)}),(0,xa.jsx)(VP,{placeholder:f.modal.phonePh,value:Ae,onChange:e=>Pe(e.target.value),style:{marginTop:8}}),(0,xa.jsxs)(xP,{children:[(0,xa.jsx)(SP,{onClick:()=>ke(!1),children:f.modal.cancel}),(0,xa.jsx)(yP,{onClick:()=>{if(!Ce.trim()||!Ae.trim())return alert(f.modal.need);alert(f.modal.thanks(Ce,Ae)),ke(!1),Te(""),Pe("")},children:f.modal.send})]})]})}),oe&&(0,xa.jsx)(BC,{messages:ce,input:se,setInput:le,onSend:async()=>{const e=(se||"").trim();if(!e)return;ue(t=>[...t,{text:e,sender:"user",ts:Date.now(),threadId:OT.getThreadId(),_temp:!0}]),le("");const t=u(u({},{source:"details",propertyId:s,page:window.location.href,title:_}),d());await OT.getOrCreateThread(t),await OT.sendMessage({text:e})},onClose:()=>ae(!1),lang:c})]})};var dI,fI,pI,mI,gI,vI,yI,bI,_I;const wI=vi.div(dI||(dI=t(["\n  background: #fff;\n  padding: 100px 20px 60px;\n  min-height: 100vh;\n  color: #1A3D4D;\n  @media (min-width: 768px) { padding: 120px 40px 80px; }\n"]))),xI=vi.div(fI||(fI=t(["\n  max-width: 780px; margin: 0 auto; background: #ffffff;\n  border: 1px solid #eef0f3; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.06);\n  padding: 24px; @media (min-width: 768px) { padding: 32px; }\n"]))),SI=vi.h2(pI||(pI=t(["margin: 0 0 20px 0; font-size: 28px;"]))),EI=vi.div(mI||(mI=t(["\n  display: grid; grid-template-columns: 1fr; gap: 14px;\n  @media (min-width: 640px) { grid-template-columns: 1fr 1fr; }\n"]))),kI=vi.label(gI||(gI=t(["display:block;font-size:14px;color:#5a7184;margin-bottom:6px;"]))),CI=vi.select(vI||(vI=t(["\n  width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;background:#fff;color:#1A3D4D;\n"]))),TI=vi.input(yI||(yI=t(["\n  width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;color:#1A3D4D;\n"]))),AI=vi.textarea(bI||(bI=t(["\n  width:100%;min-height:140px;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;color:#1A3D4D;resize:vertical;\n"]))),PI=vi.button(_I||(_I=t(["\n  margin-top:16px;padding:12px 18px;background:#f0ae00;color:#fff;border:none;border-radius:8px;font-weight:700;cursor:pointer;width:100%;\n  &:hover{background:#e6a700;}\n"]))),II=(()=>{const e="undefined"!==typeof window?window:{},t=e.location||{origin:""},n=/^(localhost|127\.0\.0\.1)$/.test(t.hostname||""),r=t.origin||"http://localhost:3000",i=n?r.replace(":3000",":4000"):r;return(e.__PULSE_API_BASE||"").replace(/\/$/,"")||i||"http://localhost:4000"})(),LI={en:{title:"Have a real estate for sale",propertyType:"Property Type",dealType:"Deal Type",fullName:"Full Name",phone:"Phone Number",email:"Email",notesLabel:"Additional information",chooseType:"Choose type\u2026",chooseDeal:"Choose deal\u2026",fullNamePh:"Your full name\u2026",phonePh:"Your phone number\u2026",emailPh:"Your email\u2026",notesPh:"Anything else we should know\u2026",types:{commercial:"Commercial Property",apartment:"Apartment",land:"Land",house:"House"},deals:{selling:"Selling",rent:"Rent"},send:"Send",alertFill:"Please fill in: Property Type, Deal Type, Full Name and Phone.",okSent:"Thanks! We will contact you soon.",fail:"Failed to send. Please try again."},ru:{title:"\u0415\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443",propertyType:"\u0422\u0438\u043f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438",dealType:"\u0422\u0438\u043f \u0441\u0434\u0435\u043b\u043a\u0438",fullName:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",phone:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",email:"Email",notesLabel:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",chooseType:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f\u2026",chooseDeal:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0434\u0435\u043b\u043a\u0443\u2026",fullNamePh:"\u0412\u0430\u0448\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f\u2026",phonePh:"\u0412\u0430\u0448 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430\u2026",emailPh:"\u0412\u0430\u0448 email\u2026",notesPh:"\u041b\u044e\u0431\u0430\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f\u2026",types:{commercial:"\u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0430\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c",apartment:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430",land:"\u0417\u0435\u043c\u043b\u044f",house:"\u0414\u043e\u043c"},deals:{selling:"\u041f\u0440\u043e\u0434\u0430\u0436\u0430",rent:"\u0410\u0440\u0435\u043d\u0434\u0430"},send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",alertFill:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435: \u0422\u0438\u043f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u0422\u0438\u043f \u0441\u0434\u0435\u043b\u043a\u0438, \u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f \u0438 \u0422\u0435\u043b\u0435\u0444\u043e\u043d.",okSent:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u041c\u044b \u0441\u043a\u043e\u0440\u043e \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438.",fail:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."},hy:{title:"\u0548\u0582\u0576\u0565\u055e\u0584 \u057e\u0561\u0573\u0561\u057c\u0584\u056b \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584",propertyType:"\u0533\u0578\u0582\u0575\u0584\u056b \u057f\u0565\u057d\u0561\u056f",dealType:"\u0533\u0578\u0580\u056e\u0561\u0580\u0584\u056b \u057f\u0565\u057d\u0561\u056f",fullName:"\u0531\u0574\u0562\u0578\u0572\u057b\u0561\u056f\u0561\u0576 \u0561\u0576\u0578\u0582\u0576",phone:"\u0540\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580",email:"\u0537\u056c. \u0583\u0578\u057d\u057f",notesLabel:"\u053c\u0580\u0561\u0581\u0578\u0582\u0581\u056b\u0579 \u056b\u0576\u0586\u0578\u0580\u0574\u0561\u0581\u056b\u0561",chooseType:"\u0538\u0576\u057f\u0580\u0565\u0584 \u057f\u0565\u057d\u0561\u056f\u0568\u2026",chooseDeal:"\u0538\u0576\u057f\u0580\u0565\u0584 \u0563\u0578\u0580\u056e\u0561\u0580\u0584\u0568\u2026",fullNamePh:"\u0541\u0565\u0580 \u0561\u0574\u0562\u0578\u0572\u057b\u0561\u056f\u0561\u0576 \u0561\u0576\u0578\u0582\u0576\u0568\u2026",phonePh:"\u0541\u0565\u0580 \u0570\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580\u0568\u2026",emailPh:"\u0541\u0565\u0580 \u0567\u056c. \u0583\u0578\u057d\u057f\u0568\u2026",notesPh:"\u0531\u0575\u056c \u057f\u0565\u0572\u0565\u056f\u0578\u0582\u0569\u0575\u0578\u0582\u0576, \u0578\u0580\u0568 \u057a\u0565\u057f\u0584 \u0567 \u056b\u0574\u0561\u0576\u0561\u0576\u0584\u2026",types:{commercial:"\u0531\u057c\u0587\u057f\u0580\u0561\u0575\u056b\u0576 \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584",apartment:"\u0532\u0576\u0561\u056f\u0561\u0580\u0561\u0576",land:"\u0540\u0578\u0572",house:"\u054f\u0578\u0582\u0576"},deals:{selling:"\u054e\u0561\u0573\u0561\u057c\u0584",rent:"\u054e\u0561\u0580\u0571\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576"},send:"\u0548\u0582\u0572\u0561\u0580\u056f\u0565\u056c",alertFill:"\u053d\u0576\u0564\u0580\u0578\u0582\u0574 \u0565\u0576\u0584 \u056c\u0580\u0561\u0581\u0576\u0565\u056c\u055d \u0533\u0578\u0582\u0575\u0584\u056b \u057f\u0565\u057d\u0561\u056f, \u0533\u0578\u0580\u056e\u0561\u0580\u0584\u056b \u057f\u0565\u057d\u0561\u056f, \u0531\u0576\u0578\u0582\u0576 \u0587 \u0540\u0565\u057c\u0561\u056d\u0578\u057d\u0561\u0570\u0561\u0574\u0561\u0580\u0589",okSent:"\u0547\u0576\u0578\u0580\u0570\u0561\u056f\u0561\u056c\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0589 \u0544\u0565\u0576\u0584 \u0577\u0578\u0582\u057f\u0578\u057e \u056f\u0561\u057a \u056f\u0570\u0561\u057d\u057f\u0561\u057f\u0565\u0576\u0584\u0589",fail:"\u0549\u0570\u0561\u057b\u0578\u0572\u057e\u0565\u0581 \u0578\u0582\u0572\u0561\u0580\u056f\u0565\u056c\u0589 \u0553\u0578\u0580\u0571\u0565\u0584 \u056f\u0580\u056f\u056b\u0576\u0589"}};function NI(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(""),[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[h,d]=(0,r.useState)(""),[f,p]=(0,r.useState)(document.documentElement.lang||localStorage.getItem("lang")||"en"),m=LI[f]||LI.en;(0,r.useEffect)(()=>{try{const e=JSON.parse(localStorage.getItem("pulse_user")||"null");e&&(e.name&&a(e.name),e.phone&&l(e.phone),e.email&&u(e.email))}catch(e){}},[]),(0,r.useEffect)(()=>{const e=document.documentElement,t=new MutationObserver(t=>{for(const n of t)"attributes"===n.type&&"lang"===n.attributeName&&p(e.lang||"en")});return t.observe(e,{attributes:!0}),()=>t.disconnect()},[]);return(0,xa.jsx)(wI,{children:(0,xa.jsxs)(xI,{children:[(0,xa.jsx)(SI,{children:m.title}),(0,xa.jsxs)(EI,{children:[(0,xa.jsxs)("div",{children:[(0,xa.jsx)(kI,{children:m.propertyType}),(0,xa.jsxs)(CI,{value:e,onChange:e=>t(e.target.value),required:!0,children:[(0,xa.jsx)("option",{value:"",disabled:!0,children:m.chooseType}),(0,xa.jsx)("option",{value:m.types.commercial,children:m.types.commercial}),(0,xa.jsx)("option",{value:m.types.apartment,children:m.types.apartment}),(0,xa.jsx)("option",{value:m.types.land,children:m.types.land}),(0,xa.jsx)("option",{value:m.types.house,children:m.types.house})]})]}),(0,xa.jsxs)("div",{children:[(0,xa.jsx)(kI,{children:m.dealType}),(0,xa.jsxs)(CI,{value:n,onChange:e=>i(e.target.value),required:!0,children:[(0,xa.jsx)("option",{value:"",disabled:!0,children:m.chooseDeal}),(0,xa.jsx)("option",{value:m.deals.selling,children:m.deals.selling}),(0,xa.jsx)("option",{value:m.deals.rent,children:m.deals.rent})]})]})]}),(0,xa.jsxs)(EI,{style:{marginTop:14},children:[(0,xa.jsxs)("div",{children:[(0,xa.jsx)(kI,{children:m.fullName}),(0,xa.jsx)(TI,{placeholder:m.fullNamePh,value:o,onChange:e=>a(e.target.value),required:!0})]}),(0,xa.jsxs)("div",{children:[(0,xa.jsx)(kI,{children:m.phone}),(0,xa.jsx)(TI,{placeholder:m.phonePh,value:s,onChange:e=>l(e.target.value),required:!0})]})]}),(0,xa.jsxs)("div",{style:{marginTop:14},children:[(0,xa.jsx)(kI,{children:m.email}),(0,xa.jsx)(TI,{type:"email",placeholder:m.emailPh,value:c,onChange:e=>u(e.target.value)})]}),(0,xa.jsxs)("div",{style:{marginTop:14},children:[(0,xa.jsx)(kI,{children:m.notesLabel}),(0,xa.jsx)(AI,{placeholder:m.notesPh,value:h,onChange:e=>d(e.target.value)})]}),(0,xa.jsx)(PI,{onClick:async()=>{if(e&&n&&o.trim()&&s.trim())try{try{localStorage.setItem("pulse_user",JSON.stringify({name:o.trim(),phone:s.trim(),email:(c||"").trim()}))}catch(r){}const f=await fetch("".concat(II,"/api/leads/sell"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:o.trim(),phone:s.trim(),email:(c||"").trim(),propertyType:e,dealType:n,note:(h||"").trim(),pageUrl:window.location.href})}),p=await f.json().catch(()=>({}));if(!f.ok||null===p||void 0===p||!p.ok)throw new Error((null===p||void 0===p?void 0:p.error)||"save failed");alert(m.okSent),t(""),i(""),a(""),l(""),u(""),d("")}catch(f){alert(m.fail)}else alert(m.alertFill)},children:m.send})]})})}var OI,jI,RI,MI,DI,zI,FI,BI;const{API_BASE:UI,WS_BASE:VI,WS_PATH:HI}=(()=>{const e="undefined"!==typeof window?window:{},t=e.location||{origin:""},n=/^(localhost|127\.0\.0\.1)$/.test(t.hostname||""),r=t.origin||"http://localhost:3000",i=n?r.replace(":3000",":4000"):r,o=(e.__PULSE_API_BASE||"").replace(/\/$/,"")||i||"http://localhost:4000",a=(e.__PULSE_WS_BASE||"").replace(/\/$/,"")||i||"http://localhost:4000",s=e.__PULSE_WS_PATH||"/socket.io";try{console.log("[ADMIN CHAT] API_BASE=",o,"WS_BASE=",a,"WS_PATH=",s)}catch(l){}return{API_BASE:o,WS_BASE:a,WS_PATH:s}})(),qI=vi.div(OI||(OI=t(["\n  display: flex; gap: 16px; width: 100%; height: calc(100vh - 32px);\n  box-sizing: border-box; overflow: hidden;\n"]))),WI=vi.div(jI||(jI=t(["\n  width: 320px; border-right: 1px solid #eee; height: 100%; overflow: auto;\n"]))),KI=vi.div(RI||(RI=t(["\n  flex: 1; height: 100%; min-height: 0; display: flex; flex-direction: column; overflow: hidden;\n"]))),ZI=vi.button(MI||(MI=t(["\n  width: 100%; text-align: left; padding: 10px; border: none;\n  background: ",";\n  border-bottom: 1px solid #f1f1f1; cursor: pointer;\n"])),e=>e.$active?"#fff7e6":"#fff"),GI=vi.div(DI||(DI=t(["\n  flex: 1; padding: 12px; overflow: auto; background: #fafafa; display: flex; flex-direction: column;\n"]))),$I=vi.div(zI||(zI=t(["\n  max-width: 70%; margin: 6px 0; padding: 8px 12px; border-radius: 12px;\n  align-self: ",";\n  background: ",";\n  box-shadow: 0 1px 3px rgba(0,0,0,.06);\n"])),e=>e.$mine?"flex-end":"flex-start",e=>e.$mine?"#e8f4ff":"#fff"),QI=vi.form(FI||(FI=t(["\n  display: flex; gap: 8px; padding: 8px; background: #fff; border-top: 1px solid #eee;\n"]))),YI=vi.input(BI||(BI=t(["\n  flex: 1; padding: 10px 12px; border: 1px solid #ddd; border-radius: 8px;\n"]))),XI=da("".concat(VI,"/chat"),{path:HI,transports:["websocket","polling"],withCredentials:!0,autoConnect:!0,reconnection:!0});async function JI(e){const t="".concat(UI).concat(e),n=await fetch(t,{cache:"no-store",headers:{"cache-control":"no-cache",pragma:"no-cache"}});if(204===n.status||304===n.status)return null;const r=await n.text();if(!r)return null;try{return JSON.parse(r)}catch(i){return null}}XI.on("connect_error",e=>console.warn("WS connect error:",(null===e||void 0===e?void 0:e.message)||e));const eL=e=>Array.isArray(e)?e:(null===e||void 0===e?void 0:e.items)||(null===e||void 0===e?void 0:e.data)||[],tL=e=>{var t,n,r;return(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name)||(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.email)||(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.phone)||(null===e||void 0===e?void 0:e.title)||(null===e||void 0===e?void 0:e.id)||"\u0533\u0578\u0580\u056e\u0568\u0576\u056f\u0565\u0580"},nL=e=>e&&"object"===typeof e&&null!=e._seconds?1e3*e._seconds:e&&"function"===typeof(null===e||void 0===e?void 0:e.toMillis)?e.toMillis():e&&null!=e.seconds?1e3*e.seconds:"number"===typeof e?e:0;function rL(e){var t,n,r;const i=((null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name)||"").trim().toLowerCase();if(i)return"name:".concat(i);const o=((null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.email)||"").trim().toLowerCase();if(o)return"email:".concat(o);const a=((null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.phone)||"").trim();return a?"phone:".concat(a):"id:".concat((null===e||void 0===e?void 0:e.id)||"")}function iL(e){const t=new Map;for(const n of e||[]){const e=rL(n),r=t.get(e);if(!r){t.set(e,n);continue}const i=nL(r.lastMessageAt);nL(n.lastMessageAt)>i&&t.set(e,n)}return Array.from(t.values()).sort((e,t)=>nL(t.lastMessageAt)-nL(e.lastMessageAt))}function oL(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(null),[o,a]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),c=(0,r.useRef)(null),h=(0,r.useRef)({}),d=(0,r.useRef)(!0),f=(0,r.useRef)({});(0,r.useEffect)(()=>{try{h.current=JSON.parse(localStorage.getItem("pulse:chat:readLocksAdmin")||"{}")}catch(e){}try{localStorage.setItem("pulse:chat:unreadAdminTotal","0"),window.dispatchEvent(new CustomEvent("pulse:admin-unread-changed",{detail:{total:0}}))}catch(t){}XI.emit("join",{role:"admin"})},[]);const p=(0,r.useCallback)(e=>{const t=(Array.isArray(e)?e:[]).reduce((e,t)=>e+Number((null===t||void 0===t?void 0:t.unreadAdmin)||0),0);try{localStorage.setItem("pulse:chat:unreadAdminTotal",String(t))}catch(n){}window.dispatchEvent(new CustomEvent("pulse:admin-unread-changed",{detail:{total:t}}))},[]),m=(0,r.useCallback)(e=>{const t=h.current||{};return(e||[]).map(e=>t[e.id]?u(u({},e),{},{unreadAdmin:0}):e)},[]),g=(0,r.useCallback)(async()=>{try{const n=await JI("/api/chat/threads");if(null==n)return;const r=(eL(n)||[]).filter(e=>{var t;return String((null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name)||"").trim().length>0});if(d.current){const t=u({},h.current||{});let n=!1;for(const e of r)t[e.id]||(t[e.id]=!0,n=!0);if(n){h.current=t;try{localStorage.setItem("pulse:chat:readLocksAdmin",JSON.stringify(t))}catch(e){}}d.current=!1}const i=iL(m(r));t(i),p(i)}catch(VO){console.warn("threads load failed",VO)}},[m,p]),v=(0,r.useCallback)(async e=>{if(e)try{const t=await JI("/api/chat/".concat(e,"/messages")),n=null==t?[]:eL(t);a(n),queueMicrotask(()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.scrollTo({top:1e9,behavior:"auto"})})}catch(VO){console.warn("messages load failed",VO)}else a([])},[]);(0,r.useEffect)(()=>{g()},[g]),(0,r.useEffect)(()=>{const e=setInterval(g,4e3);return()=>clearInterval(e)},[g]),(0,r.useEffect)(()=>{const e=e=>{if(null===e||void 0===e||!e.threadId)return;const r=e.threadId;if("user"===e.sender){h.current[r]=!1;try{localStorage.setItem("pulse:chat:readLocksAdmin",JSON.stringify(h.current))}catch(i){}}if(t(t=>{let n=t.map(t=>t.id===r?u(u({},t),{},{lastMessageText:e.text}):t);return n=iL(n),n=m(n),p(n),n}),r===n){const t="".concat(e.sender,"|").concat(e.text),n=Date.now();if(n-(f.current[t]||0)<1500)return;f.current[t]=n,a(t=>{const n=t.filter(t=>!(null!==t&&void 0!==t&&t._temp&&t.sender===e.sender&&t.text===e.text));return[...n,e]}),queueMicrotask(()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.scrollTo({top:1e9,behavior:"smooth"})})}},r=()=>g();return XI.on("message",e),XI.on("thread:update",r),XI.on("thread:new",r),()=>{XI.off("message",e),XI.off("thread:update",r),XI.off("thread:new",r)}},[n,m,g,p]),(0,r.useEffect)(()=>{!n&&e.length>0&&y(e[0].id)},[e,n]);const y=async e=>{if(e){i(e),h.current[e]=!0;try{localStorage.setItem("pulse:chat:readLocksAdmin",JSON.stringify(h.current))}catch(n){}XI.emit("join",{threadId:e,role:"admin"}),await v(e),XI.emit("read",{threadId:e,side:"admin"}),t(t=>{const n=t.map(t=>t.id===e?u(u({},t),{},{unreadAdmin:0}):t);return p(n),n}),queueMicrotask(()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.scrollTo({top:1e9,behavior:"auto"})})}},b=e=>{if(e.preventDefault(),!s.trim()||!n)return;const r={threadId:n,text:s.trim(),sender:"admin"},i=u(u({},r),{},{id:"c-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2)),ts:Date.now(),_temp:!0});a(e=>[...e,i]),t(e=>e.map(e=>e.id===n?u(u({},e),{},{lastMessageText:r.text}):e)),l(""),queueMicrotask(()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.scrollTo({top:1e9,behavior:"smooth"})});let o=!1;const h=setTimeout(async()=>{if(!o)try{await fetch("".concat(UI,"/api/chat/message"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(r)})}catch(HO){console.warn("[AdminChat] HTTP fallback failed:",(null===HO||void 0===HO?void 0:HO.message)||HO)}},1500);try{XI.emit("message",r,e=>{o=!!e,o&&clearTimeout(h)})}catch(d){}},_=(0,r.useMemo)(()=>e.find(e=>e.id===n),[e,n]);return(0,xa.jsxs)(qI,{children:[(0,xa.jsxs)(WI,{children:[0===e.length&&(0,xa.jsx)("div",{style:{padding:12,color:"#888"},children:"\u0531\u0575\u057d\u057f\u0565\u0572 \u056f\u0570\u0561\u0575\u057f\u0576\u057e\u0565\u0576 \u0561\u0575\u0576 \u0579\u0561\u057f\u0565\u0580\u0568, \u0578\u0580\u057f\u0565\u0572 \u0585\u0563\u057f\u0561\u057f\u0565\u0580\u0568 \u0576\u0577\u0565\u056c \u0567 \u0561\u0576\u0578\u0582\u0576\u0568\u0589"}),e.map(e=>(0,xa.jsxs)(ZI,{onClick:()=>y(e.id),$active:e.id===n,children:[(0,xa.jsx)("div",{style:{fontWeight:700},children:tL(e)}),(0,xa.jsx)("div",{style:{fontSize:12,color:"#666"},children:e.lastMessageText}),Number(e.unreadAdmin||0)>0?(0,xa.jsxs)("div",{style:{fontSize:12,color:"#d00"},children:["\u0546\u0435\u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e: ",Number(e.unreadAdmin||0)]}):(0,xa.jsx)("div",{style:{fontSize:12,color:"#16a34a"},children:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e"})]},e.id))]}),(0,xa.jsxs)(KI,{children:[(0,xa.jsx)("div",{style:{padding:"8px 12px",borderBottom:"1px solid #eee",background:"#fff"},children:_?tL(_):"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433"}),(0,xa.jsx)(GI,{ref:c,children:o.map(e=>(0,xa.jsx)($I,{$mine:"admin"===e.sender,children:(0,xa.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e.text})},e.id||"".concat(e.ts,"-").concat(Math.random())))}),(0,xa.jsxs)(QI,{onSubmit:b,children:[(0,xa.jsx)(YI,{value:s,onChange:e=>l(e.target.value),placeholder:n?"\u0412\u0430\u0448 \u043e\u0442\u0432\u0435\u0442\u2026":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0438\u0430\u043b\u043e\u0433",disabled:!n,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b(e))}}),(0,xa.jsx)("button",{type:"submit",disabled:!n||!s.trim(),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})]})}var aL,sL,lL,cL,uL,hL,dL,fL;const pL=vi.div(aL||(aL=t(["\n  display:flex;\n  min-height:100vh;\n  background:#fff;\n"]))),mL=vi.aside(sL||(sL=t(["\n  width:240px;\n  background:#1f2937;\n  color:#fff;\n  padding:16px;\n  display:flex; flex-direction:column; gap:12px; position:sticky; top:0; height:100vh;\n"]))),gL=vi.div(lL||(lL=t(["font-weight:800; margin:4px 0 8px; opacity:.95;"]))),vL=vi(_t)(cL||(cL=t(["\n  display:flex; align-items:center; justify-content:space-between;\n  width:100%; padding:10px 12px; color:",";\n  background:","; border-radius:8px; text-decoration:none; font-weight:700;\n  &:hover{ background:","; color:#fff; }\n"])),e=>e.$active?"#0f172a":"#e5e7eb",e=>e.$active?"#facc15":"transparent",e=>e.$active?"#facc15":"rgba(255,255,255,.08)"),yL=vi.span(uL||(uL=t(["\n  min-width:20px; height:20px; padding:0 6px; border-radius:999px; background:#ef4444; color:#fff;\n  font-size:12px; font-weight:800; display:inline-flex; align-items:center; justify-content:center;\n"]))),bL=vi.hr(hL||(hL=t(["border:none; height:1px; background:rgba(255,255,255,.12); margin:8px 0;"]))),_L=vi.button(dL||(dL=t(["\n  display:block; width:100%; padding:12px; border:none; border-radius:10px; background:#ef4444; color:#fff;\n  font-weight:800; cursor:pointer; margin-top:auto; &:hover{ filter:brightness(.95); }\n"]))),wL=vi.main(fL||(fL=t(["flex:1; padding:16px;"]))),xL=["__PULSE_TOKEN","pulse_admin_token","token","auth_token","jwt"];function SL(){try{if("undefined"!==typeof window&&window.__PULSE_TOKEN)return String(window.__PULSE_TOKEN);for(const e of xL){const t=localStorage.getItem(e);if(t)return String(t)}if("undefined"!==typeof document){const e="; ".concat(document.cookie);for(const t of["token","auth_token"]){const n=e.split("; ".concat(t,"="));if(2===n.length)return n.pop().split(";").shift()}}}catch(e){}return""}async function EL(e){try{const t=SL(),n=await fetch("".concat("http://localhost:4000").concat(e),{cache:"no-store",credentials:"include",headers:u({"cache-control":"no-cache",pragma:"no-cache"},t?{Authorization:"Bearer ".concat(t)}:{})});if(!n.ok)return null;const r=await n.text();return r?JSON.parse(r):null}catch(t){return null}}const kL=e=>Array.isArray(e)?e:(null===e||void 0===e?void 0:e.items)||(null===e||void 0===e?void 0:e.data)||[];function CL(){const e=de(),t=me(),[n,i]=(0,r.useState)(0),[o,a]=(0,r.useState)(()=>{try{return Number(localStorage.getItem("pulse:sell:newCount")||0)}catch(e){return 0}}),[s,l]=(0,r.useState)(()=>{try{return Number(localStorage.getItem("pulse:customers:newCount")||0)}catch(e){return 0}});(0,r.useEffect)(()=>{const e=e=>{var t,n;return i(Number(null!==(t=null===e||void 0===e||null===(n=e.detail)||void 0===n?void 0:n.total)&&void 0!==t?t:0))};window.addEventListener("pulse:admin-unread-changed",e);try{const e=Number(localStorage.getItem("pulse:chat:unreadAdminTotal")||0);i(e)}catch(t){}return()=>window.removeEventListener("pulse:admin-unread-changed",e)},[]),(0,r.useEffect)(()=>{const e=SL(),t=da("".concat("http://localhost:4000","/chat"),{path:"/socket.io",transports:["websocket","polling"],withCredentials:!0,autoConnect:!0,auth:e?{token:e}:void 0});t.on("connect_error",e=>console.warn("WS connect error:",(null===e||void 0===e?void 0:e.message)||e)),t.emit("join",{role:"admin"});const n=async()=>{const e=await EL("/api/chat/threads"),t=(kL(e)||[]).filter(e=>{var t;return String((null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.name)||"").trim().length>0}),n=(()=>{try{return JSON.parse(localStorage.getItem("pulse:chat:readLocksAdmin")||"{}")||{}}catch(e){return{}}})(),r=t.map(e=>{const t=Number(e.unreadAdmin||0);return n[e.id]&&0===t?u(u({},e),{},{unreadAdmin:0}):u(u({},e),{},{unreadAdmin:t})}),o=r.reduce((e,t)=>e+Number(t.unreadAdmin||0),0);try{localStorage.setItem("pulse:chat:unreadAdminTotal",String(o)),localStorage.setItem("pulse:chat:unreadAdminMap",JSON.stringify(Object.fromEntries(r.map(e=>[e.id,Number(e.unreadAdmin||0)]))))}catch(a){}i(o)};t.on("thread:new",n),t.on("thread:update",n),t.on("message",e=>{"user"===(null===e||void 0===e?void 0:e.sender)&&n()}),n();(async()=>{const e=await EL("/api/leads/sell"),t=kL(e)||[],n=Number(localStorage.getItem("pulse:sell:lastSeen")||0),r=t.filter(e=>Number((null===e||void 0===e?void 0:e.createdAt)||0)>n).length;a(r);try{localStorage.setItem("pulse:sell:newCount",String(r))}catch(i){}})();const r=()=>{if(window.location.pathname.startsWith("/admin/sell-leads")){const t=Date.now();try{localStorage.setItem("pulse:sell:lastSeen",String(t)),localStorage.setItem("pulse:sell:newCount","0")}catch(e){}a(0)}else a(e=>{const t=(Number.isFinite(e)?e:0)+1;try{localStorage.setItem("pulse:sell:newCount",String(t))}catch(n){}return t})};t.on("sell:new",r);(async()=>{const e=await EL("/api/customers"),t=kL(e)||[],n=Number(localStorage.getItem("pulse:customers:lastSeen")||0),r=t.filter(e=>Number((null===e||void 0===e?void 0:e.createdAt)||0)>n).length;l(r);try{localStorage.setItem("pulse:customers:newCount",String(r))}catch(i){}})();const o=()=>{if(window.location.pathname.startsWith("/admin/customers")){const t=Date.now();try{localStorage.setItem("pulse:customers:lastSeen",String(t)),localStorage.setItem("pulse:customers:newCount","0")}catch(e){}l(0)}else l(e=>{const t=(Number.isFinite(e)?e:0)+1;try{localStorage.setItem("pulse:customers:newCount",String(t))}catch(n){}return t})};return t.on("customers:new",o),()=>{t.off("thread:new",n),t.off("thread:update",n),t.off("message",n),t.off("sell:new",r),t.off("customers:new",o),t.close()}},[]),(0,r.useEffect)(()=>{if(e.pathname.startsWith("/admin/chat")){i(0);try{localStorage.setItem("pulse:chat:unreadAdminTotal","0")}catch(t){}}},[e.pathname]),(0,r.useEffect)(()=>{if(e.pathname.startsWith("/admin/sell-leads")){const e=Date.now();a(0);try{localStorage.setItem("pulse:sell:lastSeen",String(e)),localStorage.setItem("pulse:sell:newCount","0")}catch(t){}}},[e.pathname]),(0,r.useEffect)(()=>{if(e.pathname.startsWith("/admin/customers")){const e=Date.now();l(0);try{localStorage.setItem("pulse:customers:lastSeen",String(e)),localStorage.setItem("pulse:customers:newCount","0")}catch(t){}}},[e.pathname]);const c="/admin"===e.pathname||"/admin/properties"===e.pathname,h=e.pathname.startsWith("/admin/properties/new")||/\/admin\/properties\/[^/]+$/.test(e.pathname),d=e.pathname.startsWith("/admin/chat"),f=e.pathname.startsWith("/admin/customers"),p=e.pathname.startsWith("/admin/sell-leads");return(0,xa.jsxs)(pL,{children:[(0,xa.jsxs)(mL,{children:[(0,xa.jsx)(gL,{children:"Pulse Admin"}),(0,xa.jsx)(vL,{to:"/admin/properties",$active:c,children:(0,xa.jsx)("span",{children:"\u0533\u056c\u056d\u0561\u057e\u0578\u0580"})}),(0,xa.jsx)(vL,{to:"/admin/properties/new",$active:h,children:(0,xa.jsx)("span",{children:"\u0533\u0578\u0582\u0575\u0584\u0565\u0580"})}),(0,xa.jsxs)(vL,{to:"/admin/chat",$active:d,children:[(0,xa.jsx)("span",{children:"\u0549\u0561\u057f"}),n>0&&(0,xa.jsx)(yL,{children:n})]}),(0,xa.jsxs)(vL,{to:"/admin/customers",$active:f,children:[(0,xa.jsx)("span",{children:"\u0540\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u0576\u0565\u0580\u056b \u057f\u057e\u0575\u0561\u056c\u0576\u0565\u0580"}),s>0&&(0,xa.jsx)(yL,{children:s})]}),(0,xa.jsxs)(vL,{to:"/admin/sell-leads",$active:p,children:[(0,xa.jsx)("span",{children:"\u054e\u0561\u0573\u0561\u057c\u0584\u056b \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584"}),o>0&&(0,xa.jsx)(yL,{children:o})]}),(0,xa.jsx)(bL,{}),(0,xa.jsx)(_L,{onClick:()=>{try{localStorage.removeItem("pulse_admin_token"),localStorage.removeItem("pulse_admin_user"),localStorage.removeItem("pulse_token"),localStorage.removeItem("pulse_user"),window.dispatchEvent(new CustomEvent("pulse:admin-auth",{detail:null}))}finally{t("/admin/login",{replace:!0})}},children:"\u0534\u0578\u0582\u0580\u057d \u0563\u0561\u056c"})]}),(0,xa.jsx)(wL,{children:(0,xa.jsx)(Re,{})})]})}var TL,AL,PL,IL,LL,NL,OL;const jL=vi.div(TL||(TL=t(["\n  min-height:100vh; display:flex; align-items:center; justify-content:center; background:#0f1115;\n"]))),RL=vi.div(AL||(AL=t(["\n  width: 420px; background:#fff; border-radius:12px; padding:22px; box-shadow:0 10px 30px rgba(0,0,0,.2);\n"]))),ML=vi.h2(PL||(PL=t(["margin:0 0 8px 0;"]))),DL=vi.p(IL||(IL=t(["margin:0 0 16px 0; color:#6b7280;"]))),zL=vi.input(LL||(LL=t(["\n  width:100%; padding:10px 12px; border:1px solid #e5e7eb; border-radius:8px;\n"]))),FL=vi.button(NL||(NL=t(["\n  width:100%; padding:10px 14px; background:#f0ae00; border:none; color:#111; font-weight:700; border-radius:8px; cursor:pointer;\n  margin-top:10px;\n"]))),BL=vi.div(OL||(OL=t(["margin-top:8px; font-size:13px;"]))),UL=(()=>{const e="undefined"!==typeof window?window:{},t=e.location||{origin:""},n=/^(localhost|127\.0\.0\.1)$/.test(t.hostname||""),r=t.origin||"http://localhost:3000",i=n?r.replace(":3000",":4000"):r;return(e.__PULSE_API_BASE||"").replace(/\/$/,"")||i||"http://localhost:4000"})();function VL(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!1),s=me();return(0,xa.jsx)(jL,{children:(0,xa.jsxs)(RL,{children:[(0,xa.jsx)(ML,{children:"\u0531\u0564\u0574\u056b\u0576 \u0574\u0578\u0582\u057f\u0584"}),(0,xa.jsx)(DL,{children:"\u0544\u0578\u0582\u057f\u0584 \u0563\u0578\u0580\u056e\u0565\u056c\u0578\u0582 \u0570\u0561\u0574\u0561\u0580 \u0563\u0580\u0565\u0584 \u0585\u0563\u057f\u0561\u0576\u0578\u0582\u0576 \u0587 \u0563\u0561\u0572\u057f\u0576\u0561\u0562\u0561\u057c"}),(0,xa.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!o){a(!0);try{const t=await fetch("".concat(UL,"/api/auth/login"),{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({username:e,password:n})}),i=await t.json().catch(()=>({}));if(!t.ok||null===i||void 0===i||!i.ok||null===i||void 0===i||!i.token)throw new Error((null===i||void 0===i?void 0:i.error)||"login failed");localStorage.setItem("pulse_admin_token",i.token),localStorage.setItem("pulse_admin_user",JSON.stringify(i.user||{username:e}));try{window.dispatchEvent(new CustomEvent("pulse:admin-auth",{detail:i.user||{username:e}}))}catch(r){}s("/admin",{replace:!0})}catch(HO){alert("\u054d\u056d\u0561\u056c \u0585\u0563\u057f\u0561\u0576\u0578\u0582\u0576 \u056f\u0561\u0574 \u0563\u0561\u0572\u057f\u0576\u0561\u0562\u0561\u057c")}finally{a(!1)}}},children:[(0,xa.jsx)(zL,{placeholder:"\u0555\u0563\u057f\u0561\u0576\u0578\u0582\u0576",value:e,onChange:e=>t(e.target.value),autoFocus:!0}),(0,xa.jsx)("div",{style:{height:10}}),(0,xa.jsx)(zL,{type:"password",placeholder:"\u0533\u0561\u0572\u057f\u0576\u0561\u0562\u0561\u057c",value:n,onChange:e=>i(e.target.value)}),(0,xa.jsx)(FL,{type:"submit",disabled:o,children:o?"\u0544\u057f\u0576\u0578\u0582\u0574 \u0567\u2026":"\u0544\u0578\u0582\u057f\u0584"})]}),(0,xa.jsx)(BL,{children:(0,xa.jsx)(_t,{to:"/#/",children:"\u2190 \u054e\u0565\u0580\u0561\u0564\u0561\u0580\u0571 \u056f\u0561\u0575\u0584"})})]})})}var HL,qL,WL,KL,ZL,GL,$L,QL;const YL=vi.div(HL||(HL=t(["background:#fff;border-radius:12px;padding:20px;"]))),XL=vi.div(qL||(qL=t(["display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px;"]))),JL=vi.input(WL||(WL=t(["flex:1;max-width:460px;padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px;"]))),eN=vi(_t)(KL||(KL=t(["\n  background:#111319;color:#fff;text-decoration:none;border-radius:8px;\n  padding:10px 14px;font-weight:600;\n"]))),tN=vi.table(ZL||(ZL=t(["\n  width:100%; border-collapse:collapse; background:#fff; overflow:hidden;\n  th, td{ padding:12px; border-bottom:1px solid #eef0f3; text-align:left; }\n  th{ color:#6b7280; font-weight:600; font-size:13px; }\n"]))),nN=vi.img(GL||(GL=t(["width:72px;height:48px;object-fit:cover;border-radius:6px;display:block;"]))),rN=vi(_t)($L||($L=t(["color:#1f4ad7; margin-right:12px;"]))),iN=vi.button(QL||(QL=t(["color:#e11d48;background:none;border:none;cursor:pointer;"])));function oN(){me();const e=$w&&$w()||[],[t,n]=(0,r.useState)(Array.isArray(e)?e:[]),[i,o]=(0,r.useState)(""),[a,s]=(0,r.useState)(!e.length),l=(0,r.useRef)(Array.isArray(e)?e:[]),c=()=>{try{const e=(Yw||(()=>[]))();if(e&&"function"===typeof e.then)s(!0),e.then(e=>{const t=Array.isArray(e)?e:[];n(t)}).finally(()=>s(!1));else{const t=Array.isArray(e)?e:[];n(t),s(!1)}}catch(e){s(!1)}};(0,r.useEffect)(()=>{c();const e=()=>{const e=$w?$w():[];n(Array.isArray(e)?e:[]),s(!1)};return window.addEventListener("pulse:properties-changed",e),window.addEventListener("storage",e),()=>{window.removeEventListener("pulse:properties-changed",e),window.removeEventListener("storage",e)}},[]),(0,r.useEffect)(()=>{Array.isArray(t)&&t.length&&(l.current=t)},[t]);const u=Array.isArray(t)&&t.length?t:l.current||[],h=(0,r.useMemo)(()=>{const e=i.trim().toLowerCase(),t=Array.isArray(u)?u:[];return e?t.filter(t=>{var n,r,i,o,a;return"".concat(null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:""," ").concat(null!==(r=null===t||void 0===t?void 0:t.title)&&void 0!==r?r:""," ").concat(null!==(i=null===t||void 0===t?void 0:t.description)&&void 0!==i?i:""," ").concat(null!==(o=null===t||void 0===t?void 0:t.type)&&void 0!==o?o:""," ").concat(null!==(a=null===t||void 0===t?void 0:t.status)&&void 0!==a?a:"").toLowerCase().includes(e)}):t},[u,i]);return(0,xa.jsxs)(YL,{children:[(0,xa.jsxs)(XL,{children:[(0,xa.jsx)(JL,{placeholder:"\u0548\u0580\u0578\u0576\u0565\u056c\u2026",value:i,onChange:e=>o(e.target.value)}),(0,xa.jsx)(eN,{to:"/admin/properties/new",children:"+ \u0531\u057e\u0565\u056c\u0561\u0581\u0576\u0565\u056c \u0563\u0578\u0582\u0575\u0584"})]}),(0,xa.jsxs)(tN,{children:[(0,xa.jsx)("thead",{children:(0,xa.jsxs)("tr",{children:[(0,xa.jsx)("th",{children:"ID"}),(0,xa.jsx)("th",{children:"\u053c\u0578\u0582\u057d\u0561\u0576\u056f\u0561\u0580"}),(0,xa.jsx)("th",{children:"\u054e\u0565\u0580\u0576\u0561\u0563\u056b\u0580"}),(0,xa.jsx)("th",{children:"\u053f\u0561\u0580\u0563\u0561\u057e\u056b\u0573\u0561\u056f"}),(0,xa.jsx)("th",{children:"\u054f\u056b\u057a"}),(0,xa.jsx)("th",{children:"\u0533\u056b\u0576"}),(0,xa.jsx)("th",{children:"\u054d\u0565\u0576."}),(0,xa.jsx)("th",{children:"\u054d\u0561\u0576."}),(0,xa.jsx)("th",{children:"\u0533\u0578\u0580\u056e\u0578\u0572\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580"})]})}),(0,xa.jsxs)("tbody",{children:[a&&!u.length&&(0,xa.jsx)("tr",{children:(0,xa.jsx)("td",{colSpan:9,style:{color:"#6b7280",padding:16},children:"\u0532\u0565\u057c\u0576\u0578\u0582\u0574\u2026"})}),(Array.isArray(h)?h:[]).map(e=>{var t,n,r,i;return(0,xa.jsxs)("tr",{children:[(0,xa.jsx)("td",{children:null===e||void 0===e?void 0:e.id}),(0,xa.jsx)("td",{children:(0,xa.jsx)(nN,{src:(null===e||void 0===e||null===(t=e.images)||void 0===t?void 0:t[0])||(null===e||void 0===e?void 0:e.image),alt:""})}),(0,xa.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),(0,xa.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,xa.jsx)("td",{children:null===e||void 0===e?void 0:e.type}),(0,xa.jsxs)("td",{children:["$",(i=null===e||void 0===e?void 0:e.price,"number"===typeof i?i.toLocaleString():null!==i&&void 0!==i?i:"")]}),(0,xa.jsx)("td",{children:null!==(n=null===e||void 0===e?void 0:e.beds)&&void 0!==n?n:"\u2014"}),(0,xa.jsx)("td",{children:null!==(r=null===e||void 0===e?void 0:e.baths)&&void 0!==r?r:"\u2014"}),(0,xa.jsxs)("td",{children:[(0,xa.jsx)(rN,{to:"/admin/properties/".concat(null===e||void 0===e?void 0:e.id),children:"\u053d\u0574\u0562\u0561\u0563\u0580\u0565\u056c"}),(0,xa.jsx)(iN,{onClick:()=>(async e=>{if(window.confirm("\u054b\u0576\u057b\u0565\u055e\u056c \u0563\u0578\u0582\u0575\u0584\u0568"))try{if(ax)await ax(String(e));else{const t="pulse:properties",n=JSON.parse(localStorage.getItem(t)||"[]").filter(t=>String(t.id)!==String(e));localStorage.setItem(t,JSON.stringify(n))}window.dispatchEvent(new Event("pulse:properties-changed")),c()}catch(VO){console.error(VO),alert("\u0549\u057d\u057f\u0561\u0581\u057e\u0565\u0581 \u057b\u0576\u057b\u0565\u056c")}})(null===e||void 0===e?void 0:e.id),children:"\u054b\u0576\u057b\u0565\u056c"})]})]},null===e||void 0===e?void 0:e.id)}),!a&&(!Array.isArray(h)||0===h.length)&&(0,xa.jsx)("tr",{children:(0,xa.jsx)("td",{colSpan:9,style:{color:"#6b7280",padding:16},children:"\u054f\u057e\u0575\u0561\u056c\u0576\u0565\u0580 \u0579\u056f\u0561\u0576"})})]})]})]})}var aN,sN,lN,cN;const uN=vi.div(aN||(aN=t(["\n  border:1px dashed #d1d5db;\n  border-radius:10px;\n  padding:12px;\n  margin-top:12px;\n  background:#fafafa;\n"]))),hN=vi.div(sN||(sN=t(["\n  font-weight:700; margin-bottom:10px; color:#1A3D4D;\n"]))),dN=vi.div(lN||(lN=t(["\n  display:flex; gap:12px; align-items:center; flex-wrap:wrap;\n"]))),fN=vi.div(cN||(cN=t(["\n  position:relative;\n  width:120px; height:60px;    /* 2:1, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c equirectangular */\n  border-radius:8px; overflow:hidden;\n  border:1px solid #e5e7eb; background:#fff;\n\n  img{ width:100%; height:100%; object-fit:cover; display:block; }\n\n  .del{\n    position:absolute; top:6px; right:6px;\n    border:none; background:rgba(0,0,0,.55); color:#fff;\n    border-radius:6px; padding:4px 6px; cursor:pointer;\n  }\n  .badge{\n    position:absolute; left:6px; bottom:6px;\n    background:rgba(17,19,25,.85); color:#fff; font-size:10px;\n    padding:2px 6px; border-radius:999px;\n  }\n"]))),pN=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),mN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2048,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;return new Promise(i=>{const o=new Image;o.onload=()=>{const e=o.width,a=o.height,s=Math.min(t/e,n/a,1),l=Math.round(e*s),c=Math.round(a*s),u=document.createElement("canvas");u.width=l,u.height=c;u.getContext("2d").drawImage(o,0,0,l,c),i(u.toDataURL("image/jpeg",r))},o.onerror=()=>i(e),o.src=e})};function gN(e){let{propertyId:t}=e;const[n,i]=(0,r.useState)([]),o=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=()=>i(rx(t)||[]);e();const n=n=>{var r;const i=null===n||void 0===n||null===(r=n.detail)||void 0===r?void 0:r.propertyId;i&&String(i)!==String(t)||e()};return window.addEventListener("pulse:panos-changed",n),()=>window.removeEventListener("pulse:panos-changed",n)},[t]);const a=e=>{const n=function(e,t){const n=ex(),r=n.findIndex(t=>String(null===t||void 0===t?void 0:t.id)===String(e));if(-1===r)return[];const i=Array.isArray(n[r].panos)?n[r].panos.slice():[];if(t>=0&&t<i.length){i.splice(t,1),n[r]=u(u({},n[r]),{},{panos:i}),tx(n);try{window.dispatchEvent(new CustomEvent("pulse:panos-changed",{detail:{propertyId:String(e),count:i.length}}))}catch(o){}}return i}(t,e);Array.isArray(n)&&i(n)};return(0,xa.jsxs)(uN,{children:[(0,xa.jsx)(hN,{children:"360\xb0 \u043f\u0430\u043d\u043e\u0440\u0430\u043c\u044b"}),(0,xa.jsxs)(dN,{style:{marginBottom:10},children:[(0,xa.jsx)("input",{ref:o,type:"file",accept:"image/*",multiple:!0,onChange:async e=>{const n=Array.from(e.target.files||[]).filter(e=>{var t;return e&&(null===(t=e.type)||void 0===t?void 0:t.startsWith("image/"))});if(!n.length)return;const r=rx(t)||[],a=[];for(const t of n)try{const e=await pN(t);let n=await mN(e,4096,2048,.8);Math.ceil(.75*n.length)>972800&&(n=await mN(n,3e3,1500,.75)),a.push(n)}catch(l){}const s=[...r,...a];ix(t,s),i(s),o.current&&(o.current.value="")}}),(0,xa.jsx)("div",{style:{fontSize:12,color:"#6b7280"},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 equirectangular (2:1), \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 6000\xd73000 \u2014 \u043f\u0440\u0435\u0432\u044c\u044e \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u043d\u0438\u0436\u0435."})]}),!!n.length&&(0,xa.jsx)(dN,{children:n.map((e,t)=>(0,xa.jsxs)(fN,{title:"\u054a\u0561\u0576\u0578\u0580\u0561\u0574\u0561 #".concat(t+1),children:[(0,xa.jsx)("img",{src:e,alt:"pano-".concat(t)}),(0,xa.jsx)("button",{className:"del",type:"button",onClick:()=>a(t),children:"\u2715"}),(0,xa.jsx)("span",{className:"badge",children:t+1})]},t))})]})}var vN,yN,bN,_N,wN,xN,SN,EN,kN,CN,TN,AN,PN,IN,LN,NN,ON,jN,RN,MN;const DN=vi.div(vN||(vN=t(["background:#fff; border-radius:12px; padding:20px;"]))),zN=vi.h2(yN||(yN=t(["margin:0 0 16px 0;"]))),FN=vi.div(bN||(bN=t(["\n  --thumbH: 108px;\n  --cellW: 120px;\n\n  border:1px dashed #d1d5db;\n  border-radius:10px;\n  padding:12px 12px 8px;\n  background:#fafafa;\n  margin-bottom:16px;\n"]))),BN=vi.div(_N||(_N=t(["\n  display:flex; justify-content:space-between; align-items:center;\n  gap:12px; margin-bottom:8px;\n"]))),UN=vi.div(wN||(wN=t(["font-size:12px; color:#6b7280;"]))),VN=vi.div(xN||(xN=t(["\n  display:flex;\n  flex-wrap:nowrap;\n  gap:8px;\n\n  height: var(--thumbH);\n  width:100%;\n  overflow-x:auto;\n  overflow-y:hidden;\n  -webkit-overflow-scrolling:touch;\n\n  scrollbar-width:auto;\n  scrollbar-color:#cbd5e1 #f1f5f9;\n  &::-webkit-scrollbar{ height:10px; }\n  &::-webkit-scrollbar-track{ background:#f1f5f9; border-radius:9999px; }\n  &::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:9999px; }\n  &::-webkit-scrollbar-thumb:hover{ background:#94a3b8; }\n"]))),HN=vi.div(SN||(SN=t(["\n  position:relative;\n  flex:0 0 var(--cellW);\n  height: calc(var(--thumbH) - 16px);\n  border-radius:8px;\n  overflow:hidden;\n  background:#eee;\n  user-select:none;\n\n  img{ width:100%; height:100%; object-fit:cover; display:block; }\n\n  /* \u043a\u043d\u043e\u043f\u043a\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430 \u043c\u0438\u043d\u0438\u0430\u0442\u044e\u0440\u0435 */\n  .btns{\n    position:absolute; left:6px; right:6px; bottom:6px;\n    display:flex; gap:6px; justify-content:space-between;\n  }\n  .btn{\n    background:rgba(0,0,0,.65); color:#fff; border:none; border-radius:6px;\n    padding:4px 6px; font-size:12px; cursor:pointer;\n  }\n  .del{\n    position:absolute; top:6px; right:6px;\n    background:rgba(0,0,0,.65); color:#fff; border:none; border-radius:6px;\n    padding:4px 6px; font-size:12px; cursor:pointer;\n  }\n\n  &.dragging{ opacity:.7; outline:2px solid #111319; }\n  &.drag-over{ outline:2px dashed #111319; }\n"]))),qN=vi.span(EN||(EN=t(["\n  position:absolute; left:6px; top:6px;\n  background:rgba(17,19,25,.85); color:#fff; font-size:10px;\n  padding:2px 6px; border-radius:999px;\n"]))),WN=vi.div(kN||(kN=t(["\n  display:flex; align-items:center; justify-content:space-between;\n  gap:8px; margin-top:8px;\n"]))),KN=vi.button(CN||(CN=t(["\n  min-width:36px; height:28px; border:none; border-radius:8px;\n  background:#e5e7eb; color:#111; font-weight:700; cursor:pointer;\n  opacity:","; pointer-events:",";\n"])),e=>e.disabled?.5:1,e=>e.disabled?"none":"auto"),ZN=vi.div(TN||(TN=t(["\n  display:grid;\n  grid-template-columns: minmax(0,1fr) minmax(0,1fr);\n  gap:12px;\n\n  @media (max-width:900px){\n    grid-template-columns:1fr;\n  }\n"]))),GN=vi.div(AN||(AN=t(["display:flex; flex-direction:column; gap:6px; min-width:0;"]))),$N=vi.label(PN||(PN=t(["font-size:13px; color:#6b7280;"]))),QN=vi.input(IN||(IN=t(["width:100%; padding:10px 12px; border:1px solid #e5e7eb; border-radius:8px;"]))),YN=vi.textarea(LN||(LN=t(["width:100%; min-height:120px; padding:10px 12px; border:1px solid #e5e7eb; border-radius:8px; resize:vertical;"]))),XN=vi.select(NN||(NN=t(["width:100%; padding:10px 12px; border:1px solid #e5e7eb; border-radius:8px;"]))),JN=vi.div(ON||(ON=t(["margin-top:16px; display:flex; gap:10px;"]))),eO=vi.button(jN||(jN=t(["\n  padding:10px 14px; border-radius:8px; border:none; font-weight:600; cursor:pointer;\n  &:first-child{ background:#111319; color:#fff; }\n  &:last-child{ background:#f3f4f6; }\n"]))),tO=vi.div(RN||(RN=t(["\n  display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:8px 16px;\n  @media (max-width:600px){ grid-template-columns:1fr; }\n"]))),nO=vi.label(MN||(MN=t(["\n  display:flex; align-items:center; gap:10px; font-size:14px; color:#374151;\n  input{ width:18px; height:18px; }\n"]))),rO=["\u0555\u0564\u0578\u0580\u0561\u056f\u056b\u0579","\u054d\u057a\u0561 \u0587 \u0574\u0565\u0580\u057d\u0578\u0582\u0574","\u054d\u057a\u0578\u0580\u057f\u0564\u0561\u0570\u056c\u056b\u0573","\u053c\u0578\u0572\u0561\u057e\u0561\u0566\u0561\u0576","\u0531\u0570\u0561\u0566\u0561\u0576\u0563\u0574\u0561\u0576 \u0570\u0561\u0574\u0561\u056f\u0561\u0580\u0563","\u053f\u0565\u0576\u057f\u0580\u0578\u0576\u0561\u056f\u0561\u0576 \u057b\u0565\u057c\u0578\u0582\u0581\u0578\u0582\u0574","\u053b\u0576\u057f\u0565\u0580\u0576\u0565\u057f","\u053c\u057e\u0561\u0581\u0584\u0561\u057f\u0578\u0582\u0576","\u0539\u0578\u0582\u0575\u056c\u0561\u057f\u0580\u057e\u0578\u0582\u0574 \u0565\u0576 \u056f\u0565\u0576\u0564\u0561\u0576\u056b\u0576\u0565\u0580","\u054a\u0561\u057f\u0578\u0582\u0570\u0561\u0576\u056b \u057e\u0561\u0580\u0561\u0563\u0578\u0582\u0575\u0580\u0576\u0565\u0580","\u0531\u0576\u057e\u0573\u0561\u0580 Wi-Fi","\u0531\u057e\u057f\u0578\u056f\u0561\u0575\u0561\u0576\u0561\u057f\u0565\u0572\u056b"],iO={Yerevan:["Ajapnyak","Avan","Davtashen","Erebuni","Kanaker-Zeytun","Kentron","Malatia-Sebastia","Nor Nork","Nork-Marash","Nubarashen","Shengavit","Arabkir"],Aragatsotn:["Ashtarak","Aparan","Talin","Oshakan","Tsaghkahovit"],Ararat:["Artashat","Masis","Vedi","Ararat","Lusarat"],Armavir:["Armavir","Echmiadzin","Metsamor","Baghramyan"],Gegharkunik:["Gavar","Sevan","Vardenis","Martuni","Chambarak"],Lori:["Vanadzor","Alaverdi","Stepanavan","Spitak","Tashir"],Kotayk:["Abovyan","Hrazdan","Charentsavan","Byureghavan","Tsaghkadzor"],Shirak:["Gyumri","Artik","Akhuryan","Maralik"],Syunik:["Kapan","Goris","Sisian","Meghri","Agarak"],VayotsDzor:["Yeghegnadzor","Vayk","Jermuk"],Tavush:["Ijevan","Dilijan","Berd","Noyemberyan"]},oO=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}),aO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1600,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1600,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;return new Promise(i=>{const o=new Image;o.onload=()=>{const e=o.width,a=o.height,s=Math.min(t/e,n/a,1),l=Math.round(e*s),c=Math.round(a*s),u=document.createElement("canvas");u.width=l,u.height=c;u.getContext("2d").drawImage(o,0,0,l,c),i(u.toDataURL("image/jpeg",r))},o.onerror=()=>i(e),o.src=e})};function sO(){var e,t;const n=ve(),i=me(),o=n.id&&"new"!==n.id,[a,s]=(0,r.useState)(()=>$w()),[l,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=!0;return c(!0),Promise.resolve(Yw()).then(t=>{e&&s(Array.isArray(t)?t:[])}).finally(()=>{e&&c(!1)}),()=>{e=!1}},[]);const h=(0,r.useMemo)(()=>{const e=Array.isArray(a)?a:[];return o?e.find(e=>String(e.id)===String(n.id)):null},[a,o,n.id]),[d]=(0,r.useState)(()=>String(Date.now())),f=o?null!==(e=null===h||void 0===h?void 0:h.id)&&void 0!==e?e:n.id:d,[p,m]=(0,r.useState)(()=>{var e,t,n,r,i;return{title:(null===h||void 0===h?void 0:h.title)||"",status:(null===h||void 0===h?void 0:h.status)||"For Sale",type:(null===h||void 0===h?void 0:h.type)||"Apartment",price:null!==(e=null===h||void 0===h?void 0:h.price)&&void 0!==e?e:"",beds:null!==(t=null===h||void 0===h?void 0:h.beds)&&void 0!==t?t:"",baths:null!==(n=null===h||void 0===h?void 0:h.baths)&&void 0!==n?n:"",sqft:null!==(r=null!==(i=null===h||void 0===h?void 0:h.sqft)&&void 0!==i?i:null===h||void 0===h?void 0:h.area)&&void 0!==r?r:"",region:(null===h||void 0===h?void 0:h.region)||"",town:(null===h||void 0===h?void 0:h.town)||"",street:(null===h||void 0===h?void 0:h.street)||"",description:(null===h||void 0===h?void 0:h.description)||"",images:(null===h||void 0===h?void 0:h.images)||(null!==h&&void 0!==h&&h.image?[h.image]:[]),floor:(null===h||void 0===h?void 0:h.floor)||"",amenities:Array.isArray(null===h||void 0===h?void 0:h.amenities)?h.amenities:[]}});(0,r.useEffect)(()=>{(async()=>{if(!o)return;const e=(null===h||void 0===h?void 0:h.id)||n.id;if(e)try{const t=await Xw(e);null!==t&&void 0!==t&&t.length?m(e=>u(u({},e),{},{images:t})):null!==h&&void 0!==h&&h.image&&m(e=>u(u({},e),{},{images:[h.image]}))}catch(t){}})()},[null===h||void 0===h?void 0:h.id]);const g=(0,r.useMemo)(()=>p.region&&iO[p.region]||[],[p.region]);(0,r.useEffect)(()=>{p.region&&g.length&&!g.includes(p.town)&&m(e=>u(u({},e),{},{town:""}))},[p.region,g,p.town]);const v=e=>t=>m(n=>u(u({},n),{},{[e]:t.target.value})),y=(0,r.useRef)(null),[b,_]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!1),S=()=>{const e=y.current;if(!e)return;const t=e.scrollWidth-e.clientWidth;_(e.scrollLeft>0),x(e.scrollLeft<t-1)};(0,r.useEffect)(()=>{const e=y.current;if(!e)return;S();const t=()=>S();return e.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t),()=>{e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[null===(t=p.images)||void 0===t?void 0:t.length]);const E=e=>{const t=y.current;t&&t.scrollBy({left:360*e,behavior:"smooth"})},[k,C]=(0,r.useState)(null),[T,A]=(0,r.useState)(null),P=(e,t,n)=>{const r=[...e];if(t===n||t<0||n<0||t>=r.length||n>=r.length)return r;const[i]=r.splice(t,1);return r.splice(n,0,i),r},I=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},L=()=>A(null),N=()=>{C(null),A(null)};return(0,xa.jsxs)(DN,{children:[(0,xa.jsx)(zN,{children:o?"\u053d\u0574\u0562\u0561\u0563\u0580\u0565\u056c \u0563\u0578\u0582\u0575\u0584\u0568":"\u0531\u057e\u0565\u056c\u0561\u0581\u0576\u0565\u056c \u0563\u0578\u0582\u0575\u0584"}),(0,xa.jsxs)(FN,{children:[(0,xa.jsxs)(BN,{children:[(0,xa.jsx)($N,{htmlFor:"photos",children:"\u053c\u0578\u0582\u057d\u0561\u0576\u056f\u0561\u0580\u0576\u0565\u0580"}),(0,xa.jsx)(UN,{children:"\u0554\u0561\u0577\u0565\u0584 \u0578\u0582 \u057f\u0565\u0572\u0561\u0583\u0578\u056d\u0565\u0584\u055d \u056c\u0578\u0582\u057d\u0561\u0576\u056f\u0561\u0580\u0576\u0565\u0580\u056b \u056f\u0561\u0580\u0563\u0568 \u0583\u0578\u056d\u0565\u056c\u0578\u0582 \u0570\u0561\u0574\u0561\u0580 \u2022 \u0531\u057c\u0561\u057b\u056b\u0576\u0568\u055d \u0577\u0561\u057a\u056b\u056f \u2022 \u0546\u056f\u0561\u0580\u0576\u0565\u0580\u0568 \u0561\u057e\u057f\u0578\u0574\u0561\u057f \u057d\u0565\u0572\u0574\u057e\u0578\u0582\u0574 \u0565\u0576"})]}),(0,xa.jsx)(QN,{id:"photos",type:"file",accept:"image/*",multiple:!0,onChange:e=>(async e=>{const t=Array.from(e).slice(0,80),n=[];for(const i of t)try{const e=await oO(i),t=await aO(e,1600,1600,.8);n.push(t)}catch(r){}n.length&&m(e=>u(u({},e),{},{images:[...e.images||[],...n]})),setTimeout(S,0)})(e.target.files)}),!(!p.images||!p.images.length)&&(0,xa.jsxs)(xa.Fragment,{children:[(0,xa.jsx)(VN,{ref:y,children:p.images.map((e,t)=>(0,xa.jsxs)(HN,{draggable:!0,onDragStart:e=>((e,t)=>{C(t);try{e.dataTransfer.setData("text/plain",String(t))}catch(n){}e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:I,onDragEnter:()=>(e=>{null!==k&&k!==e&&A(e)})(t),onDragLeave:L,onDrop:e=>((e,t)=>{e.preventDefault();const n=e.dataTransfer.getData("text/plain"),r=Number.isInteger(+n)?parseInt(n,10):k;if(null===r||Number.isNaN(r))return C(null),void A(null);m(e=>u(u({},e),{},{images:P(e.images||[],r,t)})),C(null),A(null),setTimeout(S,0)})(e,t),onDragEnd:N,className:"".concat(k===t?"dragging":""," ").concat(T===t?"drag-over":""),title:"Drag to reorder",children:[0===t&&(0,xa.jsx)(qN,{children:"\u0547\u0561\u057a\u056b\u056f"}),(0,xa.jsx)("img",{src:e,alt:"photo-".concat(t)}),(0,xa.jsx)("button",{type:"button",className:"del",onClick:()=>{return e=t,m(t=>u(u({},t),{},{images:(t.images||[]).filter((t,n)=>n!==e)}));var e},children:"\u2715"}),(0,xa.jsxs)("div",{className:"btns",children:[(0,xa.jsx)("button",{type:"button",className:"btn",onClick:()=>(e=>m(t=>u(u({},t),{},{images:P(t.images||[],e,Math.max(0,e-1))})))(t),children:"\u21a4"}),(0,xa.jsx)("button",{type:"button",className:"btn",onClick:()=>(e=>m(t=>u(u({},t),{},{images:P(t.images||[],e,0)})))(t),children:"\u2605"}),(0,xa.jsx)("button",{type:"button",className:"btn",onClick:()=>(e=>m(t=>{var n;return u(u({},t),{},{images:P(t.images||[],e,Math.min(((null===(n=t.images)||void 0===n?void 0:n.length)||1)-1,e+1))})}))(t),children:"\u21a6"})]})]},t))}),(0,xa.jsxs)(WN,{children:[(0,xa.jsx)(KN,{onClick:()=>E(-1),disabled:!b,children:"\u2190"}),(0,xa.jsx)("div",{style:{flex:1}}),(0,xa.jsx)(KN,{onClick:()=>E(1),disabled:!w,children:"\u2192"})]})]})]}),(0,xa.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:10,padding:12,marginBottom:16},children:[(0,xa.jsx)("h3",{style:{margin:"0 0 8px 0"},children:"360\xb0 \u057a\u0561\u0576\u0578\u0580\u0561\u0574\u0561\u0576\u0565\u0580"}),(0,xa.jsx)(gN,{propertyId:f},f),(0,xa.jsx)("div",{style:{fontSize:12,color:"#6b7280",marginTop:8},children:"\u0531\u057e\u0565\u056c\u0561\u0581\u0580\u0565\u0584 \u0574\u0565\u056f \u056f\u0561\u0574 \u0574\u056b \u0584\u0561\u0576\u056b 360\xb0 \u0576\u056f\u0561\u0580 (equirectangular). \u0546\u056f\u0561\u0580\u0576\u0565\u0580\u0568 \u057a\u0561\u0570\u057a\u0561\u0576\u057e\u0578\u0582\u0574 \u0565\u0576 \u057f\u0565\u0572\u0561\u0575\u056b\u0576 \u0587 \u056f\u0581\u057e\u0578\u0582\u0574 \u0565\u0576 \u0561\u0575\u057d \u0563\u0578\u0582\u0575\u0584\u056b\u0576\u0589"})]}),(0,xa.jsxs)(ZN,{children:[(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"title",children:"\u054e\u0565\u0580\u0576\u0561\u0563\u056b\u0580"}),(0,xa.jsx)(QN,{id:"title",placeholder:"\u054e\u0565\u0580\u0576\u0561\u0563\u056b\u0580",value:p.title,onChange:v("title")})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"status",children:"\u0533\u0578\u0580\u056e\u0561\u0580\u0584\u056b \u057f\u0565\u057d\u0561\u056f"}),(0,xa.jsxs)(XN,{id:"status",value:p.status,onChange:v("status"),children:[(0,xa.jsx)("option",{value:"For Sale",children:"\u054e\u0561\u0573\u0561\u057c\u0584"}),(0,xa.jsx)("option",{value:"For Rent",children:"\u054e\u0561\u0580\u0571\u0578\u057e"})]})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"type",children:"\u0533\u0578\u0582\u0575\u0584\u056b \u057f\u0565\u057d\u0561\u056f"}),(0,xa.jsxs)(XN,{id:"type",value:p.type,onChange:v("type"),children:[(0,xa.jsx)("option",{value:"Apartment",children:"\u0532\u0576\u0561\u056f\u0561\u0580\u0561\u0576"}),(0,xa.jsx)("option",{value:"House",children:"\u054f\u0578\u0582\u0576"}),(0,xa.jsx)("option",{value:"Villa",children:"\u054e\u056b\u056c\u056c\u0561"}),(0,xa.jsx)("option",{value:"Land",children:"\u0540\u0578\u0572"})]})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"price",children:"\u0533\u056b\u0576 (USD)"}),(0,xa.jsx)(QN,{id:"price",type:"number",placeholder:"\u0533\u056b\u0576",value:p.price,onChange:v("price")})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"beds",children:"\u054d\u0565\u0576\u0575\u0561\u056f\u0576\u0565\u0580"}),(0,xa.jsx)(QN,{id:"beds",type:"number",min:"0",placeholder:"\u054d\u0565\u0576\u0575\u0561\u056f\u0576\u0565\u0580",value:p.beds,onChange:v("beds")})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"baths",children:"\u054d\u0561\u0576\u0570\u0561\u0576\u0563\u0578\u0582\u0575\u0581"}),(0,xa.jsx)(QN,{id:"baths",type:"number",min:"0",placeholder:"\u054d\u0561\u0576\u0570\u0561\u0576\u0563\u0578\u0582\u0575\u0581",value:p.baths,onChange:v("baths")})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"sqft",children:"\u0544\u0561\u056f\u0565\u0580\u0565\u057d (sqft)"}),(0,xa.jsx)(QN,{id:"sqft",type:"number",min:"0",placeholder:"\u0544\u0561\u056f\u0565\u0580\u0565\u057d (sqft)",value:p.sqft,onChange:v("sqft")})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"floor",children:"\u0540\u0561\u0580\u056f"}),(0,xa.jsx)(QN,{id:"floor",placeholder:"\u0555\u0580. 3/4",value:p.floor||"",onChange:v("floor")})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"region",children:"\u0544\u0561\u0580\u0566"}),(0,xa.jsxs)(XN,{id:"region",value:p.region,onChange:v("region"),children:[(0,xa.jsx)("option",{value:"",children:"\u2014 \u0538\u0576\u057f\u0580\u0565\u0584 \u0574\u0561\u0580\u0566\u0568 \u2014"}),Object.keys(iO).map(e=>(0,xa.jsx)("option",{value:e,children:e},e))]})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"town",children:"\u0554\u0561\u0572\u0561\u0584 / \u054e\u0561\u0580\u0579. \u0577\u0580\u057b\u0561\u0576"}),(0,xa.jsxs)(XN,{id:"town",value:p.town,onChange:v("town"),disabled:!p.region,children:[(0,xa.jsx)("option",{value:"",children:p.region?"\u2014 \u0538\u0576\u057f\u0580\u0565\u0584 \u0584\u0561\u0572\u0561\u0584\u0568 \u2014":"\u0546\u0561\u056d \u0568\u0576\u057f\u0580\u0565\u0584 \u0574\u0561\u0580\u0566\u0568"}),(iO[p.region]||[]).map(e=>(0,xa.jsx)("option",{value:e,children:e},e))]})]}),(0,xa.jsxs)(GN,{children:[(0,xa.jsx)($N,{htmlFor:"street",children:"\u0553\u0578\u0572\u0578\u0581 / \u0540\u0561\u057d\u0581\u0565"}),(0,xa.jsx)(QN,{id:"street",placeholder:"\u0553\u0578\u0572\u0578\u0581 / \u0540\u0561\u057d\u0581\u0565",value:p.street,onChange:v("street")})]}),(0,xa.jsxs)(GN,{style:{gridColumn:"span 2"},children:[(0,xa.jsx)($N,{children:"\u0540\u0561\u0580\u0574\u0561\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0576\u0565\u0580"}),(0,xa.jsx)(tO,{children:rO.map(e=>(0,xa.jsxs)(nO,{children:[(0,xa.jsx)("input",{type:"checkbox",checked:(p.amenities||[]).includes(e),onChange:()=>{return t=e,m(e=>{const n=new Set(e.amenities||[]);return n.has(t)?n.delete(t):n.add(t),u(u({},e),{},{amenities:[...n]})});var t}}),(0,xa.jsx)("span",{children:e})]},e))})]}),(0,xa.jsxs)(GN,{style:{gridColumn:"span 2"},children:[(0,xa.jsx)($N,{htmlFor:"desc",children:"\u0546\u056f\u0561\u0580\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576"}),(0,xa.jsx)(YN,{id:"desc",placeholder:"\u0546\u056f\u0561\u0580\u0561\u0563\u0580\u0578\u0582\u0569\u0575\u0578\u0582\u0576",value:p.description,onChange:v("description")})]})]}),(0,xa.jsxs)(JN,{children:[(0,xa.jsx)(eO,{onClick:async()=>{var e;if(!p.title.trim())return void alert("\u0533\u0580\u0565\u0584 \u057e\u0565\u0580\u0576\u0561\u0563\u056b\u0580");if(!p.price||Number(p.price)<0)return void alert("\u0533\u0580\u0565\u0584 \u0563\u056b\u0576\u0568");if(!p.region)return void alert("\u0538\u0576\u057f\u0580\u0565\u0584 \u0574\u0561\u0580\u0566\u0568");const t=o?null!==(e=null===h||void 0===h?void 0:h.id)&&void 0!==e?e:n.id:d;try{const e=String(f),n=String(t);if(e!==n){const t=rx(e)||[];t.length&&ix(n,t)}}catch(Bn){}const r=u(u(u({},h),p),{},{id:t,image:p.images&&p.images[0]||"",sqft:p.sqft,area:p.sqft,updatedAt:(new Date).toISOString()});try{await ox(r);try{await async function(e){const t=nx(e),n=Fy(Ww,Kw,String(e),"panoramas"),r=await Hb(n);if(!r.empty){const e=$b(Ww);r.forEach(t=>e.delete(t.ref)),await e.commit()}if(Array.isArray(t)&&t.length){const e=400;for(let r=0;r<t.length;r+=e){const i=t.slice(r,r+e),o=$b(Ww);i.forEach((e,t)=>{const i=By(n);o.set(i,{idx:r+t,src:e})}),await o.commit()}}}(t),window.dispatchEvent(new CustomEvent("pulse:panos-changed",{detail:{propertyId:String(t)}}))}catch(VO){console.error("Failed to sync panos to cloud",VO)}window.dispatchEvent(new Event("pulse:properties-changed")),alert("\u054a\u0561\u0570\u057a\u0561\u0576\u057e\u0561\u056e \u0567"),i("/admin/properties")}catch(VO){console.error(VO),alert("\u0549\u057d\u057f\u0561\u0581\u057e\u0565\u0581 \u057a\u0561\u0570\u0565\u056c Firestore-\u0578\u0582\u0574")}},disabled:l,children:l?"\u0532\u0565\u057c\u0576\u0578\u0582\u0574\u2026":"\u054a\u0561\u0570\u057a\u0561\u0576\u0565\u056c"}),(0,xa.jsx)(eO,{type:"button",onClick:()=>i("/admin/properties"),children:"\u0549\u0565\u0572\u0561\u0580\u056f\u0565\u056c"})]})]})}function lO(e){let{children:t}=e;return!!localStorage.getItem("pulse:admin")?t:(0,xa.jsx)(je,{to:"/admin/login",replace:!0})}var cO,uO,hO,dO,fO,pO;const mO=vi.div(cO||(cO=t(["padding: 12px;"]))),gO=vi.h2(uO||(uO=t(["margin: 8px 0 16px;"]))),vO=vi.div(hO||(hO=t(["display:flex; gap:12px; margin-bottom:12px;"]))),yO=vi.input(dO||(dO=t(["\n  flex:1; max-width:420px; padding:10px 12px; border:1px solid #ddd; border-radius:8px;\n"]))),bO=vi.table(fO||(fO=t(["\n  width:100%; border-collapse: collapse; background:#fff; border:1px solid #eee; border-radius:10px; overflow:hidden;\n  th, td { padding:10px 12px; border-bottom:1px solid #f1f1f1; font-size:14px; }\n  th { text-align:left; background:#fafafa; }\n  tr:hover { background:#fffdf4; }\n"]))),_O=vi.div(pO||(pO=t(["color:#888;"])));function wO(e){try{return new Date(Number(e||Date.now())).toLocaleString()}catch(t){return""}}function xO(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),o=async()=>{const e=await async function(e){try{const t=await fetch("".concat("http://localhost:4000").concat(e),{cache:"no-store",credentials:"include"});if(!t.ok)return null;const n=await t.text();return n?JSON.parse(n):null}catch(t){return null}}("/api/customers");t((e=>Array.isArray(e)?e:(null===e||void 0===e?void 0:e.items)||(null===e||void 0===e?void 0:e.data)||[])(e))};(0,r.useEffect)(()=>{o();const e=da("".concat("http://localhost:4000","/chat"),{path:"/socket.io",transports:["websocket","polling"],withCredentials:!0,autoConnect:!0});e.on("connect_error",e=>console.warn("[Customers] WS error:",(null===e||void 0===e?void 0:e.message)||e)),e.emit("join",{role:"admin"});const t=()=>o();e.on("customers:new",t);const n=setInterval(o,2e4);return()=>{clearInterval(n),e.off("customers:new",t),e.close()}},[]);const a=(0,r.useMemo)(()=>{const t=n.trim().toLowerCase();return t?(e||[]).filter(e=>(e.name||"").toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t)||(e.phone||"").toLowerCase().includes(t)||(e.propertyId||"").toLowerCase().includes(t)||(e.note||"").toLowerCase().includes(t)):e},[e,n]);return(0,xa.jsxs)(mO,{children:[(0,xa.jsx)(gO,{children:"\u0540\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u0576\u0565\u0580\u056b \u057f\u057e\u0575\u0561\u056c\u0576\u0565\u0580"}),(0,xa.jsx)(vO,{children:(0,xa.jsx)(yO,{placeholder:"\u0548\u0580\u0578\u0576\u0565\u056c\u055d \u0531\u0576\u0578\u0582\u0576, email, \u0570\u0565\u057c\u0561\u056d\u0578\u057d\u2026",value:n,onChange:e=>i(e.target.value)})}),a.length?(0,xa.jsxs)(bO,{children:[(0,xa.jsx)("thead",{children:(0,xa.jsxs)("tr",{children:[(0,xa.jsx)("th",{children:"\u0531\u0574\u057d\u0561\u0569\u056b\u057e"}),(0,xa.jsx)("th",{children:"\u0531\u0576\u0578\u0582\u0576"}),(0,xa.jsx)("th",{children:"\u0540\u0565\u057c\u0561\u056d\u0578\u057d"}),(0,xa.jsx)("th",{children:"Email"}),(0,xa.jsx)("th",{children:"\u0533\u0578\u0582\u0575\u0584 ID"}),(0,xa.jsx)("th",{children:"\u0546\u0577\u0578\u0582\u0574"})]})}),(0,xa.jsx)("tbody",{children:a.map(e=>(0,xa.jsxs)("tr",{children:[(0,xa.jsx)("td",{children:wO(e.createdAt)}),(0,xa.jsx)("td",{children:e.name}),(0,xa.jsx)("td",{children:e.phone}),(0,xa.jsx)("td",{children:e.email}),(0,xa.jsx)("td",{children:e.propertyId}),(0,xa.jsx)("td",{style:{whiteSpace:"pre-wrap"},children:e.note})]},e.id))})]}):(0,xa.jsx)(_O,{children:"\u0534\u0561\u057f\u0561\u0580\u056f \u0567\u0589 \u053f\u056c\u056b\u0576\u0565\u0576 \u0563\u0580\u0561\u057c\u0578\u0582\u0574\u0576\u0565\u0580, \u0565\u0580\u0562 \u0570\u0561\u0573\u0561\u056d\u0578\u0580\u0564\u0576\u0565\u0580\u0568 \u056c\u0580\u0561\u0581\u0576\u0565\u0576 \u0571\u0587\u0568 Details-\u0578\u0582\u0574\u0589"})]})}var SO,EO,kO,CO,TO;const AO=vi.div(SO||(SO=t(["background:#fff;border-radius:12px;padding:20px;"]))),PO=vi.div(EO||(EO=t(["display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px;"]))),IO=vi.input(kO||(kO=t(["flex:1;max-width:460px;padding:10px 12px;border:1px solid #e5e7eb;border-radius:8px;"]))),LO=vi.table(CO||(CO=t(["\n  width:100%; border-collapse:collapse; background:#fff;\n  th, td{ padding:12px; border-bottom:1px solid #eef0f3; text-align:left; }\n  th{ color:#6b7280; font-weight:600; font-size:13px; white-space:nowrap; }\n"]))),NO=vi.span(TO||(TO=t(["color:#6b7280;"]))),OO=e=>{if(!e)return"\u2014";try{const t=new Date(e),n=t.toLocaleDateString("hy-AM"),r=t.toLocaleTimeString("hy-AM",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return"".concat(n,", ").concat(r)}catch(t){return"\u2014"}};function jO(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[o,a]=(0,r.useState)(!0),s=async()=>{try{a(!0);const e=await fetch("".concat("http://localhost:4000","/api/leads/sell"),{cache:"no-store"}),n=await e.json().catch(()=>({}));t(Array.isArray(null===n||void 0===n?void 0:n.items)?n.items:[])}catch(e){t([])}finally{a(!1)}};(0,r.useEffect)(()=>{s()},[]),(0,r.useEffect)(()=>{const e=da("".concat("http://localhost:4000","/chat"),{path:"/socket.io",transports:["websocket","polling"],withCredentials:!0,autoConnect:!0});e.emit("join",{role:"admin"});const t=()=>s();return e.on("sell:new",t),()=>{e.off("sell:new",t),e.close()}},[]);const l=(0,r.useMemo)(()=>{const t=n.trim().toLowerCase(),r=Array.isArray(e)?e:[];return t?r.filter(e=>[null===e||void 0===e?void 0:e.name,null===e||void 0===e?void 0:e.phone,null===e||void 0===e?void 0:e.email,null===e||void 0===e?void 0:e.propertyType,null===e||void 0===e?void 0:e.dealType,null===e||void 0===e?void 0:e.note,String((null===e||void 0===e?void 0:e.createdAt)||"")].filter(Boolean).join(" ").toLowerCase().includes(t)):r},[e,n]);return(0,xa.jsxs)(AO,{children:[(0,xa.jsxs)(PO,{children:[(0,xa.jsx)("h2",{style:{margin:0},children:"\u054e\u0561\u0573\u0561\u057c\u0584\u056b \u0561\u0576\u0577\u0561\u0580\u056a \u0563\u0578\u0582\u0575\u0584"}),(0,xa.jsx)(IO,{placeholder:"\u0553\u0576\u057f\u0580\u0565\u056c\u055d \u0531\u0576\u0578\u0582\u0576, \u0540\u0565\u057c\u0561\u056d\u0578\u057d, \u054f\u0565\u057d\u0561\u056f, \u0533\u0578\u0580\u056e\u0561\u0580\u0584...",value:n,onChange:e=>i(e.target.value)})]}),(0,xa.jsxs)(LO,{children:[(0,xa.jsx)("thead",{children:(0,xa.jsxs)("tr",{children:[(0,xa.jsx)("th",{children:"\u0531\u0574\u057d\u0561\u0569\u056b\u057e"}),(0,xa.jsx)("th",{children:"\u0531\u0576\u0578\u0582\u0576"}),(0,xa.jsx)("th",{children:"\u0540\u0565\u057c\u0561\u056d\u0578\u057d"}),(0,xa.jsx)("th",{children:"Email"}),(0,xa.jsx)("th",{children:"\u054f\u0565\u057d\u0561\u056f"}),(0,xa.jsx)("th",{children:"\u0533\u0578\u0580\u056e\u0561\u0580\u0584"}),(0,xa.jsx)("th",{children:"\u0546\u0577\u0578\u0582\u0574\u0576\u0565\u0580"})]})}),(0,xa.jsxs)("tbody",{children:[o&&(0,xa.jsx)("tr",{children:(0,xa.jsx)("td",{colSpan:7,children:(0,xa.jsx)(NO,{children:"\u0532\u0565\u057c\u0576\u0578\u0582\u0574\u2026"})})}),!o&&0===l.length&&(0,xa.jsx)("tr",{children:(0,xa.jsx)("td",{colSpan:7,children:(0,xa.jsx)(NO,{children:"\u054f\u057e\u0575\u0561\u056c\u0576\u0565\u0580 \u0579\u056f\u0561\u0576"})})}),l.map(e=>(0,xa.jsxs)("tr",{children:[(0,xa.jsx)("td",{children:OO(e.createdAt)}),(0,xa.jsx)("td",{children:e.name||"\u2014"}),(0,xa.jsx)("td",{children:e.phone||"\u2014"}),(0,xa.jsx)("td",{children:e.email||"\u2014"}),(0,xa.jsx)("td",{children:e.propertyType||"\u2014"}),(0,xa.jsx)("td",{children:e.dealType||"\u2014"}),(0,xa.jsx)("td",{style:{maxWidth:420,whiteSpace:"pre-wrap"},children:e.note||(0,xa.jsx)(NO,{children:"\u2014"})})]},e.id))]})]})]})}const RO=function(){return(0,xa.jsx)(yt,{children:(0,xa.jsxs)(ze,{children:[(0,xa.jsxs)(Me,{element:(0,xa.jsx)(qs,{}),children:[(0,xa.jsx)(Me,{path:"/",element:(0,xa.jsx)(ck,{})}),(0,xa.jsx)(Me,{path:"/about",element:(0,xa.jsx)(Pk,{})}),(0,xa.jsx)(Me,{path:"/contacts",element:(0,xa.jsx)(gC,{})}),(0,xa.jsx)(Me,{path:"/properties",element:(0,xa.jsx)(vC,{})}),(0,xa.jsx)(Me,{path:"/property/:id",element:(0,xa.jsx)(hI,{})}),(0,xa.jsx)(Me,{path:"/sell",element:(0,xa.jsx)(NI,{})})]}),(0,xa.jsx)(Me,{path:"/admin/login",element:(0,xa.jsx)(VL,{})}),(0,xa.jsxs)(Me,{path:"/admin",element:(0,xa.jsx)(lO,{children:(0,xa.jsx)(CL,{})}),children:[(0,xa.jsx)(Me,{index:!0,element:(0,xa.jsx)(je,{to:"properties/new",replace:!0})}),(0,xa.jsx)(Me,{path:"properties",element:(0,xa.jsx)(oN,{})}),(0,xa.jsx)(Me,{path:"properties/new",element:(0,xa.jsx)(sO,{})}),(0,xa.jsx)(Me,{path:"properties/:id",element:(0,xa.jsx)(sO,{})}),(0,xa.jsx)(Me,{path:"chat",element:(0,xa.jsx)(oL,{})}),(0,xa.jsx)(Me,{path:"customers",element:(0,xa.jsx)(xO,{})}),(0,xa.jsx)(Me,{path:"sell-leads",element:(0,xa.jsx)(jO,{})})," "]}),(0,xa.jsx)(Me,{path:"*",element:(0,xa.jsx)(je,{to:"/",replace:!0})})]})})},MO=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)})};var DO;const zO=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=pi.apply(void 0,Pt([e],t,!1)),o="sc-global-".concat(Jn(JSON.stringify(i))),a=new yi(i,o),s=function(e){var t=Xr(),n=r.useContext(ci),i=r.useRef(t.styleSheet.allocateGSInstance(o)).current;return t.styleSheet.server&&l(i,e,t.styleSheet,n,t.stylis),r.useLayoutEffect(function(){if(!t.styleSheet.server)return l(i,e,t.styleSheet,n,t.stylis),function(){return a.removeStyles(i,t.styleSheet)}},[i,e,t.styleSheet,n,t.stylis]),null};function l(e,t,n,r,i){if(a.isStatic)a.renderStyles(e,Fn,n,i);else{var o=At(At({},t),{theme:Vn(t,r,s.defaultProps)});a.renderStyles(e,o,n,i)}}return r.memo(s)}(DO||(DO=t(["\n  html, body, #root {\n    width: 100%;\n    max-width: 100%;\n    overflow-x: hidden;\n  }\n  * { box-sizing: border-box; }\n  img, video, canvas { max-width: 100%; height: auto; display: block; }\n"]))),FO=localStorage.getItem("lang"),BO=FO||"hy";document.documentElement.lang=BO,FO||localStorage.setItem("lang",BO);const UO=sessionStorage.redirect;UO&&(delete sessionStorage.redirect,window.history.replaceState(null,"",UO));i.createRoot(document.getElementById("root")).render((0,xa.jsxs)(r.StrictMode,{children:[(0,xa.jsx)(zO,{}),(0,xa.jsx)(RO,{})]})),MO()})()})();
//# sourceMappingURL=main.334fc5e1.js.map