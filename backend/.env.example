# =========================
# Server
# =========================
PORT=4000
NODE_ENV=development

# Разрешённые источники для CORS (через запятую)
# Локально: http://localhost:3000
# GH Pages фронт: https://meritsaturyan.github.io
CORS_ORIGIN=http://localhost:3000,https://meritsaturyan.github.io

# Публичный URL фронтенда (для ссылок в письмах/чатах и т.п.)
PUBLIC_FRONTEND_URL=https://meritsaturyan.github.io/pulserealty

# =========================
# JWT (аутентификация)
# =========================
JWT_SECRET=change_me_super_secret
JWT_EXPIRES_IN=7d

# =========================
# Socket.io (онлайн-чат)
# =========================
# Разрешённые источники для сокетов (через запятую)
SOCKET_CORS_ORIGINS=http://localhost:3000,https://meritsaturyan.github.io
# TTL хранения истории чата (минуты)
CHAT_HISTORY_TTL_MINUTES=1440

# =========================
# Firebase Admin (Firestore)
# Один из вариантов:
# 1) Указать поля учётки напрямую
# 2) Или дать путь к JSON с сервис-аккаунтом (GOOGLE_APPLICATION_CREDENTIALS)
# =========================
FIREBASE_PROJECT_ID=pulse-realty-95e9b
FIREBASE_CLIENT_EMAIL=your-service-account@pulse-realty-95e9b.iam.gserviceaccount.com
# ВАЖНО: экранируйте переносы строк \n в приватном ключе
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_KEY_LINES...\n-----END PRIVATE KEY-----\n"

# Альтернатива вместо трёх переменных выше:
# GOOGLE_APPLICATION_CREDENTIALS=./serviceAccountKey.json

# Название коллекций (если нужно переопределить)
FIRESTORE_COLLECTION_PROPERTIES=properties
FIRESTORE_COLLECTION_CHATS=chats
FIRESTORE_COLLECTION_USERS=users

# =========================
# Bitrix24 (лиды и каталог)
# =========================
BITRIX_BASE=https://pulserealty.bitrix24.ru/rest
BITRIX_USER_ID=9
BITRIX_WEBHOOK=d4x83g0j370q6zcu

# Эндпоинты (по умолчанию такие)
BITRIX_LEAD_ADD_PATH=crm.lead.add.json
BITRIX_PRODUCT_ADD_PATH=catalog.product.add.json

# =========================
# Rate limiting / Безопасность
# =========================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120

# =========================
# Логи
# =========================
LOG_LEVEL=dev

# =========================
# Админ-пользователь по умолчанию (опционально)
# =========================
ADMIN_DEFAULT_EMAIL=admin@pulse.local
ADMIN_DEFAULT_PASSWORD=change_me_please
